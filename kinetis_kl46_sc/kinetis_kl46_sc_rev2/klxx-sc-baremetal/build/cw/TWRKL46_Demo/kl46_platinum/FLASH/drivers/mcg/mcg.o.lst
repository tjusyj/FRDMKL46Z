   1              		.cpu cortex-m0
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.code	16
  13              		.file	"mcg.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.comm	drs_val,1,1
  18              		.comm	dmx32_val,1,1
  19              		.global	__aeabi_idiv
  20              		.section	.text.pll_init,"ax",%progbits
  21              		.align	2
  22              		.global	pll_init
  23              		.code	16
  24              		.thumb_func
  26              	pll_init:
  27              	.LFB0:
  28              		.file 1 "C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg/mcg.c"
   1:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /*
   2:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * File:    mcg.c
   3:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
   4:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * MCG drivers for Freescale Kinetis L - series devices
   5:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Notes:
   6:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Assumes the MCG mode is in the default FEI mode out of reset
   7:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  */
   8:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
   9:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** #include "common.h"
  10:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** #include "mcg.h"
  11:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  12:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  13:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // global variables
  14:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** extern int core_clk_khz;
  15:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  16:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  17:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** char drs_val, dmx32_val;
  18:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  19:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  20:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  21:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  22:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  23:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /*********************************************************************************************/
  24:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /* Functon name : pll_init
  25:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
  26:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Mode transition: Option to move from FEI to PEE mode or to just initialize the PLL
  27:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
  28:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * This function initializess PLL0. Either OSC0 is selected for the
  29:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * reference clock source. The oscillators can be configured to use a crystal or take in an
  30:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * external square wave clock.
  31:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Using the function parameter names the PLL frequency is calculated as follows:
  32:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * PLL freq = ((crystal_val / prdiv_val) * vdiv_val)
  33:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Refer to the readme file in the mcg driver directory for examples of pll_init configurations.
  34:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * All parameters must be provided, for example crystal_val must be provided even if the
  35:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * oscillator associated with that parameter is already initialized.
  36:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * The various passed parameters are checked to ensure they are within the allowed range. If any
  37:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * of these checks fail the driver will exit and return a fail/error code. An error code will
  38:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * also be returned if any error occurs during the PLL initialization sequence. Refer to the
  39:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * readme file in the mcg driver directory for a list of all these codes.
  40:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
  41:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Parameters: crystal_val - external clock frequency in Hz either from a crystal or square
  42:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           wave clock source
  43:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             hgo_val     - selects whether low power or high gain mode is selected
  44:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           for the crystal oscillator. This has no meaning if an
  45:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           external clock is used.
  46:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             erefs_val   - selects external clock (=0) or crystal osc (=1)
  47:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             prdiv_val   - value to divide the external clock source by to create the desired
  48:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           PLL reference clock frequency
  49:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             vdiv_val    - value to multiply the PLL reference clock frequency by
  50:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             mcgout_select  - 0 if the PLL is just to be enabled, non-zero if the PLL is used
  51:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                              to provide the MCGOUT clock for the system.
  52:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
  53:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Return value : PLL frequency (Hz) or error code
  54:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  */
  55:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  56:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int pll_init(int crystal_val, unsigned char hgo_val, unsigned char erefs_val, signed char prdiv_val
  57:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
  29              		.loc 1 57 0
  30              		.cfi_startproc
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 7, -8
  35              		.cfi_offset 14, -4
  36 0002 86B0     		sub	sp, sp, #24
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 32
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
  43 0008 081C     		mov	r0, r1
  44 000a 111C     		mov	r1, r2
  45 000c 1A1C     		mov	r2, r3
  46 000e FB1C     		add	r3, r7, #3
  47 0010 1870     		strb	r0, [r3]
  48 0012 BB1C     		add	r3, r7, #2
  49 0014 1970     		strb	r1, [r3]
  50 0016 7B1C     		add	r3, r7, #1
  51 0018 1A70     		strb	r2, [r3]
  58:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char frdiv_val;
  59:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
  60:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char prdiv, vdiv;
  61:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
  62:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int ref_freq;
  63:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int pll_freq;
  64:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  65:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // check if in FEI mode
  66:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
  52              		.loc 1 66 0
  53 001a C24B     		ldr	r3, .L61
  54 001c 9B79     		ldrb	r3, [r3, #6]
  55 001e DBB2     		uxtb	r3, r3
  56 0020 1A1C     		mov	r2, r3
  57 0022 0C23     		mov	r3, #12
  58 0024 1340     		and	r3, r2
  59 0026 9B08     		lsr	r3, r3, #2
  60 0028 0DD1     		bne	.L2
  67:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
  61              		.loc 1 67 0
  62 002a BE4B     		ldr	r3, .L61
  63 002c 9B79     		ldrb	r3, [r3, #6]
  64 002e DBB2     		uxtb	r3, r3
  65 0030 1A1C     		mov	r2, r3
  66 0032 1023     		mov	r3, #16
  67 0034 1340     		and	r3, r2
  66:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
  68              		.loc 1 66 0
  69 0036 06D0     		beq	.L2
  68:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK))))                                 // check PLLS mux has selecte
  70              		.loc 1 68 0
  71 0038 BA4B     		ldr	r3, .L61
  72 003a 9B79     		ldrb	r3, [r3, #6]
  73 003c DBB2     		uxtb	r3, r3
  74 003e 1A1C     		mov	r2, r3
  75 0040 2023     		mov	r3, #32
  76 0042 1340     		and	r3, r2
  66:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
  77              		.loc 1 66 0
  78 0044 01D0     		beq	.L3
  79              	.L2:
  69:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
  70:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x1;                                                     // return error code
  80              		.loc 1 70 0
  81 0046 0123     		mov	r3, #1
  82 0048 73E2     		b	.L4
  83              	.L3:
  71:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
  72:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  73:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // check external frequency is less than the maximum frequency
  74:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if  (crystal_val > 50000000) {return 0x21;}
  84              		.loc 1 74 0
  85 004a 7A68     		ldr	r2, [r7, #4]
  86 004c B64B     		ldr	r3, .L61+4
  87 004e 9A42     		cmp	r2, r3
  88 0050 01DD     		ble	.L5
  89              		.loc 1 74 0 is_stmt 0
  90 0052 2123     		mov	r3, #33
  91 0054 6DE2     		b	.L4
  92              	.L5:
  75:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  76:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // check crystal frequency is within spec. if crystal osc is being used as PLL ref
  77:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
  93              		.loc 1 77 0 is_stmt 1
  94 0056 BB1C     		add	r3, r7, #2
  95 0058 1B78     		ldrb	r3, [r3]
  96 005a 002B     		cmp	r3, #0
  97 005c 09D0     		beq	.L6
  78:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
  79:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((crystal_val < 3000000) || (crystal_val > 32000000)) {return 0x22;} // return 1 if one of t
  98              		.loc 1 79 0
  99 005e 7A68     		ldr	r2, [r7, #4]
 100 0060 B24B     		ldr	r3, .L61+8
 101 0062 9A42     		cmp	r2, r3
 102 0064 03DD     		ble	.L7
 103              		.loc 1 79 0 is_stmt 0
 104 0066 7A68     		ldr	r2, [r7, #4]
 105 0068 B14B     		ldr	r3, .L61+12
 106 006a 9A42     		cmp	r2, r3
 107 006c 01DD     		ble	.L6
 108              	.L7:
 109              		.loc 1 79 0
 110 006e 2223     		mov	r3, #34
 111 0070 5FE2     		b	.L4
 112              	.L6:
  80:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
  81:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  82:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // make sure HGO will never be greater than 1. Could return an error instead if desired.
  83:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (hgo_val > 0)
 113              		.loc 1 83 0 is_stmt 1
 114 0072 FB1C     		add	r3, r7, #3
 115 0074 1B78     		ldrb	r3, [r3]
 116 0076 002B     		cmp	r3, #0
 117 0078 02D0     		beq	.L8
  84:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
  85:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     hgo_val = 1; // force hgo_val to 1 if > 0
 118              		.loc 1 85 0
 119 007a FB1C     		add	r3, r7, #3
 120 007c 0122     		mov	r2, #1
 121 007e 1A70     		strb	r2, [r3]
 122              	.L8:
  86:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
  87:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  88:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check PLL divider settings are within spec.
  89:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((prdiv_val < 1) || (prdiv_val > 25)) {return 0x41;}
 123              		.loc 1 89 0
 124 0080 7B1C     		add	r3, r7, #1
 125 0082 1B78     		ldrb	r3, [r3]
 126 0084 5BB2     		sxtb	r3, r3
 127 0086 002B     		cmp	r3, #0
 128 0088 04DD     		ble	.L9
 129              		.loc 1 89 0 is_stmt 0
 130 008a 7B1C     		add	r3, r7, #1
 131 008c 1B78     		ldrb	r3, [r3]
 132 008e 5BB2     		sxtb	r3, r3
 133 0090 192B     		cmp	r3, #25
 134 0092 01DD     		ble	.L10
 135              	.L9:
 136              		.loc 1 89 0
 137 0094 4123     		mov	r3, #65
 138 0096 4CE2     		b	.L4
 139              	.L10:
  90:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((vdiv_val < 24) || (vdiv_val > 50)) {return 0x42;}
 140              		.loc 1 90 0 is_stmt 1
 141 0098 3B1C     		mov	r3, r7
 142 009a 2033     		add	r3, r3, #32
 143 009c 1B78     		ldrb	r3, [r3]
 144 009e 5BB2     		sxtb	r3, r3
 145 00a0 172B     		cmp	r3, #23
 146 00a2 05DD     		ble	.L11
 147              		.loc 1 90 0 is_stmt 0
 148 00a4 3B1C     		mov	r3, r7
 149 00a6 2033     		add	r3, r3, #32
 150 00a8 1B78     		ldrb	r3, [r3]
 151 00aa 5BB2     		sxtb	r3, r3
 152 00ac 322B     		cmp	r3, #50
 153 00ae 01DD     		ble	.L12
 154              	.L11:
 155              		.loc 1 90 0
 156 00b0 4223     		mov	r3, #66
 157 00b2 3EE2     		b	.L4
 158              	.L12:
  91:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  92:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check PLL reference clock frequency is within spec.
  93:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   ref_freq = crystal_val / prdiv_val;
 159              		.loc 1 93 0 is_stmt 1
 160 00b4 7B1C     		add	r3, r7, #1
 161 00b6 1B78     		ldrb	r3, [r3]
 162 00b8 5BB2     		sxtb	r3, r3
 163 00ba 7868     		ldr	r0, [r7, #4]
 164 00bc 191C     		mov	r1, r3
 165 00be FFF7FEFF 		bl	__aeabi_idiv
 166 00c2 031C     		mov	r3, r0
 167 00c4 3B61     		str	r3, [r7, #16]
  94:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((ref_freq < 2000000) || (ref_freq > 4000000)) {return 0x43;}
 168              		.loc 1 94 0
 169 00c6 3A69     		ldr	r2, [r7, #16]
 170 00c8 9A4B     		ldr	r3, .L61+16
 171 00ca 9A42     		cmp	r2, r3
 172 00cc 03DD     		ble	.L13
 173              		.loc 1 94 0 is_stmt 0
 174 00ce 3A69     		ldr	r2, [r7, #16]
 175 00d0 994B     		ldr	r3, .L61+20
 176 00d2 9A42     		cmp	r2, r3
 177 00d4 01DD     		ble	.L14
 178              	.L13:
 179              		.loc 1 94 0
 180 00d6 4323     		mov	r3, #67
 181 00d8 2BE2     		b	.L4
 182              	.L14:
  95:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
  96:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check PLL output frequency is within spec.
  97:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   pll_freq = (crystal_val / prdiv_val) * vdiv_val;
 183              		.loc 1 97 0 is_stmt 1
 184 00da 7B1C     		add	r3, r7, #1
 185 00dc 1B78     		ldrb	r3, [r3]
 186 00de 5BB2     		sxtb	r3, r3
 187 00e0 7868     		ldr	r0, [r7, #4]
 188 00e2 191C     		mov	r1, r3
 189 00e4 FFF7FEFF 		bl	__aeabi_idiv
 190 00e8 031C     		mov	r3, r0
 191 00ea 3A1C     		mov	r2, r7
 192 00ec 2032     		add	r2, r2, #32
 193 00ee 1278     		ldrb	r2, [r2]
 194 00f0 52B2     		sxtb	r2, r2
 195 00f2 5343     		mul	r3, r2
 196 00f4 FB60     		str	r3, [r7, #12]
  98:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((pll_freq < 48000000) || (pll_freq > 100000000)) {return 0x45;}
 197              		.loc 1 98 0
 198 00f6 FA68     		ldr	r2, [r7, #12]
 199 00f8 904B     		ldr	r3, .L61+24
 200 00fa 9A42     		cmp	r2, r3
 201 00fc 03DD     		ble	.L15
 202              		.loc 1 98 0 is_stmt 0
 203 00fe FA68     		ldr	r2, [r7, #12]
 204 0100 8F4B     		ldr	r3, .L61+28
 205 0102 9A42     		cmp	r2, r3
 206 0104 01DD     		ble	.L16
 207              	.L15:
 208              		.loc 1 98 0
 209 0106 4523     		mov	r3, #69
 210 0108 13E2     		b	.L4
 211              	.L16:
  99:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 100:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // configure the MCG_C2 register
 101:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // the RANGE value is determined by the external frequency. Since the RANGE parameter affects the
 102:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // it still needs to be set correctly even if the oscillator is not being used
 103:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       
 104:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C2;
 212              		.loc 1 104 0 is_stmt 1
 213 010a 864A     		ldr	r2, .L61
 214 010c 3B1C     		mov	r3, r7
 215 010e 1633     		add	r3, r3, #22
 216 0110 5278     		ldrb	r2, [r2, #1]
 217 0112 1A70     		strb	r2, [r3]
 105:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C2_RANGE0_MASK | MCG_C2_HGO0_MASK | MCG_C2_EREFS0_MASK); // clear fields before
 218              		.loc 1 105 0
 219 0114 3B1C     		mov	r3, r7
 220 0116 1633     		add	r3, r3, #22
 221 0118 3A1C     		mov	r2, r7
 222 011a 1632     		add	r2, r2, #22
 223 011c 1278     		ldrb	r2, [r2]
 224 011e 3C21     		mov	r1, #60
 225 0120 8A43     		bic	r2, r1
 226 0122 1A70     		strb	r2, [r3]
 106:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     
 107:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 8000000)
 227              		.loc 1 107 0
 228 0124 7A68     		ldr	r2, [r7, #4]
 229 0126 874B     		ldr	r3, .L61+32
 230 0128 9A42     		cmp	r2, r3
 231 012a 14DC     		bgt	.L17
 108:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 109:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(1) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 232              		.loc 1 109 0
 233 012c FB1C     		add	r3, r7, #3
 234 012e 1B78     		ldrb	r3, [r3]
 235 0130 DB00     		lsl	r3, r3, #3
 236 0132 DAB2     		uxtb	r2, r3
 237 0134 BB1C     		add	r3, r7, #2
 238 0136 1B78     		ldrb	r3, [r3]
 239 0138 9B00     		lsl	r3, r3, #2
 240 013a DBB2     		uxtb	r3, r3
 241 013c 1343     		orr	r3, r2
 242 013e DAB2     		uxtb	r2, r3
 243 0140 3B1C     		mov	r3, r7
 244 0142 1633     		add	r3, r3, #22
 245 0144 1B78     		ldrb	r3, [r3]
 246 0146 1343     		orr	r3, r2
 247 0148 DAB2     		uxtb	r2, r3
 248 014a 3B1C     		mov	r3, r7
 249 014c 1633     		add	r3, r3, #22
 250 014e 1021     		mov	r1, #16
 251 0150 0A43     		orr	r2, r1
 252 0152 1A70     		strb	r2, [r3]
 253 0154 13E0     		b	.L18
 254              	.L17:
 110:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 111:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
 112:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 113:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(2) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 255              		.loc 1 113 0
 256 0156 FB1C     		add	r3, r7, #3
 257 0158 1B78     		ldrb	r3, [r3]
 258 015a DB00     		lsl	r3, r3, #3
 259 015c DAB2     		uxtb	r2, r3
 260 015e BB1C     		add	r3, r7, #2
 261 0160 1B78     		ldrb	r3, [r3]
 262 0162 9B00     		lsl	r3, r3, #2
 263 0164 DBB2     		uxtb	r3, r3
 264 0166 1343     		orr	r3, r2
 265 0168 DAB2     		uxtb	r2, r3
 266 016a 3B1C     		mov	r3, r7
 267 016c 1633     		add	r3, r3, #22
 268 016e 1B78     		ldrb	r3, [r3]
 269 0170 1343     		orr	r3, r2
 270 0172 DAB2     		uxtb	r2, r3
 271 0174 3B1C     		mov	r3, r7
 272 0176 1633     		add	r3, r3, #22
 273 0178 2021     		mov	r1, #32
 274 017a 0A43     		orr	r2, r1
 275 017c 1A70     		strb	r2, [r3]
 276              	.L18:
 114:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 115:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 = temp_reg;
 277              		.loc 1 115 0
 278 017e 694B     		ldr	r3, .L61
 279 0180 3A1C     		mov	r2, r7
 280 0182 1632     		add	r2, r2, #22
 281 0184 1278     		ldrb	r2, [r2]
 282 0186 5A70     		strb	r2, [r3, #1]
 116:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 117:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // determine FRDIV based on reference clock frequency
 118:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // since the external frequency has already been checked only the maximum frequency for each FRDI
 119:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 1250000) {frdiv_val = 0;}
 283              		.loc 1 119 0
 284 0188 7A68     		ldr	r2, [r7, #4]
 285 018a 6F4B     		ldr	r3, .L61+36
 286 018c 9A42     		cmp	r2, r3
 287 018e 04DC     		bgt	.L19
 288              		.loc 1 119 0 is_stmt 0
 289 0190 3B1C     		mov	r3, r7
 290 0192 1733     		add	r3, r3, #23
 291 0194 0022     		mov	r2, #0
 292 0196 1A70     		strb	r2, [r3]
 293 0198 27E0     		b	.L20
 294              	.L19:
 120:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 2500000) {frdiv_val = 1;}
 295              		.loc 1 120 0 is_stmt 1
 296 019a 7A68     		ldr	r2, [r7, #4]
 297 019c 6B4B     		ldr	r3, .L61+40
 298 019e 9A42     		cmp	r2, r3
 299 01a0 04DC     		bgt	.L21
 300              		.loc 1 120 0 is_stmt 0
 301 01a2 3B1C     		mov	r3, r7
 302 01a4 1733     		add	r3, r3, #23
 303 01a6 0122     		mov	r2, #1
 304 01a8 1A70     		strb	r2, [r3]
 305 01aa 1EE0     		b	.L20
 306              	.L21:
 121:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 5000000) {frdiv_val = 2;}
 307              		.loc 1 121 0 is_stmt 1
 308 01ac 7A68     		ldr	r2, [r7, #4]
 309 01ae 684B     		ldr	r3, .L61+44
 310 01b0 9A42     		cmp	r2, r3
 311 01b2 04DC     		bgt	.L22
 312              		.loc 1 121 0 is_stmt 0
 313 01b4 3B1C     		mov	r3, r7
 314 01b6 1733     		add	r3, r3, #23
 315 01b8 0222     		mov	r2, #2
 316 01ba 1A70     		strb	r2, [r3]
 317 01bc 15E0     		b	.L20
 318              	.L22:
 122:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 10000000) {frdiv_val = 3;}
 319              		.loc 1 122 0 is_stmt 1
 320 01be 7A68     		ldr	r2, [r7, #4]
 321 01c0 644B     		ldr	r3, .L61+48
 322 01c2 9A42     		cmp	r2, r3
 323 01c4 04DC     		bgt	.L23
 324              		.loc 1 122 0 is_stmt 0
 325 01c6 3B1C     		mov	r3, r7
 326 01c8 1733     		add	r3, r3, #23
 327 01ca 0322     		mov	r2, #3
 328 01cc 1A70     		strb	r2, [r3]
 329 01ce 0CE0     		b	.L20
 330              	.L23:
 123:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 20000000) {frdiv_val = 4;}
 331              		.loc 1 123 0 is_stmt 1
 332 01d0 7A68     		ldr	r2, [r7, #4]
 333 01d2 614B     		ldr	r3, .L61+52
 334 01d4 9A42     		cmp	r2, r3
 335 01d6 04DC     		bgt	.L24
 336              		.loc 1 123 0 is_stmt 0
 337 01d8 3B1C     		mov	r3, r7
 338 01da 1733     		add	r3, r3, #23
 339 01dc 0422     		mov	r2, #4
 340 01de 1A70     		strb	r2, [r3]
 341 01e0 03E0     		b	.L20
 342              	.L24:
 124:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else {frdiv_val = 5;}
 343              		.loc 1 124 0 is_stmt 1
 344 01e2 3B1C     		mov	r3, r7
 345 01e4 1733     		add	r3, r3, #23
 346 01e6 0522     		mov	r2, #5
 347 01e8 1A70     		strb	r2, [r3]
 348              	.L20:
 125:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 126:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Select external oscillator and Reference Divider and clear IREFS to start ext osc
 127:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // If IRCLK is required it must be enabled outside of this driver, existing state will be maintai
 128:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // CLKS=2, FRDIV=frdiv_val, IREFS=0, IRCLKEN=0, IREFSTEN=0
 129:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 349              		.loc 1 129 0
 350 01ea 4E4A     		ldr	r2, .L61
 351 01ec 3B1C     		mov	r3, r7
 352 01ee 1633     		add	r3, r3, #22
 353 01f0 1278     		ldrb	r2, [r2]
 354 01f2 1A70     		strb	r2, [r3]
 130:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C1_CLKS_MASK | MCG_C1_FRDIV_MASK | MCG_C1_IREFS_MASK); // Clear values in these
 355              		.loc 1 130 0
 356 01f4 3B1C     		mov	r3, r7
 357 01f6 1633     		add	r3, r3, #22
 358 01f8 3A1C     		mov	r2, r7
 359 01fa 1632     		add	r2, r2, #22
 360 01fc 1178     		ldrb	r1, [r2]
 361 01fe 0322     		mov	r2, #3
 362 0200 0A40     		and	r2, r1
 363 0202 1A70     		strb	r2, [r3]
 131:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= (MCG_C1_CLKS(2) | MCG_C1_FRDIV(frdiv_val)); // Set the required CLKS and FRDIV values
 364              		.loc 1 131 0
 365 0204 3B1C     		mov	r3, r7
 366 0206 1733     		add	r3, r3, #23
 367 0208 1B78     		ldrb	r3, [r3]
 368 020a DB00     		lsl	r3, r3, #3
 369 020c DAB2     		uxtb	r2, r3
 370 020e 3823     		mov	r3, #56
 371 0210 1340     		and	r3, r2
 372 0212 DAB2     		uxtb	r2, r3
 373 0214 3B1C     		mov	r3, r7
 374 0216 1633     		add	r3, r3, #22
 375 0218 1B78     		ldrb	r3, [r3]
 376 021a 1343     		orr	r3, r2
 377 021c DAB2     		uxtb	r2, r3
 378 021e 3B1C     		mov	r3, r7
 379 0220 1633     		add	r3, r3, #22
 380 0222 8021     		mov	r1, #128
 381 0224 4942     		neg	r1, r1
 382 0226 0A43     		orr	r2, r1
 383 0228 1A70     		strb	r2, [r3]
 132:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg;
 384              		.loc 1 132 0
 385 022a 3E4B     		ldr	r3, .L61
 386 022c 3A1C     		mov	r2, r7
 387 022e 1632     		add	r2, r2, #22
 388 0230 1278     		ldrb	r2, [r2]
 389 0232 1A70     		strb	r2, [r3]
 133:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 134:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // if the external oscillator is used need to wait for OSCINIT to set
 135:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 390              		.loc 1 135 0
 391 0234 BB1C     		add	r3, r7, #2
 392 0236 1B78     		ldrb	r3, [r3]
 393 0238 002B     		cmp	r3, #0
 394 023a 24D0     		beq	.L25
 136:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 137:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 20000 ; i++)
 395              		.loc 1 137 0
 396 023c 3B1C     		mov	r3, r7
 397 023e 1433     		add	r3, r3, #20
 398 0240 0022     		mov	r2, #0
 399 0242 1A80     		strh	r2, [r3]
 400 0244 0DE0     		b	.L26
 401              	.L29:
 138:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
 139:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (MCG_S & MCG_S_OSCINIT0_MASK) break; // jump out early if OSCINIT sets before loop finishe
 402              		.loc 1 139 0
 403 0246 374B     		ldr	r3, .L61
 404 0248 9B79     		ldrb	r3, [r3, #6]
 405 024a DBB2     		uxtb	r3, r3
 406 024c 1A1C     		mov	r2, r3
 407 024e 0223     		mov	r3, #2
 408 0250 1340     		and	r3, r2
 409 0252 0ED1     		bne	.L55
 410              	.L27:
 137:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 20000 ; i++)
 411              		.loc 1 137 0
 412 0254 3B1C     		mov	r3, r7
 413 0256 1433     		add	r3, r3, #20
 414 0258 3A1C     		mov	r2, r7
 415 025a 1432     		add	r2, r2, #20
 416 025c 1288     		ldrh	r2, [r2]
 417 025e 0132     		add	r2, r2, #1
 418 0260 1A80     		strh	r2, [r3]
 419              	.L26:
 137:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 20000 ; i++)
 420              		.loc 1 137 0 is_stmt 0
 421 0262 3B1C     		mov	r3, r7
 422 0264 1433     		add	r3, r3, #20
 423 0266 0021     		mov	r1, #0
 424 0268 5A5E     		ldrsh	r2, [r3, r1]
 425 026a 3C4B     		ldr	r3, .L61+56
 426 026c 9A42     		cmp	r2, r3
 427 026e EADD     		ble	.L29
 428 0270 00E0     		b	.L28
 429              	.L55:
 430              		.loc 1 139 0 is_stmt 1
 431 0272 C046     		mov	r8, r8
 432              	.L28:
 140:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
 141:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_OSCINIT0_MASK)) return 0x23; // check bit is really set and return with error
 433              		.loc 1 141 0
 434 0274 2B4B     		ldr	r3, .L61
 435 0276 9B79     		ldrb	r3, [r3, #6]
 436 0278 DBB2     		uxtb	r3, r3
 437 027a 1A1C     		mov	r2, r3
 438 027c 0223     		mov	r3, #2
 439 027e 1340     		and	r3, r2
 440 0280 01D1     		bne	.L25
 441              		.loc 1 141 0 is_stmt 0
 442 0282 2323     		mov	r3, #35
 443 0284 55E1     		b	.L4
 444              	.L25:
 142:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 143:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 144:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // wait for Reference clock Status bit to clear
 145:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 445              		.loc 1 145 0 is_stmt 1
 446 0286 3B1C     		mov	r3, r7
 447 0288 1433     		add	r3, r3, #20
 448 028a 0022     		mov	r2, #0
 449 028c 1A80     		strh	r2, [r3]
 450 028e 0DE0     		b	.L30
 451              	.L33:
 146:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 147:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_IREFST_MASK)) break; // jump out early if IREFST clears before loop finishe
 452              		.loc 1 147 0
 453 0290 244B     		ldr	r3, .L61
 454 0292 9B79     		ldrb	r3, [r3, #6]
 455 0294 DBB2     		uxtb	r3, r3
 456 0296 1A1C     		mov	r2, r3
 457 0298 1023     		mov	r3, #16
 458 029a 1340     		and	r3, r2
 459 029c 0ED0     		beq	.L56
 460              	.L31:
 145:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 461              		.loc 1 145 0
 462 029e 3B1C     		mov	r3, r7
 463 02a0 1433     		add	r3, r3, #20
 464 02a2 3A1C     		mov	r2, r7
 465 02a4 1432     		add	r2, r2, #20
 466 02a6 1288     		ldrh	r2, [r2]
 467 02a8 0132     		add	r2, r2, #1
 468 02aa 1A80     		strh	r2, [r3]
 469              	.L30:
 145:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 470              		.loc 1 145 0 is_stmt 0
 471 02ac 3B1C     		mov	r3, r7
 472 02ae 1433     		add	r3, r3, #20
 473 02b0 0021     		mov	r1, #0
 474 02b2 5A5E     		ldrsh	r2, [r3, r1]
 475 02b4 2A4B     		ldr	r3, .L61+60
 476 02b6 9A42     		cmp	r2, r3
 477 02b8 EADD     		ble	.L33
 478 02ba 00E0     		b	.L32
 479              	.L56:
 480              		.loc 1 147 0 is_stmt 1
 481 02bc C046     		mov	r8, r8
 482              	.L32:
 148:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 149:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_S & MCG_S_IREFST_MASK) return 0x11; // check bit is really clear and return with error if
 483              		.loc 1 149 0
 484 02be 194B     		ldr	r3, .L61
 485 02c0 9B79     		ldrb	r3, [r3, #6]
 486 02c2 DBB2     		uxtb	r3, r3
 487 02c4 1A1C     		mov	r2, r3
 488 02c6 1023     		mov	r3, #16
 489 02c8 1340     		and	r3, r2
 490 02ca 01D0     		beq	.L34
 491              		.loc 1 149 0 is_stmt 0
 492 02cc 1123     		mov	r3, #17
 493 02ce 30E1     		b	.L4
 494              	.L34:
 150:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 151:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Wait for clock status bits to show clock source is ext ref clk
 152:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 495              		.loc 1 152 0 is_stmt 1
 496 02d0 3B1C     		mov	r3, r7
 497 02d2 1433     		add	r3, r3, #20
 498 02d4 0022     		mov	r2, #0
 499 02d6 1A80     		strh	r2, [r3]
 500 02d8 0FE0     		b	.L35
 501              	.L38:
 153:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 154:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) break; // jump out early if CLKST
 502              		.loc 1 154 0
 503 02da 124B     		ldr	r3, .L61
 504 02dc 9B79     		ldrb	r3, [r3, #6]
 505 02de DBB2     		uxtb	r3, r3
 506 02e0 1A1C     		mov	r2, r3
 507 02e2 0C23     		mov	r3, #12
 508 02e4 1340     		and	r3, r2
 509 02e6 9B08     		lsr	r3, r3, #2
 510 02e8 022B     		cmp	r3, #2
 511 02ea 0ED0     		beq	.L57
 512              	.L36:
 152:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 513              		.loc 1 152 0
 514 02ec 3B1C     		mov	r3, r7
 515 02ee 1433     		add	r3, r3, #20
 516 02f0 3A1C     		mov	r2, r7
 517 02f2 1432     		add	r2, r2, #20
 518 02f4 1288     		ldrh	r2, [r2]
 519 02f6 0132     		add	r2, r2, #1
 520 02f8 1A80     		strh	r2, [r3]
 521              	.L35:
 152:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 522              		.loc 1 152 0 is_stmt 0
 523 02fa 3B1C     		mov	r3, r7
 524 02fc 1433     		add	r3, r3, #20
 525 02fe 0021     		mov	r1, #0
 526 0300 5A5E     		ldrsh	r2, [r3, r1]
 527 0302 174B     		ldr	r3, .L61+60
 528 0304 9A42     		cmp	r2, r3
 529 0306 E8DD     		ble	.L38
 530 0308 00E0     		b	.L37
 531              	.L57:
 532              		.loc 1 154 0 is_stmt 1
 533 030a C046     		mov	r8, r8
 534              	.L37:
 155:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 156:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x2) return 0x1A; // check EXT CLK is re
 535              		.loc 1 156 0
 536 030c 054B     		ldr	r3, .L61
 537 030e 9B79     		ldrb	r3, [r3, #6]
 538 0310 DBB2     		uxtb	r3, r3
 539 0312 1A1C     		mov	r2, r3
 540 0314 0C23     		mov	r3, #12
 541 0316 1340     		and	r3, r2
 542 0318 9B08     		lsr	r3, r3, #2
 543 031a 022B     		cmp	r3, #2
 544 031c 22D0     		beq	.L39
 545              		.loc 1 156 0 is_stmt 0
 546 031e 1A23     		mov	r3, #26
 547 0320 07E1     		b	.L4
 548              	.L62:
 549 0322 C046     		.align	2
 550              	.L61:
 551 0324 00400640 		.word	1074151424
 552 0328 80F0FA02 		.word	50000000
 553 032c BFC62D00 		.word	2999999
 554 0330 0048E801 		.word	32000000
 555 0334 7F841E00 		.word	1999999
 556 0338 00093D00 		.word	4000000
 557 033c FF6BDC02 		.word	47999999
 558 0340 00E1F505 		.word	100000000
 559 0344 00127A00 		.word	8000000
 560 0348 D0121300 		.word	1250000
 561 034c A0252600 		.word	2500000
 562 0350 404B4C00 		.word	5000000
 563 0354 80969800 		.word	10000000
 564 0358 002D3101 		.word	20000000
 565 035c 1F4E0000 		.word	19999
 566 0360 CF070000 		.word	1999
 567              	.L39:
 157:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 158:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Now in FBE
 159:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // It is recommended that the clock monitor is enabled when using an external clock as the clock 
 160:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // It is enabled here but can be removed if this is not required.
 161:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 |= MCG_C6_CME0_MASK;
 568              		.loc 1 161 0 is_stmt 1
 569 0364 754B     		ldr	r3, .L63
 570 0366 754A     		ldr	r2, .L63
 571 0368 5279     		ldrb	r2, [r2, #5]
 572 036a D2B2     		uxtb	r2, r2
 573 036c 2021     		mov	r1, #32
 574 036e 0A43     		orr	r2, r1
 575 0370 D2B2     		uxtb	r2, r2
 576 0372 5A71     		strb	r2, [r3, #5]
 162:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 163:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Configure PLL
 164:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Configure MCG_C5
 165:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // If the PLL is to run in STOP mode then the PLLSTEN bit needs to be OR'ed in here or in user co
 166:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C5;
 577              		.loc 1 166 0
 578 0374 714A     		ldr	r2, .L63
 579 0376 3B1C     		mov	r3, r7
 580 0378 1633     		add	r3, r3, #22
 581 037a 1279     		ldrb	r2, [r2, #4]
 582 037c 1A70     		strb	r2, [r3]
 167:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C5_PRDIV0_MASK;
 583              		.loc 1 167 0
 584 037e 3B1C     		mov	r3, r7
 585 0380 1633     		add	r3, r3, #22
 586 0382 3A1C     		mov	r2, r7
 587 0384 1632     		add	r2, r2, #22
 588 0386 1278     		ldrb	r2, [r2]
 589 0388 1F21     		mov	r1, #31
 590 038a 8A43     		bic	r2, r1
 591 038c 1A70     		strb	r2, [r3]
 168:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C5_PRDIV0(prdiv_val - 1);    //set PLL ref divider
 592              		.loc 1 168 0
 593 038e 7B1C     		add	r3, r7, #1
 594 0390 1B78     		ldrb	r3, [r3]
 595 0392 013B     		sub	r3, r3, #1
 596 0394 DAB2     		uxtb	r2, r3
 597 0396 1F23     		mov	r3, #31
 598 0398 1340     		and	r3, r2
 599 039a D9B2     		uxtb	r1, r3
 600 039c 3B1C     		mov	r3, r7
 601 039e 1633     		add	r3, r3, #22
 602 03a0 3A1C     		mov	r2, r7
 603 03a2 1632     		add	r2, r2, #22
 604 03a4 1278     		ldrb	r2, [r2]
 605 03a6 0A43     		orr	r2, r1
 606 03a8 1A70     		strb	r2, [r3]
 169:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C5 = temp_reg;
 607              		.loc 1 169 0
 608 03aa 644B     		ldr	r3, .L63
 609 03ac 3A1C     		mov	r2, r7
 610 03ae 1632     		add	r2, r2, #22
 611 03b0 1278     		ldrb	r2, [r2]
 612 03b2 1A71     		strb	r2, [r3, #4]
 170:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 171:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Configure MCG_C6
 172:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // The PLLS bit is set to enable the PLL, MCGOUT still sourced from ext ref clk
 173:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // The loss of lock interrupt can be enabled by seperately OR'ing in the LOLIE bit in MCG_C6
 174:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C6; // store present C6 value
 613              		.loc 1 174 0
 614 03b4 614A     		ldr	r2, .L63
 615 03b6 3B1C     		mov	r3, r7
 616 03b8 1633     		add	r3, r3, #22
 617 03ba 5279     		ldrb	r2, [r2, #5]
 618 03bc 1A70     		strb	r2, [r3]
 175:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C6_VDIV0_MASK; // clear VDIV settings
 619              		.loc 1 175 0
 620 03be 3B1C     		mov	r3, r7
 621 03c0 1633     		add	r3, r3, #22
 622 03c2 3A1C     		mov	r2, r7
 623 03c4 1632     		add	r2, r2, #22
 624 03c6 1278     		ldrb	r2, [r2]
 625 03c8 1F21     		mov	r1, #31
 626 03ca 8A43     		bic	r2, r1
 627 03cc 1A70     		strb	r2, [r3]
 176:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C6_PLLS_MASK | MCG_C6_VDIV0(vdiv_val - 24); // write new VDIV and enable PLL
 628              		.loc 1 176 0
 629 03ce 3B1C     		mov	r3, r7
 630 03d0 2033     		add	r3, r3, #32
 631 03d2 1B78     		ldrb	r3, [r3]
 632 03d4 183B     		sub	r3, r3, #24
 633 03d6 DAB2     		uxtb	r2, r3
 634 03d8 1F23     		mov	r3, #31
 635 03da 1340     		and	r3, r2
 636 03dc DAB2     		uxtb	r2, r3
 637 03de 3B1C     		mov	r3, r7
 638 03e0 1633     		add	r3, r3, #22
 639 03e2 1B78     		ldrb	r3, [r3]
 640 03e4 1343     		orr	r3, r2
 641 03e6 DAB2     		uxtb	r2, r3
 642 03e8 3B1C     		mov	r3, r7
 643 03ea 1633     		add	r3, r3, #22
 644 03ec 4021     		mov	r1, #64
 645 03ee 0A43     		orr	r2, r1
 646 03f0 1A70     		strb	r2, [r3]
 177:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 = temp_reg; // update MCG_C6
 647              		.loc 1 177 0
 648 03f2 524B     		ldr	r3, .L63
 649 03f4 3A1C     		mov	r2, r7
 650 03f6 1632     		add	r2, r2, #22
 651 03f8 1278     		ldrb	r2, [r2]
 652 03fa 5A71     		strb	r2, [r3, #5]
 178:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 179:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // wait for PLLST status bit to set
 180:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 653              		.loc 1 180 0
 654 03fc 3B1C     		mov	r3, r7
 655 03fe 1433     		add	r3, r3, #20
 656 0400 0022     		mov	r2, #0
 657 0402 1A80     		strh	r2, [r3]
 658 0404 0DE0     		b	.L40
 659              	.L43:
 181:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 182:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_PLLST_MASK) break; // jump out early if PLLST sets before loop finishes
 660              		.loc 1 182 0
 661 0406 4D4B     		ldr	r3, .L63
 662 0408 9B79     		ldrb	r3, [r3, #6]
 663 040a DBB2     		uxtb	r3, r3
 664 040c 1A1C     		mov	r2, r3
 665 040e 2023     		mov	r3, #32
 666 0410 1340     		and	r3, r2
 667 0412 0ED1     		bne	.L58
 668              	.L41:
 180:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 669              		.loc 1 180 0
 670 0414 3B1C     		mov	r3, r7
 671 0416 1433     		add	r3, r3, #20
 672 0418 3A1C     		mov	r2, r7
 673 041a 1432     		add	r2, r2, #20
 674 041c 1288     		ldrh	r2, [r2]
 675 041e 0132     		add	r2, r2, #1
 676 0420 1A80     		strh	r2, [r3]
 677              	.L40:
 180:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 678              		.loc 1 180 0 is_stmt 0
 679 0422 3B1C     		mov	r3, r7
 680 0424 1433     		add	r3, r3, #20
 681 0426 0021     		mov	r1, #0
 682 0428 5A5E     		ldrsh	r2, [r3, r1]
 683 042a 454B     		ldr	r3, .L63+4
 684 042c 9A42     		cmp	r2, r3
 685 042e EADD     		ble	.L43
 686 0430 00E0     		b	.L42
 687              	.L58:
 688              		.loc 1 182 0 is_stmt 1
 689 0432 C046     		mov	r8, r8
 690              	.L42:
 183:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 184:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_PLLST_MASK)) return 0x16; // check bit is really set and return with error if
 691              		.loc 1 184 0
 692 0434 414B     		ldr	r3, .L63
 693 0436 9B79     		ldrb	r3, [r3, #6]
 694 0438 DBB2     		uxtb	r3, r3
 695 043a 1A1C     		mov	r2, r3
 696 043c 2023     		mov	r3, #32
 697 043e 1340     		and	r3, r2
 698 0440 01D1     		bne	.L44
 699              		.loc 1 184 0 is_stmt 0
 700 0442 1623     		mov	r3, #22
 701 0444 75E0     		b	.L4
 702              	.L44:
 185:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 186:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Wait for LOCK bit to set
 187:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 4000 ; i++)
 703              		.loc 1 187 0 is_stmt 1
 704 0446 3B1C     		mov	r3, r7
 705 0448 1433     		add	r3, r3, #20
 706 044a 0022     		mov	r2, #0
 707 044c 1A80     		strh	r2, [r3]
 708 044e 0DE0     		b	.L45
 709              	.L48:
 188:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 189:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_LOCK0_MASK) break; // jump out early if LOCK sets before loop finishes
 710              		.loc 1 189 0
 711 0450 3A4B     		ldr	r3, .L63
 712 0452 9B79     		ldrb	r3, [r3, #6]
 713 0454 DBB2     		uxtb	r3, r3
 714 0456 1A1C     		mov	r2, r3
 715 0458 4023     		mov	r3, #64
 716 045a 1340     		and	r3, r2
 717 045c 0ED1     		bne	.L59
 718              	.L46:
 187:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 4000 ; i++)
 719              		.loc 1 187 0
 720 045e 3B1C     		mov	r3, r7
 721 0460 1433     		add	r3, r3, #20
 722 0462 3A1C     		mov	r2, r7
 723 0464 1432     		add	r2, r2, #20
 724 0466 1288     		ldrh	r2, [r2]
 725 0468 0132     		add	r2, r2, #1
 726 046a 1A80     		strh	r2, [r3]
 727              	.L45:
 187:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 4000 ; i++)
 728              		.loc 1 187 0 is_stmt 0
 729 046c 3B1C     		mov	r3, r7
 730 046e 1433     		add	r3, r3, #20
 731 0470 0021     		mov	r1, #0
 732 0472 5A5E     		ldrsh	r2, [r3, r1]
 733 0474 334B     		ldr	r3, .L63+8
 734 0476 9A42     		cmp	r2, r3
 735 0478 EADD     		ble	.L48
 736 047a 00E0     		b	.L47
 737              	.L59:
 738              		.loc 1 189 0 is_stmt 1
 739 047c C046     		mov	r8, r8
 740              	.L47:
 190:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 191:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_LOCK0_MASK)) return 0x44; // check bit is really set and return with error if
 741              		.loc 1 191 0
 742 047e 2F4B     		ldr	r3, .L63
 743 0480 9B79     		ldrb	r3, [r3, #6]
 744 0482 DBB2     		uxtb	r3, r3
 745 0484 1A1C     		mov	r2, r3
 746 0486 4023     		mov	r3, #64
 747 0488 1340     		and	r3, r2
 748 048a 01D1     		bne	.L49
 749              		.loc 1 191 0 is_stmt 0
 750 048c 4423     		mov	r3, #68
 751 048e 50E0     		b	.L4
 752              	.L49:
 192:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 193:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Use actual PLL settings to calculate PLL frequency
 194:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   prdiv = ((MCG_C5 & MCG_C5_PRDIV0_MASK) + 1);
 753              		.loc 1 194 0 is_stmt 1
 754 0490 2A4B     		ldr	r3, .L63
 755 0492 1B79     		ldrb	r3, [r3, #4]
 756 0494 DAB2     		uxtb	r2, r3
 757 0496 1F23     		mov	r3, #31
 758 0498 1340     		and	r3, r2
 759 049a DAB2     		uxtb	r2, r3
 760 049c 3B1C     		mov	r3, r7
 761 049e 0B33     		add	r3, r3, #11
 762 04a0 0132     		add	r2, r2, #1
 763 04a2 1A70     		strb	r2, [r3]
 195:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   vdiv = ((MCG_C6 & MCG_C6_VDIV0_MASK) + 24);
 764              		.loc 1 195 0
 765 04a4 254B     		ldr	r3, .L63
 766 04a6 5B79     		ldrb	r3, [r3, #5]
 767 04a8 DAB2     		uxtb	r2, r3
 768 04aa 1F23     		mov	r3, #31
 769 04ac 1340     		and	r3, r2
 770 04ae DAB2     		uxtb	r2, r3
 771 04b0 3B1C     		mov	r3, r7
 772 04b2 0A33     		add	r3, r3, #10
 773 04b4 1832     		add	r2, r2, #24
 774 04b6 1A70     		strb	r2, [r3]
 196:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 197:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // now in PBE
 198:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 199:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 &= ~MCG_C1_CLKS_MASK; // clear CLKS to switch CLKS mux to select PLL as MCG_OUT
 775              		.loc 1 199 0
 776 04b8 204B     		ldr	r3, .L63
 777 04ba 204A     		ldr	r2, .L63
 778 04bc 1278     		ldrb	r2, [r2]
 779 04be D1B2     		uxtb	r1, r2
 780 04c0 3F22     		mov	r2, #63
 781 04c2 0A40     		and	r2, r1
 782 04c4 D2B2     		uxtb	r2, r2
 783 04c6 1A70     		strb	r2, [r3]
 200:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 201:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Wait for clock status bits to update
 202:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 784              		.loc 1 202 0
 785 04c8 3B1C     		mov	r3, r7
 786 04ca 1433     		add	r3, r3, #20
 787 04cc 0022     		mov	r2, #0
 788 04ce 1A80     		strh	r2, [r3]
 789 04d0 0FE0     		b	.L50
 790              	.L53:
 203:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 204:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) break; // jump out early if CLKST
 791              		.loc 1 204 0
 792 04d2 1A4B     		ldr	r3, .L63
 793 04d4 9B79     		ldrb	r3, [r3, #6]
 794 04d6 DBB2     		uxtb	r3, r3
 795 04d8 1A1C     		mov	r2, r3
 796 04da 0C23     		mov	r3, #12
 797 04dc 1340     		and	r3, r2
 798 04de 9B08     		lsr	r3, r3, #2
 799 04e0 032B     		cmp	r3, #3
 800 04e2 0ED0     		beq	.L60
 801              	.L51:
 202:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 802              		.loc 1 202 0
 803 04e4 3B1C     		mov	r3, r7
 804 04e6 1433     		add	r3, r3, #20
 805 04e8 3A1C     		mov	r2, r7
 806 04ea 1432     		add	r2, r2, #20
 807 04ec 1288     		ldrh	r2, [r2]
 808 04ee 0132     		add	r2, r2, #1
 809 04f0 1A80     		strh	r2, [r3]
 810              	.L50:
 202:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 811              		.loc 1 202 0 is_stmt 0
 812 04f2 3B1C     		mov	r3, r7
 813 04f4 1433     		add	r3, r3, #20
 814 04f6 0021     		mov	r1, #0
 815 04f8 5A5E     		ldrsh	r2, [r3, r1]
 816 04fa 114B     		ldr	r3, .L63+4
 817 04fc 9A42     		cmp	r2, r3
 818 04fe E8DD     		ble	.L53
 819 0500 00E0     		b	.L52
 820              	.L60:
 821              		.loc 1 204 0 is_stmt 1
 822 0502 C046     		mov	r8, r8
 823              	.L52:
 205:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 206:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x3) return 0x1B; // check CLKST is set 
 824              		.loc 1 206 0
 825 0504 0D4B     		ldr	r3, .L63
 826 0506 9B79     		ldrb	r3, [r3, #6]
 827 0508 DBB2     		uxtb	r3, r3
 828 050a 1A1C     		mov	r2, r3
 829 050c 0C23     		mov	r3, #12
 830 050e 1340     		and	r3, r2
 831 0510 9B08     		lsr	r3, r3, #2
 832 0512 032B     		cmp	r3, #3
 833 0514 01D0     		beq	.L54
 834              		.loc 1 206 0 is_stmt 0
 835 0516 1B23     		mov	r3, #27
 836 0518 0BE0     		b	.L4
 837              	.L54:
 207:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 208:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Now in PEE
 209:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 210:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return ((crystal_val / prdiv) * vdiv); //MCGOUT equals PLL output frequency
 838              		.loc 1 210 0 is_stmt 1
 839 051a 3B1C     		mov	r3, r7
 840 051c 0B33     		add	r3, r3, #11
 841 051e 1B78     		ldrb	r3, [r3]
 842 0520 7868     		ldr	r0, [r7, #4]
 843 0522 191C     		mov	r1, r3
 844 0524 FFF7FEFF 		bl	__aeabi_idiv
 845 0528 031C     		mov	r3, r0
 846 052a 3A1C     		mov	r2, r7
 847 052c 0A32     		add	r2, r2, #10
 848 052e 1278     		ldrb	r2, [r2]
 849 0530 5343     		mul	r3, r2
 850              	.L4:
 211:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // pll_init
 851              		.loc 1 211 0
 852 0532 181C     		mov	r0, r3
 853 0534 BD46     		mov	sp, r7
 854 0536 06B0     		add	sp, sp, #24
 855              		@ sp needed for prologue
 856 0538 80BD     		pop	{r7, pc}
 857              	.L64:
 858 053a C046     		.align	2
 859              	.L63:
 860 053c 00400640 		.word	1074151424
 861 0540 CF070000 		.word	1999
 862 0544 9F0F0000 		.word	3999
 863              		.cfi_endproc
 864              	.LFE0:
 866              		.section	.text.pee_pbe,"ax",%progbits
 867              		.align	2
 868              		.global	pee_pbe
 869              		.code	16
 870              		.thumb_func
 872              	pee_pbe:
 873              	.LFB1:
 212:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 213:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 214:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 215:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 216:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /********************************************************************/
 217:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 218:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int pee_pbe(int crystal_val)
 219:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 874              		.loc 1 219 0
 875              		.cfi_startproc
 876 0000 80B5     		push	{r7, lr}
 877              	.LCFI3:
 878              		.cfi_def_cfa_offset 8
 879              		.cfi_offset 7, -8
 880              		.cfi_offset 14, -4
 881 0002 84B0     		sub	sp, sp, #16
 882              	.LCFI4:
 883              		.cfi_def_cfa_offset 24
 884 0004 00AF     		add	r7, sp, #0
 885              	.LCFI5:
 886              		.cfi_def_cfa_register 7
 887 0006 7860     		str	r0, [r7, #4]
 220:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 221:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 222:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in PEE mode
 223:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) && // check CLKS mux has selcted
 888              		.loc 1 223 0
 889 0008 274B     		ldr	r3, .L75
 890 000a 9B79     		ldrb	r3, [r3, #6]
 891 000c DBB2     		uxtb	r3, r3
 892 000e 1A1C     		mov	r2, r3
 893 0010 0C23     		mov	r3, #12
 894 0012 1340     		and	r3, r2
 895 0014 9B08     		lsr	r3, r3, #2
 896 0016 032B     		cmp	r3, #3
 897 0018 0DD1     		bne	.L66
 224:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 898              		.loc 1 224 0
 899 001a 234B     		ldr	r3, .L75
 900 001c 9B79     		ldrb	r3, [r3, #6]
 901 001e DBB2     		uxtb	r3, r3
 902 0020 1A1C     		mov	r2, r3
 903 0022 1023     		mov	r3, #16
 904 0024 1340     		and	r3, r2
 223:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) && // check CLKS mux has selcted
 905              		.loc 1 223 0
 906 0026 06D1     		bne	.L66
 225:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_PLLST_MASK)))                                    // check PLLS mux has selecte
 907              		.loc 1 225 0
 908 0028 1F4B     		ldr	r3, .L75
 909 002a 9B79     		ldrb	r3, [r3, #6]
 910 002c DBB2     		uxtb	r3, r3
 911 002e 1A1C     		mov	r2, r3
 912 0030 2023     		mov	r3, #32
 913 0032 1340     		and	r3, r2
 223:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) && // check CLKS mux has selcted
 914              		.loc 1 223 0
 915 0034 01D1     		bne	.L67
 916              	.L66:
 226:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 227:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x8;                                                       // return error code
 917              		.loc 1 227 0
 918 0036 0823     		mov	r3, #8
 919 0038 32E0     		b	.L68
 920              	.L67:
 228:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   } 
 229:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 230:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // As we are running from the PLL by default the PLL and external clock settings are valid
 231:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // To move to PBE from PEE simply requires the switching of the CLKS mux to select the ext clock 
 232:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // As CLKS is already 0 the CLKS value can simply be OR'ed into the register 
 233:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 |= MCG_C1_CLKS(2); // switch CLKS mux to select external reference clock as MCG_OUT
 921              		.loc 1 233 0
 922 003a 1B4B     		ldr	r3, .L75
 923 003c 1A4A     		ldr	r2, .L75
 924 003e 1278     		ldrb	r2, [r2]
 925 0040 D2B2     		uxtb	r2, r2
 926 0042 8021     		mov	r1, #128
 927 0044 4942     		neg	r1, r1
 928 0046 0A43     		orr	r2, r1
 929 0048 D2B2     		uxtb	r2, r2
 930 004a 1A70     		strb	r2, [r3]
 234:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 235:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to update 
 236:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 931              		.loc 1 236 0
 932 004c 3B1C     		mov	r3, r7
 933 004e 0E33     		add	r3, r3, #14
 934 0050 0022     		mov	r2, #0
 935 0052 1A80     		strh	r2, [r3]
 936 0054 0FE0     		b	.L69
 937              	.L72:
 237:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 238:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) break; // jump out early if CLKST
 938              		.loc 1 238 0
 939 0056 144B     		ldr	r3, .L75
 940 0058 9B79     		ldrb	r3, [r3, #6]
 941 005a DBB2     		uxtb	r3, r3
 942 005c 1A1C     		mov	r2, r3
 943 005e 0C23     		mov	r3, #12
 944 0060 1340     		and	r3, r2
 945 0062 9B08     		lsr	r3, r3, #2
 946 0064 022B     		cmp	r3, #2
 947 0066 0ED0     		beq	.L74
 948              	.L70:
 236:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 949              		.loc 1 236 0
 950 0068 3B1C     		mov	r3, r7
 951 006a 0E33     		add	r3, r3, #14
 952 006c 3A1C     		mov	r2, r7
 953 006e 0E32     		add	r2, r2, #14
 954 0070 1288     		ldrh	r2, [r2]
 955 0072 0132     		add	r2, r2, #1
 956 0074 1A80     		strh	r2, [r3]
 957              	.L69:
 236:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 958              		.loc 1 236 0 is_stmt 0
 959 0076 3B1C     		mov	r3, r7
 960 0078 0E33     		add	r3, r3, #14
 961 007a 0021     		mov	r1, #0
 962 007c 5A5E     		ldrsh	r2, [r3, r1]
 963 007e 0B4B     		ldr	r3, .L75+4
 964 0080 9A42     		cmp	r2, r3
 965 0082 E8DD     		ble	.L72
 966 0084 00E0     		b	.L71
 967              	.L74:
 968              		.loc 1 238 0 is_stmt 1
 969 0086 C046     		mov	r8, r8
 970              	.L71:
 239:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 240:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x2) return 0x1A; // check EXT CLK is re
 971              		.loc 1 240 0
 972 0088 074B     		ldr	r3, .L75
 973 008a 9B79     		ldrb	r3, [r3, #6]
 974 008c DBB2     		uxtb	r3, r3
 975 008e 1A1C     		mov	r2, r3
 976 0090 0C23     		mov	r3, #12
 977 0092 1340     		and	r3, r2
 978 0094 9B08     		lsr	r3, r3, #2
 979 0096 022B     		cmp	r3, #2
 980 0098 01D0     		beq	.L73
 981              		.loc 1 240 0 is_stmt 0
 982 009a 1A23     		mov	r3, #26
 983 009c 00E0     		b	.L68
 984              	.L73:
 241:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 242:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in PBE mode  
 243:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val; // MCGOUT frequency equals external clock frequency
 985              		.loc 1 243 0 is_stmt 1
 986 009e 7B68     		ldr	r3, [r7, #4]
 987              	.L68:
 244:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // pee_pbe
 988              		.loc 1 244 0
 989 00a0 181C     		mov	r0, r3
 990 00a2 BD46     		mov	sp, r7
 991 00a4 04B0     		add	sp, sp, #16
 992              		@ sp needed for prologue
 993 00a6 80BD     		pop	{r7, pc}
 994              	.L76:
 995              		.align	2
 996              	.L75:
 997 00a8 00400640 		.word	1074151424
 998 00ac CF070000 		.word	1999
 999              		.cfi_endproc
 1000              	.LFE1:
 1002              		.section	.text.pbe_pee,"ax",%progbits
 1003              		.align	2
 1004              		.global	pbe_pee
 1005              		.code	16
 1006              		.thumb_func
 1008              	pbe_pee:
 1009              	.LFB2:
 245:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 246:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 247:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int pbe_pee(int crystal_val)
 248:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 1010              		.loc 1 248 0
 1011              		.cfi_startproc
 1012 0000 80B5     		push	{r7, lr}
 1013              	.LCFI6:
 1014              		.cfi_def_cfa_offset 8
 1015              		.cfi_offset 7, -8
 1016              		.cfi_offset 14, -4
 1017 0002 84B0     		sub	sp, sp, #16
 1018              	.LCFI7:
 1019              		.cfi_def_cfa_offset 24
 1020 0004 00AF     		add	r7, sp, #0
 1021              	.LCFI8:
 1022              		.cfi_def_cfa_register 7
 1023 0006 7860     		str	r0, [r7, #4]
 249:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char prdiv, vdiv;
 250:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 251:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 252:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check MCG is in PBE mode
 253:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1024              		.loc 1 253 0
 1025 0008 4C4B     		ldr	r3, .L93
 1026 000a 9B79     		ldrb	r3, [r3, #6]
 1027 000c DBB2     		uxtb	r3, r3
 1028 000e 1A1C     		mov	r2, r3
 1029 0010 0C23     		mov	r3, #12
 1030 0012 1340     		and	r3, r2
 1031 0014 9B08     		lsr	r3, r3, #2
 1032 0016 022B     		cmp	r3, #2
 1033 0018 14D1     		bne	.L78
 254:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1034              		.loc 1 254 0
 1035 001a 484B     		ldr	r3, .L93
 1036 001c 9B79     		ldrb	r3, [r3, #6]
 1037 001e DBB2     		uxtb	r3, r3
 1038 0020 1A1C     		mov	r2, r3
 1039 0022 1023     		mov	r3, #16
 1040 0024 1340     		and	r3, r2
 253:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1041              		.loc 1 253 0
 1042 0026 0DD1     		bne	.L78
 255:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_PLLST_MASK) &&                                   // check PLLS mux has selecte
 1043              		.loc 1 255 0
 1044 0028 444B     		ldr	r3, .L93
 1045 002a 9B79     		ldrb	r3, [r3, #6]
 1046 002c DBB2     		uxtb	r3, r3
 1047 002e 1A1C     		mov	r2, r3
 1048 0030 2023     		mov	r3, #32
 1049 0032 1340     		and	r3, r2
 254:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1050              		.loc 1 254 0
 1051 0034 06D0     		beq	.L78
 256:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check MCG_C2[LP] bit is no
 1052              		.loc 1 256 0
 1053 0036 414B     		ldr	r3, .L93
 1054 0038 5B78     		ldrb	r3, [r3, #1]
 1055 003a DBB2     		uxtb	r3, r3
 1056 003c 1A1C     		mov	r2, r3
 1057 003e 0223     		mov	r3, #2
 1058 0040 1340     		and	r3, r2
 253:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1059              		.loc 1 253 0
 1060 0042 01D0     		beq	.L79
 1061              	.L78:
 257:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 258:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x7;                                                       // return error code
 1062              		.loc 1 258 0
 1063 0044 0723     		mov	r3, #7
 1064 0046 75E0     		b	.L80
 1065              	.L79:
 259:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 260:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 261:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // As the PLL settings have already been checked when PBE mode was enterred they are not checked 
 262:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 263:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check the PLL state before transitioning to PEE mode
 264:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 265:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check LOCK bit is set before transitioning MCG to PLL output (already checked in fbe_pbe but g
 266:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // to re-check before switch to use PLL)
 267:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1066              		.loc 1 267 0
 1067 0048 3B1C     		mov	r3, r7
 1068 004a 0E33     		add	r3, r3, #14
 1069 004c 0022     		mov	r2, #0
 1070 004e 1A80     		strh	r2, [r3]
 1071 0050 0DE0     		b	.L81
 1072              	.L84:
 268:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 269:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_LOCK0_MASK) break; // jump out early if LOCK sets before loop finishes
 1073              		.loc 1 269 0
 1074 0052 3A4B     		ldr	r3, .L93
 1075 0054 9B79     		ldrb	r3, [r3, #6]
 1076 0056 DBB2     		uxtb	r3, r3
 1077 0058 1A1C     		mov	r2, r3
 1078 005a 4023     		mov	r3, #64
 1079 005c 1340     		and	r3, r2
 1080 005e 0ED1     		bne	.L91
 1081              	.L82:
 267:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1082              		.loc 1 267 0
 1083 0060 3B1C     		mov	r3, r7
 1084 0062 0E33     		add	r3, r3, #14
 1085 0064 3A1C     		mov	r2, r7
 1086 0066 0E32     		add	r2, r2, #14
 1087 0068 1288     		ldrh	r2, [r2]
 1088 006a 0132     		add	r2, r2, #1
 1089 006c 1A80     		strh	r2, [r3]
 1090              	.L81:
 267:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1091              		.loc 1 267 0 is_stmt 0
 1092 006e 3B1C     		mov	r3, r7
 1093 0070 0E33     		add	r3, r3, #14
 1094 0072 0021     		mov	r1, #0
 1095 0074 5A5E     		ldrsh	r2, [r3, r1]
 1096 0076 324B     		ldr	r3, .L93+4
 1097 0078 9A42     		cmp	r2, r3
 1098 007a EADD     		ble	.L84
 1099 007c 00E0     		b	.L83
 1100              	.L91:
 1101              		.loc 1 269 0 is_stmt 1
 1102 007e C046     		mov	r8, r8
 1103              	.L83:
 270:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 271:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_LOCK0_MASK)) return 0x44; // check bit is really set and return with error if
 1104              		.loc 1 271 0
 1105 0080 2E4B     		ldr	r3, .L93
 1106 0082 9B79     		ldrb	r3, [r3, #6]
 1107 0084 DBB2     		uxtb	r3, r3
 1108 0086 1A1C     		mov	r2, r3
 1109 0088 4023     		mov	r3, #64
 1110 008a 1340     		and	r3, r2
 1111 008c 01D1     		bne	.L85
 1112              		.loc 1 271 0 is_stmt 0
 1113 008e 4423     		mov	r3, #68
 1114 0090 50E0     		b	.L80
 1115              	.L85:
 272:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Use actual PLL settings to calculate PLL frequency
 273:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   prdiv = ((MCG_C5 & MCG_C5_PRDIV0_MASK) + 1);
 1116              		.loc 1 273 0 is_stmt 1
 1117 0092 2A4B     		ldr	r3, .L93
 1118 0094 1B79     		ldrb	r3, [r3, #4]
 1119 0096 DAB2     		uxtb	r2, r3
 1120 0098 1F23     		mov	r3, #31
 1121 009a 1340     		and	r3, r2
 1122 009c DAB2     		uxtb	r2, r3
 1123 009e 3B1C     		mov	r3, r7
 1124 00a0 0D33     		add	r3, r3, #13
 1125 00a2 0132     		add	r2, r2, #1
 1126 00a4 1A70     		strb	r2, [r3]
 274:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   vdiv = ((MCG_C6 & MCG_C6_VDIV0_MASK) + 24);
 1127              		.loc 1 274 0
 1128 00a6 254B     		ldr	r3, .L93
 1129 00a8 5B79     		ldrb	r3, [r3, #5]
 1130 00aa DAB2     		uxtb	r2, r3
 1131 00ac 1F23     		mov	r3, #31
 1132 00ae 1340     		and	r3, r2
 1133 00b0 DAB2     		uxtb	r2, r3
 1134 00b2 3B1C     		mov	r3, r7
 1135 00b4 0C33     		add	r3, r3, #12
 1136 00b6 1832     		add	r2, r2, #24
 1137 00b8 1A70     		strb	r2, [r3]
 275:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 276:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 &= ~MCG_C1_CLKS_MASK; // clear CLKS to switch CLKS mux to select PLL as MCG_OUT
 1138              		.loc 1 276 0
 1139 00ba 204B     		ldr	r3, .L93
 1140 00bc 1F4A     		ldr	r2, .L93
 1141 00be 1278     		ldrb	r2, [r2]
 1142 00c0 D1B2     		uxtb	r1, r2
 1143 00c2 3F22     		mov	r2, #63
 1144 00c4 0A40     		and	r2, r1
 1145 00c6 D2B2     		uxtb	r2, r2
 1146 00c8 1A70     		strb	r2, [r3]
 277:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 278:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Wait for clock status bits to update
 279:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1147              		.loc 1 279 0
 1148 00ca 3B1C     		mov	r3, r7
 1149 00cc 0E33     		add	r3, r3, #14
 1150 00ce 0022     		mov	r2, #0
 1151 00d0 1A80     		strh	r2, [r3]
 1152 00d2 0FE0     		b	.L86
 1153              	.L89:
 280:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 281:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) break; // jump out early if CLKST
 1154              		.loc 1 281 0
 1155 00d4 194B     		ldr	r3, .L93
 1156 00d6 9B79     		ldrb	r3, [r3, #6]
 1157 00d8 DBB2     		uxtb	r3, r3
 1158 00da 1A1C     		mov	r2, r3
 1159 00dc 0C23     		mov	r3, #12
 1160 00de 1340     		and	r3, r2
 1161 00e0 9B08     		lsr	r3, r3, #2
 1162 00e2 032B     		cmp	r3, #3
 1163 00e4 0ED0     		beq	.L92
 1164              	.L87:
 279:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1165              		.loc 1 279 0
 1166 00e6 3B1C     		mov	r3, r7
 1167 00e8 0E33     		add	r3, r3, #14
 1168 00ea 3A1C     		mov	r2, r7
 1169 00ec 0E32     		add	r2, r2, #14
 1170 00ee 1288     		ldrh	r2, [r2]
 1171 00f0 0132     		add	r2, r2, #1
 1172 00f2 1A80     		strh	r2, [r3]
 1173              	.L86:
 279:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1174              		.loc 1 279 0 is_stmt 0
 1175 00f4 3B1C     		mov	r3, r7
 1176 00f6 0E33     		add	r3, r3, #14
 1177 00f8 0021     		mov	r1, #0
 1178 00fa 5A5E     		ldrsh	r2, [r3, r1]
 1179 00fc 104B     		ldr	r3, .L93+4
 1180 00fe 9A42     		cmp	r2, r3
 1181 0100 E8DD     		ble	.L89
 1182 0102 00E0     		b	.L88
 1183              	.L92:
 1184              		.loc 1 281 0 is_stmt 1
 1185 0104 C046     		mov	r8, r8
 1186              	.L88:
 282:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 283:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x3) return 0x1B; // check CLKST is set 
 1187              		.loc 1 283 0
 1188 0106 0D4B     		ldr	r3, .L93
 1189 0108 9B79     		ldrb	r3, [r3, #6]
 1190 010a DBB2     		uxtb	r3, r3
 1191 010c 1A1C     		mov	r2, r3
 1192 010e 0C23     		mov	r3, #12
 1193 0110 1340     		and	r3, r2
 1194 0112 9B08     		lsr	r3, r3, #2
 1195 0114 032B     		cmp	r3, #3
 1196 0116 01D0     		beq	.L90
 1197              		.loc 1 283 0 is_stmt 0
 1198 0118 1B23     		mov	r3, #27
 1199 011a 0BE0     		b	.L80
 1200              	.L90:
 284:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 285:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Now in PEE
 286:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return ((crystal_val / prdiv) * vdiv); //MCGOUT equals PLL output frequency
 1201              		.loc 1 286 0 is_stmt 1
 1202 011c 3B1C     		mov	r3, r7
 1203 011e 0D33     		add	r3, r3, #13
 1204 0120 1B78     		ldrb	r3, [r3]
 1205 0122 7868     		ldr	r0, [r7, #4]
 1206 0124 191C     		mov	r1, r3
 1207 0126 FFF7FEFF 		bl	__aeabi_idiv
 1208 012a 031C     		mov	r3, r0
 1209 012c 3A1C     		mov	r2, r7
 1210 012e 0C32     		add	r2, r2, #12
 1211 0130 1278     		ldrb	r2, [r2]
 1212 0132 5343     		mul	r3, r2
 1213              	.L80:
 287:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 288:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** }  // pbe_pee
 1214              		.loc 1 288 0
 1215 0134 181C     		mov	r0, r3
 1216 0136 BD46     		mov	sp, r7
 1217 0138 04B0     		add	sp, sp, #16
 1218              		@ sp needed for prologue
 1219 013a 80BD     		pop	{r7, pc}
 1220              	.L94:
 1221              		.align	2
 1222              	.L93:
 1223 013c 00400640 		.word	1074151424
 1224 0140 CF070000 		.word	1999
 1225              		.cfi_endproc
 1226              	.LFE2:
 1228              		.section	.text.pbe_fbe,"ax",%progbits
 1229              		.align	2
 1230              		.global	pbe_fbe
 1231              		.code	16
 1232              		.thumb_func
 1234              	pbe_fbe:
 1235              	.LFB3:
 289:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 290:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 291:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int pbe_fbe(int crystal_val)
 292:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 1236              		.loc 1 292 0
 1237              		.cfi_startproc
 1238 0000 80B5     		push	{r7, lr}
 1239              	.LCFI9:
 1240              		.cfi_def_cfa_offset 8
 1241              		.cfi_offset 7, -8
 1242              		.cfi_offset 14, -4
 1243 0002 84B0     		sub	sp, sp, #16
 1244              	.LCFI10:
 1245              		.cfi_def_cfa_offset 24
 1246 0004 00AF     		add	r7, sp, #0
 1247              	.LCFI11:
 1248              		.cfi_def_cfa_register 7
 1249 0006 7860     		str	r0, [r7, #4]
 293:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 294:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 295:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in PBE mode
 296:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1250              		.loc 1 296 0
 1251 0008 284B     		ldr	r3, .L105
 1252 000a 9B79     		ldrb	r3, [r3, #6]
 1253 000c DBB2     		uxtb	r3, r3
 1254 000e 1A1C     		mov	r2, r3
 1255 0010 0C23     		mov	r3, #12
 1256 0012 1340     		and	r3, r2
 1257 0014 9B08     		lsr	r3, r3, #2
 1258 0016 022B     		cmp	r3, #2
 1259 0018 14D1     		bne	.L96
 297:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1260              		.loc 1 297 0
 1261 001a 244B     		ldr	r3, .L105
 1262 001c 9B79     		ldrb	r3, [r3, #6]
 1263 001e DBB2     		uxtb	r3, r3
 1264 0020 1A1C     		mov	r2, r3
 1265 0022 1023     		mov	r3, #16
 1266 0024 1340     		and	r3, r2
 296:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1267              		.loc 1 296 0
 1268 0026 0DD1     		bne	.L96
 298:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_PLLST_MASK) &&                                   // check PLLS mux has selecte
 1269              		.loc 1 298 0
 1270 0028 204B     		ldr	r3, .L105
 1271 002a 9B79     		ldrb	r3, [r3, #6]
 1272 002c DBB2     		uxtb	r3, r3
 1273 002e 1A1C     		mov	r2, r3
 1274 0030 2023     		mov	r3, #32
 1275 0032 1340     		and	r3, r2
 297:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1276              		.loc 1 297 0
 1277 0034 06D0     		beq	.L96
 299:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check MCG_C2[LP] bit is no
 1278              		.loc 1 299 0
 1279 0036 1D4B     		ldr	r3, .L105
 1280 0038 5B78     		ldrb	r3, [r3, #1]
 1281 003a DBB2     		uxtb	r3, r3
 1282 003c 1A1C     		mov	r2, r3
 1283 003e 0223     		mov	r3, #2
 1284 0040 1340     		and	r3, r2
 296:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1285              		.loc 1 296 0
 1286 0042 01D0     		beq	.L97
 1287              	.L96:
 300:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 301:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x7;                                                       // return error code
 1288              		.loc 1 301 0
 1289 0044 0723     		mov	r3, #7
 1290 0046 2DE0     		b	.L98
 1291              	.L97:
 302:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 303:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 304:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // As we are running from the ext clock, by default the external clock settings are valid
 305:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // To move to FBE from PBE simply requires the switching of the PLLS mux to disable the PLL 
 306:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 307:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 &= ~MCG_C6_PLLS_MASK; // clear PLLS to disable PLL, still clocked from ext ref clk
 1292              		.loc 1 307 0
 1293 0048 184B     		ldr	r3, .L105
 1294 004a 184A     		ldr	r2, .L105
 1295 004c 5279     		ldrb	r2, [r2, #5]
 1296 004e D2B2     		uxtb	r2, r2
 1297 0050 4021     		mov	r1, #64
 1298 0052 8A43     		bic	r2, r1
 1299 0054 D2B2     		uxtb	r2, r2
 1300 0056 5A71     		strb	r2, [r3, #5]
 308:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 309:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for PLLST status bit to set
 310:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1301              		.loc 1 310 0
 1302 0058 3B1C     		mov	r3, r7
 1303 005a 0E33     		add	r3, r3, #14
 1304 005c 0022     		mov	r2, #0
 1305 005e 1A80     		strh	r2, [r3]
 1306 0060 0DE0     		b	.L99
 1307              	.L102:
 311:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 312:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_PLLST_MASK)) break; // jump out early if PLLST clears before loop finishes
 1308              		.loc 1 312 0
 1309 0062 124B     		ldr	r3, .L105
 1310 0064 9B79     		ldrb	r3, [r3, #6]
 1311 0066 DBB2     		uxtb	r3, r3
 1312 0068 1A1C     		mov	r2, r3
 1313 006a 2023     		mov	r3, #32
 1314 006c 1340     		and	r3, r2
 1315 006e 0ED0     		beq	.L104
 1316              	.L100:
 310:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1317              		.loc 1 310 0
 1318 0070 3B1C     		mov	r3, r7
 1319 0072 0E33     		add	r3, r3, #14
 1320 0074 3A1C     		mov	r2, r7
 1321 0076 0E32     		add	r2, r2, #14
 1322 0078 1288     		ldrh	r2, [r2]
 1323 007a 0132     		add	r2, r2, #1
 1324 007c 1A80     		strh	r2, [r3]
 1325              	.L99:
 310:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1326              		.loc 1 310 0 is_stmt 0
 1327 007e 3B1C     		mov	r3, r7
 1328 0080 0E33     		add	r3, r3, #14
 1329 0082 0021     		mov	r1, #0
 1330 0084 5A5E     		ldrsh	r2, [r3, r1]
 1331 0086 0A4B     		ldr	r3, .L105+4
 1332 0088 9A42     		cmp	r2, r3
 1333 008a EADD     		ble	.L102
 1334 008c 00E0     		b	.L101
 1335              	.L104:
 1336              		.loc 1 312 0 is_stmt 1
 1337 008e C046     		mov	r8, r8
 1338              	.L101:
 313:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 314:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_S & MCG_S_PLLST_MASK) return 0x15; // check bit is really clear and return with error if 
 1339              		.loc 1 314 0
 1340 0090 064B     		ldr	r3, .L105
 1341 0092 9B79     		ldrb	r3, [r3, #6]
 1342 0094 DBB2     		uxtb	r3, r3
 1343 0096 1A1C     		mov	r2, r3
 1344 0098 2023     		mov	r3, #32
 1345 009a 1340     		and	r3, r2
 1346 009c 01D0     		beq	.L103
 1347              		.loc 1 314 0 is_stmt 0
 1348 009e 1523     		mov	r3, #21
 1349 00a0 00E0     		b	.L98
 1350              	.L103:
 315:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 316:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBE mode  
 317:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val; // MCGOUT frequency equals external clock frequency 
 1351              		.loc 1 317 0 is_stmt 1
 1352 00a2 7B68     		ldr	r3, [r7, #4]
 1353              	.L98:
 318:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // pbe_fbe
 1354              		.loc 1 318 0
 1355 00a4 181C     		mov	r0, r3
 1356 00a6 BD46     		mov	sp, r7
 1357 00a8 04B0     		add	sp, sp, #16
 1358              		@ sp needed for prologue
 1359 00aa 80BD     		pop	{r7, pc}
 1360              	.L106:
 1361              		.align	2
 1362              	.L105:
 1363 00ac 00400640 		.word	1074151424
 1364 00b0 CF070000 		.word	1999
 1365              		.cfi_endproc
 1366              	.LFE3:
 1368              		.section	.text.fbe_pbe,"ax",%progbits
 1369              		.align	2
 1370              		.global	fbe_pbe
 1371              		.code	16
 1372              		.thumb_func
 1374              	fbe_pbe:
 1375              	.LFB4:
 319:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 320:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 321:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /********************************************************************/
 322:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /* Functon name : fbe_pbe
 323:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 324:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Mode transition: FBE to PBE mode
 325:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 326:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * This function transitions the MCG from FBE mode to PBE mode. 
 327:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * This function presently only supports OSC0 and PLL0. Support for OSC1 and PLL1 will be added soo
 328:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * The function requires the desired OSC and PLL be passed in to it for compatibility with the
 329:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * future support of OSC/PLL selection
 330:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 331:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Parameters: crystal_val - external clock frequency in Hz
 332:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             prdiv_val   - value to divide the external clock source by to create the desired
 333:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           PLL reference clock frequency
 334:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             vdiv_val    - value to multiply the PLL reference clock frequency by
 335:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 336:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Return value : MCGCLKOUT frequency (Hz) or error code
 337:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  */
 338:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbe_pbe(int crystal_val, signed char prdiv_val, signed char vdiv_val)
 339:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 1376              		.loc 1 339 0
 1377              		.cfi_startproc
 1378 0000 80B5     		push	{r7, lr}
 1379              	.LCFI12:
 1380              		.cfi_def_cfa_offset 8
 1381              		.cfi_offset 7, -8
 1382              		.cfi_offset 14, -4
 1383 0002 86B0     		sub	sp, sp, #24
 1384              	.LCFI13:
 1385              		.cfi_def_cfa_offset 32
 1386 0004 00AF     		add	r7, sp, #0
 1387              	.LCFI14:
 1388              		.cfi_def_cfa_register 7
 1389 0006 7860     		str	r0, [r7, #4]
 1390 0008 FB1C     		add	r3, r7, #3
 1391 000a 1970     		strb	r1, [r3]
 1392 000c BB1C     		add	r3, r7, #2
 1393 000e 1A70     		strb	r2, [r3]
 340:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
 341:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 342:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int pll_freq;
 343:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 344:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FBE mode
 345:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1394              		.loc 1 345 0
 1395 0010 7D4B     		ldr	r3, .L131
 1396 0012 9B79     		ldrb	r3, [r3, #6]
 1397 0014 DBB2     		uxtb	r3, r3
 1398 0016 1A1C     		mov	r2, r3
 1399 0018 0C23     		mov	r3, #12
 1400 001a 1340     		and	r3, r2
 1401 001c 9B08     		lsr	r3, r3, #2
 1402 001e 022B     		cmp	r3, #2
 1403 0020 14D1     		bne	.L108
 346:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1404              		.loc 1 346 0
 1405 0022 794B     		ldr	r3, .L131
 1406 0024 9B79     		ldrb	r3, [r3, #6]
 1407 0026 DBB2     		uxtb	r3, r3
 1408 0028 1A1C     		mov	r2, r3
 1409 002a 1023     		mov	r3, #16
 1410 002c 1340     		and	r3, r2
 345:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1411              		.loc 1 345 0
 1412 002e 0DD1     		bne	.L108
 347:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 1413              		.loc 1 347 0
 1414 0030 754B     		ldr	r3, .L131
 1415 0032 9B79     		ldrb	r3, [r3, #6]
 1416 0034 DBB2     		uxtb	r3, r3
 1417 0036 1A1C     		mov	r2, r3
 1418 0038 2023     		mov	r3, #32
 1419 003a 1340     		and	r3, r2
 346:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1420              		.loc 1 346 0
 1421 003c 06D1     		bne	.L108
 348:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check MCG_C2[LP] bit is no
 1422              		.loc 1 348 0
 1423 003e 724B     		ldr	r3, .L131
 1424 0040 5B78     		ldrb	r3, [r3, #1]
 1425 0042 DBB2     		uxtb	r3, r3
 1426 0044 1A1C     		mov	r2, r3
 1427 0046 0223     		mov	r3, #2
 1428 0048 1340     		and	r3, r2
 345:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1429              		.loc 1 345 0
 1430 004a 01D0     		beq	.L109
 1431              	.L108:
 349:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 350:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x4;                                                       // return error code
 1432              		.loc 1 350 0
 1433 004c 0423     		mov	r3, #4
 1434 004e D6E0     		b	.L110
 1435              	.L109:
 351:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 352:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 353:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // As the external frequency has already been checked when FBE mode was enterred it is not checked 
 354:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 355:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check PLL divider settings are within spec.
 356:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((prdiv_val < 1) || (prdiv_val > 25)) {return 0x41;}
 1436              		.loc 1 356 0
 1437 0050 FB1C     		add	r3, r7, #3
 1438 0052 1B78     		ldrb	r3, [r3]
 1439 0054 5BB2     		sxtb	r3, r3
 1440 0056 002B     		cmp	r3, #0
 1441 0058 04DD     		ble	.L111
 1442              		.loc 1 356 0 is_stmt 0
 1443 005a FB1C     		add	r3, r7, #3
 1444 005c 1B78     		ldrb	r3, [r3]
 1445 005e 5BB2     		sxtb	r3, r3
 1446 0060 192B     		cmp	r3, #25
 1447 0062 01DD     		ble	.L112
 1448              	.L111:
 1449              		.loc 1 356 0
 1450 0064 4123     		mov	r3, #65
 1451 0066 CAE0     		b	.L110
 1452              	.L112:
 357:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((vdiv_val < 24) || (vdiv_val > 50)) {return 0x42;} 
 1453              		.loc 1 357 0 is_stmt 1
 1454 0068 BB1C     		add	r3, r7, #2
 1455 006a 1B78     		ldrb	r3, [r3]
 1456 006c 5BB2     		sxtb	r3, r3
 1457 006e 172B     		cmp	r3, #23
 1458 0070 04DD     		ble	.L113
 1459              		.loc 1 357 0 is_stmt 0
 1460 0072 BB1C     		add	r3, r7, #2
 1461 0074 1B78     		ldrb	r3, [r3]
 1462 0076 5BB2     		sxtb	r3, r3
 1463 0078 322B     		cmp	r3, #50
 1464 007a 01DD     		ble	.L114
 1465              	.L113:
 1466              		.loc 1 357 0
 1467 007c 4223     		mov	r3, #66
 1468 007e BEE0     		b	.L110
 1469              	.L114:
 358:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 359:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check PLL reference clock frequency is within spec.
 360:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((crystal_val / prdiv_val) < 2000000) || ((crystal_val / prdiv_val) > 4000000)) {return 0x43;
 1470              		.loc 1 360 0 is_stmt 1
 1471 0080 FB1C     		add	r3, r7, #3
 1472 0082 1B78     		ldrb	r3, [r3]
 1473 0084 5BB2     		sxtb	r3, r3
 1474 0086 7868     		ldr	r0, [r7, #4]
 1475 0088 191C     		mov	r1, r3
 1476 008a FFF7FEFF 		bl	__aeabi_idiv
 1477 008e 031C     		mov	r3, r0
 1478 0090 1A1C     		mov	r2, r3
 1479 0092 5E4B     		ldr	r3, .L131+4
 1480 0094 9A42     		cmp	r2, r3
 1481 0096 0BDD     		ble	.L115
 1482              		.loc 1 360 0 is_stmt 0
 1483 0098 FB1C     		add	r3, r7, #3
 1484 009a 1B78     		ldrb	r3, [r3]
 1485 009c 5BB2     		sxtb	r3, r3
 1486 009e 7868     		ldr	r0, [r7, #4]
 1487 00a0 191C     		mov	r1, r3
 1488 00a2 FFF7FEFF 		bl	__aeabi_idiv
 1489 00a6 031C     		mov	r3, r0
 1490 00a8 1A1C     		mov	r2, r3
 1491 00aa 594B     		ldr	r3, .L131+8
 1492 00ac 9A42     		cmp	r2, r3
 1493 00ae 01DD     		ble	.L116
 1494              	.L115:
 1495              		.loc 1 360 0
 1496 00b0 4323     		mov	r3, #67
 1497 00b2 A4E0     		b	.L110
 1498              	.L116:
 361:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****        
 362:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check PLL output frequency is within spec.
 363:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   pll_freq = (crystal_val / prdiv_val) * vdiv_val;
 1499              		.loc 1 363 0 is_stmt 1
 1500 00b4 FB1C     		add	r3, r7, #3
 1501 00b6 1B78     		ldrb	r3, [r3]
 1502 00b8 5BB2     		sxtb	r3, r3
 1503 00ba 7868     		ldr	r0, [r7, #4]
 1504 00bc 191C     		mov	r1, r3
 1505 00be FFF7FEFF 		bl	__aeabi_idiv
 1506 00c2 031C     		mov	r3, r0
 1507 00c4 BA1C     		add	r2, r7, #2
 1508 00c6 1278     		ldrb	r2, [r2]
 1509 00c8 52B2     		sxtb	r2, r2
 1510 00ca 5343     		mul	r3, r2
 1511 00cc 3B61     		str	r3, [r7, #16]
 364:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((pll_freq < 48000000) || (pll_freq > 100000000)) {return 0x45;}
 1512              		.loc 1 364 0
 1513 00ce 3A69     		ldr	r2, [r7, #16]
 1514 00d0 504B     		ldr	r3, .L131+12
 1515 00d2 9A42     		cmp	r2, r3
 1516 00d4 03DD     		ble	.L117
 1517              		.loc 1 364 0 is_stmt 0
 1518 00d6 3A69     		ldr	r2, [r7, #16]
 1519 00d8 4F4B     		ldr	r3, .L131+16
 1520 00da 9A42     		cmp	r2, r3
 1521 00dc 01DD     		ble	.L118
 1522              	.L117:
 1523              		.loc 1 364 0
 1524 00de 4523     		mov	r3, #69
 1525 00e0 8DE0     		b	.L110
 1526              	.L118:
 365:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 366:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Configure MCG_C5
 367:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // If the PLL is to run in STOP mode then the PLLSTEN bit needs to be OR'ed in here or in user co
 368:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C5;
 1527              		.loc 1 368 0 is_stmt 1
 1528 00e2 494A     		ldr	r2, .L131
 1529 00e4 3B1C     		mov	r3, r7
 1530 00e6 0F33     		add	r3, r3, #15
 1531 00e8 1279     		ldrb	r2, [r2, #4]
 1532 00ea 1A70     		strb	r2, [r3]
 369:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C5_PRDIV0_MASK;
 1533              		.loc 1 369 0
 1534 00ec 3B1C     		mov	r3, r7
 1535 00ee 0F33     		add	r3, r3, #15
 1536 00f0 3A1C     		mov	r2, r7
 1537 00f2 0F32     		add	r2, r2, #15
 1538 00f4 1278     		ldrb	r2, [r2]
 1539 00f6 1F21     		mov	r1, #31
 1540 00f8 8A43     		bic	r2, r1
 1541 00fa 1A70     		strb	r2, [r3]
 370:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C5_PRDIV0(prdiv_val - 1);    //set PLL ref divider
 1542              		.loc 1 370 0
 1543 00fc FB1C     		add	r3, r7, #3
 1544 00fe 1B78     		ldrb	r3, [r3]
 1545 0100 013B     		sub	r3, r3, #1
 1546 0102 DAB2     		uxtb	r2, r3
 1547 0104 1F23     		mov	r3, #31
 1548 0106 1340     		and	r3, r2
 1549 0108 D9B2     		uxtb	r1, r3
 1550 010a 3B1C     		mov	r3, r7
 1551 010c 0F33     		add	r3, r3, #15
 1552 010e 3A1C     		mov	r2, r7
 1553 0110 0F32     		add	r2, r2, #15
 1554 0112 1278     		ldrb	r2, [r2]
 1555 0114 0A43     		orr	r2, r1
 1556 0116 1A70     		strb	r2, [r3]
 371:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C5 = temp_reg;
 1557              		.loc 1 371 0
 1558 0118 3B4B     		ldr	r3, .L131
 1559 011a 3A1C     		mov	r2, r7
 1560 011c 0F32     		add	r2, r2, #15
 1561 011e 1278     		ldrb	r2, [r2]
 1562 0120 1A71     		strb	r2, [r3, #4]
 372:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 373:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Configure MCG_C6
 374:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // The PLLS bit is set to enable the PLL, MCGOUT still sourced from ext ref clk 
 375:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // The clock monitor is not enabled here as it has likely been enabled previously and so the valu
 376:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // is not altered here.
 377:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // The loss of lock interrupt can be enabled by seperately OR'ing in the LOLIE bit in MCG_C6
 378:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C6; // store present C6 value
 1563              		.loc 1 378 0
 1564 0122 394A     		ldr	r2, .L131
 1565 0124 3B1C     		mov	r3, r7
 1566 0126 0F33     		add	r3, r3, #15
 1567 0128 5279     		ldrb	r2, [r2, #5]
 1568 012a 1A70     		strb	r2, [r3]
 379:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C6_VDIV0_MASK; // clear VDIV settings
 1569              		.loc 1 379 0
 1570 012c 3B1C     		mov	r3, r7
 1571 012e 0F33     		add	r3, r3, #15
 1572 0130 3A1C     		mov	r2, r7
 1573 0132 0F32     		add	r2, r2, #15
 1574 0134 1278     		ldrb	r2, [r2]
 1575 0136 1F21     		mov	r1, #31
 1576 0138 8A43     		bic	r2, r1
 1577 013a 1A70     		strb	r2, [r3]
 380:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C6_PLLS_MASK | MCG_C6_VDIV0(vdiv_val - 24); // write new VDIV and enable PLL
 1578              		.loc 1 380 0
 1579 013c BB1C     		add	r3, r7, #2
 1580 013e 1B78     		ldrb	r3, [r3]
 1581 0140 183B     		sub	r3, r3, #24
 1582 0142 DAB2     		uxtb	r2, r3
 1583 0144 1F23     		mov	r3, #31
 1584 0146 1340     		and	r3, r2
 1585 0148 DAB2     		uxtb	r2, r3
 1586 014a 3B1C     		mov	r3, r7
 1587 014c 0F33     		add	r3, r3, #15
 1588 014e 1B78     		ldrb	r3, [r3]
 1589 0150 1343     		orr	r3, r2
 1590 0152 DAB2     		uxtb	r2, r3
 1591 0154 3B1C     		mov	r3, r7
 1592 0156 0F33     		add	r3, r3, #15
 1593 0158 4021     		mov	r1, #64
 1594 015a 0A43     		orr	r2, r1
 1595 015c 1A70     		strb	r2, [r3]
 381:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 = temp_reg; // update MCG_C6
 1596              		.loc 1 381 0
 1597 015e 2A4B     		ldr	r3, .L131
 1598 0160 3A1C     		mov	r2, r7
 1599 0162 0F32     		add	r2, r2, #15
 1600 0164 1278     		ldrb	r2, [r2]
 1601 0166 5A71     		strb	r2, [r3, #5]
 382:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 383:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // wait for PLLST status bit to set
 384:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1602              		.loc 1 384 0
 1603 0168 3B1C     		mov	r3, r7
 1604 016a 1633     		add	r3, r3, #22
 1605 016c 0022     		mov	r2, #0
 1606 016e 1A80     		strh	r2, [r3]
 1607 0170 0DE0     		b	.L119
 1608              	.L122:
 385:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 386:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_PLLST_MASK) break; // jump out early if PLLST sets before loop finishes
 1609              		.loc 1 386 0
 1610 0172 254B     		ldr	r3, .L131
 1611 0174 9B79     		ldrb	r3, [r3, #6]
 1612 0176 DBB2     		uxtb	r3, r3
 1613 0178 1A1C     		mov	r2, r3
 1614 017a 2023     		mov	r3, #32
 1615 017c 1340     		and	r3, r2
 1616 017e 0ED1     		bne	.L129
 1617              	.L120:
 384:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1618              		.loc 1 384 0
 1619 0180 3B1C     		mov	r3, r7
 1620 0182 1633     		add	r3, r3, #22
 1621 0184 3A1C     		mov	r2, r7
 1622 0186 1632     		add	r2, r2, #22
 1623 0188 1288     		ldrh	r2, [r2]
 1624 018a 0132     		add	r2, r2, #1
 1625 018c 1A80     		strh	r2, [r3]
 1626              	.L119:
 384:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1627              		.loc 1 384 0 is_stmt 0
 1628 018e 3B1C     		mov	r3, r7
 1629 0190 1633     		add	r3, r3, #22
 1630 0192 0021     		mov	r1, #0
 1631 0194 5A5E     		ldrsh	r2, [r3, r1]
 1632 0196 214B     		ldr	r3, .L131+20
 1633 0198 9A42     		cmp	r2, r3
 1634 019a EADD     		ble	.L122
 1635 019c 00E0     		b	.L121
 1636              	.L129:
 1637              		.loc 1 386 0 is_stmt 1
 1638 019e C046     		mov	r8, r8
 1639              	.L121:
 387:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 388:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_PLLST_MASK)) return 0x16; // check bit is really set and return with error if
 1640              		.loc 1 388 0
 1641 01a0 194B     		ldr	r3, .L131
 1642 01a2 9B79     		ldrb	r3, [r3, #6]
 1643 01a4 DBB2     		uxtb	r3, r3
 1644 01a6 1A1C     		mov	r2, r3
 1645 01a8 2023     		mov	r3, #32
 1646 01aa 1340     		and	r3, r2
 1647 01ac 01D1     		bne	.L123
 1648              		.loc 1 388 0 is_stmt 0
 1649 01ae 1623     		mov	r3, #22
 1650 01b0 25E0     		b	.L110
 1651              	.L123:
 389:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 390:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Wait for LOCK bit to set
 391:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1652              		.loc 1 391 0 is_stmt 1
 1653 01b2 3B1C     		mov	r3, r7
 1654 01b4 1633     		add	r3, r3, #22
 1655 01b6 0022     		mov	r2, #0
 1656 01b8 1A80     		strh	r2, [r3]
 1657 01ba 0DE0     		b	.L124
 1658              	.L127:
 392:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 393:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_LOCK0_MASK) break; // jump out early if LOCK sets before loop finishes
 1659              		.loc 1 393 0
 1660 01bc 124B     		ldr	r3, .L131
 1661 01be 9B79     		ldrb	r3, [r3, #6]
 1662 01c0 DBB2     		uxtb	r3, r3
 1663 01c2 1A1C     		mov	r2, r3
 1664 01c4 4023     		mov	r3, #64
 1665 01c6 1340     		and	r3, r2
 1666 01c8 0ED1     		bne	.L130
 1667              	.L125:
 391:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1668              		.loc 1 391 0
 1669 01ca 3B1C     		mov	r3, r7
 1670 01cc 1633     		add	r3, r3, #22
 1671 01ce 3A1C     		mov	r2, r7
 1672 01d0 1632     		add	r2, r2, #22
 1673 01d2 1288     		ldrh	r2, [r2]
 1674 01d4 0132     		add	r2, r2, #1
 1675 01d6 1A80     		strh	r2, [r3]
 1676              	.L124:
 391:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 1677              		.loc 1 391 0 is_stmt 0
 1678 01d8 3B1C     		mov	r3, r7
 1679 01da 1633     		add	r3, r3, #22
 1680 01dc 0021     		mov	r1, #0
 1681 01de 5A5E     		ldrsh	r2, [r3, r1]
 1682 01e0 0E4B     		ldr	r3, .L131+20
 1683 01e2 9A42     		cmp	r2, r3
 1684 01e4 EADD     		ble	.L127
 1685 01e6 00E0     		b	.L126
 1686              	.L130:
 1687              		.loc 1 393 0 is_stmt 1
 1688 01e8 C046     		mov	r8, r8
 1689              	.L126:
 394:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 395:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_LOCK0_MASK)) return 0x44; // check bit is really set and return with error if
 1690              		.loc 1 395 0
 1691 01ea 074B     		ldr	r3, .L131
 1692 01ec 9B79     		ldrb	r3, [r3, #6]
 1693 01ee DBB2     		uxtb	r3, r3
 1694 01f0 1A1C     		mov	r2, r3
 1695 01f2 4023     		mov	r3, #64
 1696 01f4 1340     		and	r3, r2
 1697 01f6 01D1     		bne	.L128
 1698              		.loc 1 395 0 is_stmt 0
 1699 01f8 4423     		mov	r3, #68
 1700 01fa 00E0     		b	.L110
 1701              	.L128:
 396:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     
 397:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // now in PBE 
 398:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val; // MCGOUT frequency equals external clock frequency
 1702              		.loc 1 398 0 is_stmt 1
 1703 01fc 7B68     		ldr	r3, [r7, #4]
 1704              	.L110:
 399:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fbe_pbe
 1705              		.loc 1 399 0
 1706 01fe 181C     		mov	r0, r3
 1707 0200 BD46     		mov	sp, r7
 1708 0202 06B0     		add	sp, sp, #24
 1709              		@ sp needed for prologue
 1710 0204 80BD     		pop	{r7, pc}
 1711              	.L132:
 1712 0206 C046     		.align	2
 1713              	.L131:
 1714 0208 00400640 		.word	1074151424
 1715 020c 7F841E00 		.word	1999999
 1716 0210 00093D00 		.word	4000000
 1717 0214 FF6BDC02 		.word	47999999
 1718 0218 00E1F505 		.word	100000000
 1719 021c CF070000 		.word	1999
 1720              		.cfi_endproc
 1721              	.LFE4:
 1723              		.section	.text.pbe_blpe,"ax",%progbits
 1724              		.align	2
 1725              		.global	pbe_blpe
 1726              		.code	16
 1727              		.thumb_func
 1729              	pbe_blpe:
 1730              	.LFB5:
 400:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 401:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 402:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int pbe_blpe(int crystal_val)
 403:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 1731              		.loc 1 403 0
 1732              		.cfi_startproc
 1733 0000 80B5     		push	{r7, lr}
 1734              	.LCFI15:
 1735              		.cfi_def_cfa_offset 8
 1736              		.cfi_offset 7, -8
 1737              		.cfi_offset 14, -4
 1738 0002 82B0     		sub	sp, sp, #8
 1739              	.LCFI16:
 1740              		.cfi_def_cfa_offset 16
 1741 0004 00AF     		add	r7, sp, #0
 1742              	.LCFI17:
 1743              		.cfi_def_cfa_register 7
 1744 0006 7860     		str	r0, [r7, #4]
 404:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in PBE mode
 405:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1745              		.loc 1 405 0
 1746 0008 164B     		ldr	r3, .L137
 1747 000a 9B79     		ldrb	r3, [r3, #6]
 1748 000c DBB2     		uxtb	r3, r3
 1749 000e 1A1C     		mov	r2, r3
 1750 0010 0C23     		mov	r3, #12
 1751 0012 1340     		and	r3, r2
 1752 0014 9B08     		lsr	r3, r3, #2
 1753 0016 022B     		cmp	r3, #2
 1754 0018 14D1     		bne	.L134
 406:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1755              		.loc 1 406 0
 1756 001a 124B     		ldr	r3, .L137
 1757 001c 9B79     		ldrb	r3, [r3, #6]
 1758 001e DBB2     		uxtb	r3, r3
 1759 0020 1A1C     		mov	r2, r3
 1760 0022 1023     		mov	r3, #16
 1761 0024 1340     		and	r3, r2
 405:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1762              		.loc 1 405 0
 1763 0026 0DD1     		bne	.L134
 407:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_PLLST_MASK) &&                                   // check PLLS mux has selecte
 1764              		.loc 1 407 0
 1765 0028 0E4B     		ldr	r3, .L137
 1766 002a 9B79     		ldrb	r3, [r3, #6]
 1767 002c DBB2     		uxtb	r3, r3
 1768 002e 1A1C     		mov	r2, r3
 1769 0030 2023     		mov	r3, #32
 1770 0032 1340     		and	r3, r2
 406:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1771              		.loc 1 406 0
 1772 0034 06D0     		beq	.L134
 408:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check MCG_C2[LP] bit is no
 1773              		.loc 1 408 0
 1774 0036 0B4B     		ldr	r3, .L137
 1775 0038 5B78     		ldrb	r3, [r3, #1]
 1776 003a DBB2     		uxtb	r3, r3
 1777 003c 1A1C     		mov	r2, r3
 1778 003e 0223     		mov	r3, #2
 1779 0040 1340     		and	r3, r2
 405:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1780              		.loc 1 405 0
 1781 0042 01D0     		beq	.L135
 1782              	.L134:
 409:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 410:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x7;                                                       // return error code
 1783              		.loc 1 410 0
 1784 0044 0723     		mov	r3, #7
 1785 0046 08E0     		b	.L136
 1786              	.L135:
 411:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 412:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 413:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // To enter BLPE mode the LP bit must be set, disabling the PLL  
 414:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 |= MCG_C2_LP_MASK;
 1787              		.loc 1 414 0
 1788 0048 064B     		ldr	r3, .L137
 1789 004a 064A     		ldr	r2, .L137
 1790 004c 5278     		ldrb	r2, [r2, #1]
 1791 004e D2B2     		uxtb	r2, r2
 1792 0050 0221     		mov	r1, #2
 1793 0052 0A43     		orr	r2, r1
 1794 0054 D2B2     		uxtb	r2, r2
 1795 0056 5A70     		strb	r2, [r3, #1]
 415:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 416:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in BLPE mode
 417:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val;  
 1796              		.loc 1 417 0
 1797 0058 7B68     		ldr	r3, [r7, #4]
 1798              	.L136:
 418:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // pbe_blpe
 1799              		.loc 1 418 0
 1800 005a 181C     		mov	r0, r3
 1801 005c BD46     		mov	sp, r7
 1802 005e 02B0     		add	sp, sp, #8
 1803              		@ sp needed for prologue
 1804 0060 80BD     		pop	{r7, pc}
 1805              	.L138:
 1806 0062 C046     		.align	2
 1807              	.L137:
 1808 0064 00400640 		.word	1074151424
 1809              		.cfi_endproc
 1810              	.LFE5:
 1812              		.section	.text.blpe_pbe,"ax",%progbits
 1813              		.align	2
 1814              		.global	blpe_pbe
 1815              		.code	16
 1816              		.thumb_func
 1818              	blpe_pbe:
 1819              	.LFB6:
 419:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 420:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 421:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // ************************************************************************************************
 422:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Since PBE mode can be enterred via FBE -> BLPE modes, it cannot be assumed that the PLL has been
 423:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // previously configured correctly. That is why this general purpose driver has the PLL settings as
 424:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // passed parameters.
 425:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // ************************************************************************************************
 426:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int blpe_pbe(int crystal_val, signed char prdiv_val, signed char vdiv_val)
 427:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 1820              		.loc 1 427 0
 1821              		.cfi_startproc
 1822 0000 80B5     		push	{r7, lr}
 1823              	.LCFI18:
 1824              		.cfi_def_cfa_offset 8
 1825              		.cfi_offset 7, -8
 1826              		.cfi_offset 14, -4
 1827 0002 84B0     		sub	sp, sp, #16
 1828              	.LCFI19:
 1829              		.cfi_def_cfa_offset 24
 1830 0004 00AF     		add	r7, sp, #0
 1831              	.LCFI20:
 1832              		.cfi_def_cfa_register 7
 1833 0006 7860     		str	r0, [r7, #4]
 1834 0008 FB1C     		add	r3, r7, #3
 1835 000a 1970     		strb	r1, [r3]
 1836 000c BB1C     		add	r3, r7, #2
 1837 000e 1A70     		strb	r2, [r3]
 428:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
 429:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 430:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 431:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in BLPE mode
 432:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1838              		.loc 1 432 0
 1839 0010 724B     		ldr	r3, .L161
 1840 0012 9B79     		ldrb	r3, [r3, #6]
 1841 0014 DBB2     		uxtb	r3, r3
 1842 0016 1A1C     		mov	r2, r3
 1843 0018 0C23     		mov	r3, #12
 1844 001a 1340     		and	r3, r2
 1845 001c 9B08     		lsr	r3, r3, #2
 1846 001e 022B     		cmp	r3, #2
 1847 0020 0DD1     		bne	.L140
 433:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 1848              		.loc 1 433 0
 1849 0022 6E4B     		ldr	r3, .L161
 1850 0024 9B79     		ldrb	r3, [r3, #6]
 1851 0026 DBB2     		uxtb	r3, r3
 1852 0028 1A1C     		mov	r2, r3
 1853 002a 1023     		mov	r3, #16
 1854 002c 1340     		and	r3, r2
 432:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1855              		.loc 1 432 0
 1856 002e 06D1     		bne	.L140
 434:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_C2 & MCG_C2_LP_MASK)))                                     // check MCG_C2[LP] bit is se
 1857              		.loc 1 434 0
 1858 0030 6A4B     		ldr	r3, .L161
 1859 0032 5B78     		ldrb	r3, [r3, #1]
 1860 0034 DBB2     		uxtb	r3, r3
 1861 0036 1A1C     		mov	r2, r3
 1862 0038 0223     		mov	r3, #2
 1863 003a 1340     		and	r3, r2
 432:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 1864              		.loc 1 432 0
 1865 003c 01D1     		bne	.L141
 1866              	.L140:
 435:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 436:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x6;                                                       // return error code
 1867              		.loc 1 436 0
 1868 003e 0623     		mov	r3, #6
 1869 0040 C7E0     		b	.L142
 1870              	.L141:
 437:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 438:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 439:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // As the external frequency has already been checked when FBE mode was enterred it is not checked 
 440:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 441:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check PLL divider settings are within spec.
 442:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((prdiv_val < 1) || (prdiv_val > 25)) {return 0x41;}
 1871              		.loc 1 442 0
 1872 0042 FB1C     		add	r3, r7, #3
 1873 0044 1B78     		ldrb	r3, [r3]
 1874 0046 5BB2     		sxtb	r3, r3
 1875 0048 002B     		cmp	r3, #0
 1876 004a 04DD     		ble	.L143
 1877              		.loc 1 442 0 is_stmt 0
 1878 004c FB1C     		add	r3, r7, #3
 1879 004e 1B78     		ldrb	r3, [r3]
 1880 0050 5BB2     		sxtb	r3, r3
 1881 0052 192B     		cmp	r3, #25
 1882 0054 01DD     		ble	.L144
 1883              	.L143:
 1884              		.loc 1 442 0
 1885 0056 4123     		mov	r3, #65
 1886 0058 BBE0     		b	.L142
 1887              	.L144:
 443:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((vdiv_val < 24) || (vdiv_val > 50)) {return 0x42;} 
 1888              		.loc 1 443 0 is_stmt 1
 1889 005a BB1C     		add	r3, r7, #2
 1890 005c 1B78     		ldrb	r3, [r3]
 1891 005e 5BB2     		sxtb	r3, r3
 1892 0060 172B     		cmp	r3, #23
 1893 0062 04DD     		ble	.L145
 1894              		.loc 1 443 0 is_stmt 0
 1895 0064 BB1C     		add	r3, r7, #2
 1896 0066 1B78     		ldrb	r3, [r3]
 1897 0068 5BB2     		sxtb	r3, r3
 1898 006a 322B     		cmp	r3, #50
 1899 006c 01DD     		ble	.L146
 1900              	.L145:
 1901              		.loc 1 443 0
 1902 006e 4223     		mov	r3, #66
 1903 0070 AFE0     		b	.L142
 1904              	.L146:
 444:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 445:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check PLL reference clock frequency is within spec.
 446:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((crystal_val / prdiv_val) < 2000000) || ((crystal_val / prdiv_val) > 4000000)) {return 0x43;
 1905              		.loc 1 446 0 is_stmt 1
 1906 0072 FB1C     		add	r3, r7, #3
 1907 0074 1B78     		ldrb	r3, [r3]
 1908 0076 5BB2     		sxtb	r3, r3
 1909 0078 7868     		ldr	r0, [r7, #4]
 1910 007a 191C     		mov	r1, r3
 1911 007c FFF7FEFF 		bl	__aeabi_idiv
 1912 0080 031C     		mov	r3, r0
 1913 0082 1A1C     		mov	r2, r3
 1914 0084 564B     		ldr	r3, .L161+4
 1915 0086 9A42     		cmp	r2, r3
 1916 0088 0BDD     		ble	.L147
 1917              		.loc 1 446 0 is_stmt 0
 1918 008a FB1C     		add	r3, r7, #3
 1919 008c 1B78     		ldrb	r3, [r3]
 1920 008e 5BB2     		sxtb	r3, r3
 1921 0090 7868     		ldr	r0, [r7, #4]
 1922 0092 191C     		mov	r1, r3
 1923 0094 FFF7FEFF 		bl	__aeabi_idiv
 1924 0098 031C     		mov	r3, r0
 1925 009a 1A1C     		mov	r2, r3
 1926 009c 514B     		ldr	r3, .L161+8
 1927 009e 9A42     		cmp	r2, r3
 1928 00a0 01DD     		ble	.L148
 1929              	.L147:
 1930              		.loc 1 446 0
 1931 00a2 4323     		mov	r3, #67
 1932 00a4 95E0     		b	.L142
 1933              	.L148:
 447:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****        
 448:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // If PRDIV, VDIV and the PLL ref clock are in spec. then the PLL frequency is within spec.
 449:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 450:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Configure MCG_C5
 451:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // If the PLL is to run in STOP mode then the PLLSTEN bit needs to be OR'ed in here or in user code
 452:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C5;
 1934              		.loc 1 452 0 is_stmt 1
 1935 00a6 4D4A     		ldr	r2, .L161
 1936 00a8 3B1C     		mov	r3, r7
 1937 00aa 0D33     		add	r3, r3, #13
 1938 00ac 1279     		ldrb	r2, [r2, #4]
 1939 00ae 1A70     		strb	r2, [r3]
 453:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C5_PRDIV0_MASK;
 1940              		.loc 1 453 0
 1941 00b0 3B1C     		mov	r3, r7
 1942 00b2 0D33     		add	r3, r3, #13
 1943 00b4 3A1C     		mov	r2, r7
 1944 00b6 0D32     		add	r2, r2, #13
 1945 00b8 1278     		ldrb	r2, [r2]
 1946 00ba 1F21     		mov	r1, #31
 1947 00bc 8A43     		bic	r2, r1
 1948 00be 1A70     		strb	r2, [r3]
 454:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C5_PRDIV0(prdiv_val - 1);    //set PLL ref divider
 1949              		.loc 1 454 0
 1950 00c0 FB1C     		add	r3, r7, #3
 1951 00c2 1B78     		ldrb	r3, [r3]
 1952 00c4 013B     		sub	r3, r3, #1
 1953 00c6 DAB2     		uxtb	r2, r3
 1954 00c8 1F23     		mov	r3, #31
 1955 00ca 1340     		and	r3, r2
 1956 00cc D9B2     		uxtb	r1, r3
 1957 00ce 3B1C     		mov	r3, r7
 1958 00d0 0D33     		add	r3, r3, #13
 1959 00d2 3A1C     		mov	r2, r7
 1960 00d4 0D32     		add	r2, r2, #13
 1961 00d6 1278     		ldrb	r2, [r2]
 1962 00d8 0A43     		orr	r2, r1
 1963 00da 1A70     		strb	r2, [r3]
 455:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C5 = temp_reg;
 1964              		.loc 1 455 0
 1965 00dc 3F4B     		ldr	r3, .L161
 1966 00de 3A1C     		mov	r2, r7
 1967 00e0 0D32     		add	r2, r2, #13
 1968 00e2 1278     		ldrb	r2, [r2]
 1969 00e4 1A71     		strb	r2, [r3, #4]
 456:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 457:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Configure MCG_C6
 458:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // The PLLS bit is set to enable the PLL, MCGOUT still sourced from ext ref clk 
 459:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // The clock monitor is not enabled here as it has likely been enabled previously and so the value 
 460:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // is not altered here.
 461:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // The loss of lock interrupt can be enabled by seperately OR'ing in the LOLIE bit in MCG_C6
 462:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C6; // store present C6 value
 1970              		.loc 1 462 0
 1971 00e6 3D4A     		ldr	r2, .L161
 1972 00e8 3B1C     		mov	r3, r7
 1973 00ea 0D33     		add	r3, r3, #13
 1974 00ec 5279     		ldrb	r2, [r2, #5]
 1975 00ee 1A70     		strb	r2, [r3]
 463:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C6_VDIV0_MASK; // clear VDIV settings
 1976              		.loc 1 463 0
 1977 00f0 3B1C     		mov	r3, r7
 1978 00f2 0D33     		add	r3, r3, #13
 1979 00f4 3A1C     		mov	r2, r7
 1980 00f6 0D32     		add	r2, r2, #13
 1981 00f8 1278     		ldrb	r2, [r2]
 1982 00fa 1F21     		mov	r1, #31
 1983 00fc 8A43     		bic	r2, r1
 1984 00fe 1A70     		strb	r2, [r3]
 464:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C6_PLLS_MASK | MCG_C6_VDIV0(vdiv_val - 24); // write new VDIV and enable PLL
 1985              		.loc 1 464 0
 1986 0100 BB1C     		add	r3, r7, #2
 1987 0102 1B78     		ldrb	r3, [r3]
 1988 0104 183B     		sub	r3, r3, #24
 1989 0106 DAB2     		uxtb	r2, r3
 1990 0108 1F23     		mov	r3, #31
 1991 010a 1340     		and	r3, r2
 1992 010c DAB2     		uxtb	r2, r3
 1993 010e 3B1C     		mov	r3, r7
 1994 0110 0D33     		add	r3, r3, #13
 1995 0112 1B78     		ldrb	r3, [r3]
 1996 0114 1343     		orr	r3, r2
 1997 0116 DAB2     		uxtb	r2, r3
 1998 0118 3B1C     		mov	r3, r7
 1999 011a 0D33     		add	r3, r3, #13
 2000 011c 4021     		mov	r1, #64
 2001 011e 0A43     		orr	r2, r1
 2002 0120 1A70     		strb	r2, [r3]
 465:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 = temp_reg; // update MCG_C6
 2003              		.loc 1 465 0
 2004 0122 2E4B     		ldr	r3, .L161
 2005 0124 3A1C     		mov	r2, r7
 2006 0126 0D32     		add	r2, r2, #13
 2007 0128 1278     		ldrb	r2, [r2]
 2008 012a 5A71     		strb	r2, [r3, #5]
 466:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 467:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now that PLL is configured, LP is cleared to enable the PLL
 468:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 &= ~MCG_C2_LP_MASK;
 2009              		.loc 1 468 0
 2010 012c 2B4B     		ldr	r3, .L161
 2011 012e 2B4A     		ldr	r2, .L161
 2012 0130 5278     		ldrb	r2, [r2, #1]
 2013 0132 D2B2     		uxtb	r2, r2
 2014 0134 0221     		mov	r1, #2
 2015 0136 8A43     		bic	r2, r1
 2016 0138 D2B2     		uxtb	r2, r2
 2017 013a 5A70     		strb	r2, [r3, #1]
 469:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 470:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for PLLST status bit to set
 471:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2018              		.loc 1 471 0
 2019 013c 3B1C     		mov	r3, r7
 2020 013e 0E33     		add	r3, r3, #14
 2021 0140 0022     		mov	r2, #0
 2022 0142 1A80     		strh	r2, [r3]
 2023 0144 0DE0     		b	.L149
 2024              	.L152:
 472:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 473:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_PLLST_MASK) break; // jump out early if PLLST sets before loop finishes
 2025              		.loc 1 473 0
 2026 0146 254B     		ldr	r3, .L161
 2027 0148 9B79     		ldrb	r3, [r3, #6]
 2028 014a DBB2     		uxtb	r3, r3
 2029 014c 1A1C     		mov	r2, r3
 2030 014e 2023     		mov	r3, #32
 2031 0150 1340     		and	r3, r2
 2032 0152 0ED1     		bne	.L159
 2033              	.L150:
 471:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2034              		.loc 1 471 0
 2035 0154 3B1C     		mov	r3, r7
 2036 0156 0E33     		add	r3, r3, #14
 2037 0158 3A1C     		mov	r2, r7
 2038 015a 0E32     		add	r2, r2, #14
 2039 015c 1288     		ldrh	r2, [r2]
 2040 015e 0132     		add	r2, r2, #1
 2041 0160 1A80     		strh	r2, [r3]
 2042              	.L149:
 471:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2043              		.loc 1 471 0 is_stmt 0
 2044 0162 3B1C     		mov	r3, r7
 2045 0164 0E33     		add	r3, r3, #14
 2046 0166 0021     		mov	r1, #0
 2047 0168 5A5E     		ldrsh	r2, [r3, r1]
 2048 016a 1F4B     		ldr	r3, .L161+12
 2049 016c 9A42     		cmp	r2, r3
 2050 016e EADD     		ble	.L152
 2051 0170 00E0     		b	.L151
 2052              	.L159:
 2053              		.loc 1 473 0 is_stmt 1
 2054 0172 C046     		mov	r8, r8
 2055              	.L151:
 474:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 475:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_PLLST_MASK)) return 0x16; // check bit is really set and return with error if
 2056              		.loc 1 475 0
 2057 0174 194B     		ldr	r3, .L161
 2058 0176 9B79     		ldrb	r3, [r3, #6]
 2059 0178 DBB2     		uxtb	r3, r3
 2060 017a 1A1C     		mov	r2, r3
 2061 017c 2023     		mov	r3, #32
 2062 017e 1340     		and	r3, r2
 2063 0180 01D1     		bne	.L153
 2064              		.loc 1 475 0 is_stmt 0
 2065 0182 1623     		mov	r3, #22
 2066 0184 25E0     		b	.L142
 2067              	.L153:
 476:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 477:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for LOCK bit to set
 478:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2068              		.loc 1 478 0 is_stmt 1
 2069 0186 3B1C     		mov	r3, r7
 2070 0188 0E33     		add	r3, r3, #14
 2071 018a 0022     		mov	r2, #0
 2072 018c 1A80     		strh	r2, [r3]
 2073 018e 0DE0     		b	.L154
 2074              	.L157:
 479:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 480:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_LOCK0_MASK) break; // jump out early if LOCK sets before loop finishes
 2075              		.loc 1 480 0
 2076 0190 124B     		ldr	r3, .L161
 2077 0192 9B79     		ldrb	r3, [r3, #6]
 2078 0194 DBB2     		uxtb	r3, r3
 2079 0196 1A1C     		mov	r2, r3
 2080 0198 4023     		mov	r3, #64
 2081 019a 1340     		and	r3, r2
 2082 019c 0ED1     		bne	.L160
 2083              	.L155:
 478:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2084              		.loc 1 478 0
 2085 019e 3B1C     		mov	r3, r7
 2086 01a0 0E33     		add	r3, r3, #14
 2087 01a2 3A1C     		mov	r2, r7
 2088 01a4 0E32     		add	r2, r2, #14
 2089 01a6 1288     		ldrh	r2, [r2]
 2090 01a8 0132     		add	r2, r2, #1
 2091 01aa 1A80     		strh	r2, [r3]
 2092              	.L154:
 478:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2093              		.loc 1 478 0 is_stmt 0
 2094 01ac 3B1C     		mov	r3, r7
 2095 01ae 0E33     		add	r3, r3, #14
 2096 01b0 0021     		mov	r1, #0
 2097 01b2 5A5E     		ldrsh	r2, [r3, r1]
 2098 01b4 0C4B     		ldr	r3, .L161+12
 2099 01b6 9A42     		cmp	r2, r3
 2100 01b8 EADD     		ble	.L157
 2101 01ba 00E0     		b	.L156
 2102              	.L160:
 2103              		.loc 1 480 0 is_stmt 1
 2104 01bc C046     		mov	r8, r8
 2105              	.L156:
 481:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 482:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_LOCK0_MASK)) return 0x44; // check bit is really set and return with error if
 2106              		.loc 1 482 0
 2107 01be 074B     		ldr	r3, .L161
 2108 01c0 9B79     		ldrb	r3, [r3, #6]
 2109 01c2 DBB2     		uxtb	r3, r3
 2110 01c4 1A1C     		mov	r2, r3
 2111 01c6 4023     		mov	r3, #64
 2112 01c8 1340     		and	r3, r2
 2113 01ca 01D1     		bne	.L158
 2114              		.loc 1 482 0 is_stmt 0
 2115 01cc 4423     		mov	r3, #68
 2116 01ce 00E0     		b	.L142
 2117              	.L158:
 483:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 484:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // now in PBE 
 485:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val; // MCGOUT frequency equals external clock frequency  
 2118              		.loc 1 485 0 is_stmt 1
 2119 01d0 7B68     		ldr	r3, [r7, #4]
 2120              	.L142:
 486:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // blpe_pbe
 2121              		.loc 1 486 0
 2122 01d2 181C     		mov	r0, r3
 2123 01d4 BD46     		mov	sp, r7
 2124 01d6 04B0     		add	sp, sp, #16
 2125              		@ sp needed for prologue
 2126 01d8 80BD     		pop	{r7, pc}
 2127              	.L162:
 2128 01da C046     		.align	2
 2129              	.L161:
 2130 01dc 00400640 		.word	1074151424
 2131 01e0 7F841E00 		.word	1999999
 2132 01e4 00093D00 		.word	4000000
 2133 01e8 CF070000 		.word	1999
 2134              		.cfi_endproc
 2135              	.LFE6:
 2137              		.section	.text.blpe_fbe,"ax",%progbits
 2138              		.align	2
 2139              		.global	blpe_fbe
 2140              		.code	16
 2141              		.thumb_func
 2143              	blpe_fbe:
 2144              	.LFB7:
 487:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 488:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 489:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int blpe_fbe(int crystal_val)
 490:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 2145              		.loc 1 490 0
 2146              		.cfi_startproc
 2147 0000 80B5     		push	{r7, lr}
 2148              	.LCFI21:
 2149              		.cfi_def_cfa_offset 8
 2150              		.cfi_offset 7, -8
 2151              		.cfi_offset 14, -4
 2152 0002 84B0     		sub	sp, sp, #16
 2153              	.LCFI22:
 2154              		.cfi_def_cfa_offset 24
 2155 0004 00AF     		add	r7, sp, #0
 2156              	.LCFI23:
 2157              		.cfi_def_cfa_register 7
 2158 0006 7860     		str	r0, [r7, #4]
 491:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 492:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 493:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in BLPE mode
 494:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2159              		.loc 1 494 0
 2160 0008 294B     		ldr	r3, .L173
 2161 000a 9B79     		ldrb	r3, [r3, #6]
 2162 000c DBB2     		uxtb	r3, r3
 2163 000e 1A1C     		mov	r2, r3
 2164 0010 0C23     		mov	r3, #12
 2165 0012 1340     		and	r3, r2
 2166 0014 9B08     		lsr	r3, r3, #2
 2167 0016 022B     		cmp	r3, #2
 2168 0018 0DD1     		bne	.L164
 495:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 2169              		.loc 1 495 0
 2170 001a 254B     		ldr	r3, .L173
 2171 001c 9B79     		ldrb	r3, [r3, #6]
 2172 001e DBB2     		uxtb	r3, r3
 2173 0020 1A1C     		mov	r2, r3
 2174 0022 1023     		mov	r3, #16
 2175 0024 1340     		and	r3, r2
 494:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2176              		.loc 1 494 0
 2177 0026 06D1     		bne	.L164
 496:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_C2 & MCG_C2_LP_MASK)))                                     // check MCG_C2[LP] bit is se
 2178              		.loc 1 496 0
 2179 0028 214B     		ldr	r3, .L173
 2180 002a 5B78     		ldrb	r3, [r3, #1]
 2181 002c DBB2     		uxtb	r3, r3
 2182 002e 1A1C     		mov	r2, r3
 2183 0030 0223     		mov	r3, #2
 2184 0032 1340     		and	r3, r2
 494:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2185              		.loc 1 494 0
 2186 0034 01D1     		bne	.L165
 2187              	.L164:
 497:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 498:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x6;                                                       // return error code
 2188              		.loc 1 498 0
 2189 0036 0623     		mov	r3, #6
 2190 0038 35E0     		b	.L166
 2191              	.L165:
 499:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 500:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
 501:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // To move from BLPE to FBE the PLLS mux be set to select the FLL output and the LP bit must be cle
 502:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 &= ~MCG_C6_PLLS_MASK; // clear PLLS to select the FLL
 2192              		.loc 1 502 0
 2193 003a 1D4B     		ldr	r3, .L173
 2194 003c 1C4A     		ldr	r2, .L173
 2195 003e 5279     		ldrb	r2, [r2, #5]
 2196 0040 D2B2     		uxtb	r2, r2
 2197 0042 4021     		mov	r1, #64
 2198 0044 8A43     		bic	r2, r1
 2199 0046 D2B2     		uxtb	r2, r2
 2200 0048 5A71     		strb	r2, [r3, #5]
 503:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 &= ~MCG_C2_LP_MASK; // clear LP bit  
 2201              		.loc 1 503 0
 2202 004a 194B     		ldr	r3, .L173
 2203 004c 184A     		ldr	r2, .L173
 2204 004e 5278     		ldrb	r2, [r2, #1]
 2205 0050 D2B2     		uxtb	r2, r2
 2206 0052 0221     		mov	r1, #2
 2207 0054 8A43     		bic	r2, r1
 2208 0056 D2B2     		uxtb	r2, r2
 2209 0058 5A70     		strb	r2, [r3, #1]
 504:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 505:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for PLLST status bit to clear
 506:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2210              		.loc 1 506 0
 2211 005a 3B1C     		mov	r3, r7
 2212 005c 0E33     		add	r3, r3, #14
 2213 005e 0022     		mov	r2, #0
 2214 0060 1A80     		strh	r2, [r3]
 2215 0062 0DE0     		b	.L167
 2216              	.L170:
 507:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 508:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_PLLST_MASK)) break; // jump out early if PLLST clears before loop finishes
 2217              		.loc 1 508 0
 2218 0064 124B     		ldr	r3, .L173
 2219 0066 9B79     		ldrb	r3, [r3, #6]
 2220 0068 DBB2     		uxtb	r3, r3
 2221 006a 1A1C     		mov	r2, r3
 2222 006c 2023     		mov	r3, #32
 2223 006e 1340     		and	r3, r2
 2224 0070 0ED0     		beq	.L172
 2225              	.L168:
 506:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2226              		.loc 1 506 0
 2227 0072 3B1C     		mov	r3, r7
 2228 0074 0E33     		add	r3, r3, #14
 2229 0076 3A1C     		mov	r2, r7
 2230 0078 0E32     		add	r2, r2, #14
 2231 007a 1288     		ldrh	r2, [r2]
 2232 007c 0132     		add	r2, r2, #1
 2233 007e 1A80     		strh	r2, [r3]
 2234              	.L167:
 506:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2235              		.loc 1 506 0 is_stmt 0
 2236 0080 3B1C     		mov	r3, r7
 2237 0082 0E33     		add	r3, r3, #14
 2238 0084 0021     		mov	r1, #0
 2239 0086 5A5E     		ldrsh	r2, [r3, r1]
 2240 0088 0A4B     		ldr	r3, .L173+4
 2241 008a 9A42     		cmp	r2, r3
 2242 008c EADD     		ble	.L170
 2243 008e 00E0     		b	.L169
 2244              	.L172:
 2245              		.loc 1 508 0 is_stmt 1
 2246 0090 C046     		mov	r8, r8
 2247              	.L169:
 509:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 510:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_S & MCG_S_PLLST_MASK) return 0x15; // check bit is really clear and return with error if 
 2248              		.loc 1 510 0
 2249 0092 074B     		ldr	r3, .L173
 2250 0094 9B79     		ldrb	r3, [r3, #6]
 2251 0096 DBB2     		uxtb	r3, r3
 2252 0098 1A1C     		mov	r2, r3
 2253 009a 2023     		mov	r3, #32
 2254 009c 1340     		and	r3, r2
 2255 009e 01D0     		beq	.L171
 2256              		.loc 1 510 0 is_stmt 0
 2257 00a0 1523     		mov	r3, #21
 2258 00a2 00E0     		b	.L166
 2259              	.L171:
 511:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 512:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // now in FBE mode
 513:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val; // MCGOUT frequency equals external clock frequency     
 2260              		.loc 1 513 0 is_stmt 1
 2261 00a4 7B68     		ldr	r3, [r7, #4]
 2262              	.L166:
 514:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // blpe_fbe
 2263              		.loc 1 514 0
 2264 00a6 181C     		mov	r0, r3
 2265 00a8 BD46     		mov	sp, r7
 2266 00aa 04B0     		add	sp, sp, #16
 2267              		@ sp needed for prologue
 2268 00ac 80BD     		pop	{r7, pc}
 2269              	.L174:
 2270 00ae C046     		.align	2
 2271              	.L173:
 2272 00b0 00400640 		.word	1074151424
 2273 00b4 CF070000 		.word	1999
 2274              		.cfi_endproc
 2275              	.LFE7:
 2277              		.section	.text.fbe_blpe,"ax",%progbits
 2278              		.align	2
 2279              		.global	fbe_blpe
 2280              		.code	16
 2281              		.thumb_func
 2283              	fbe_blpe:
 2284              	.LFB8:
 515:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 516:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 517:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbe_blpe(int crystal_val)
 518:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 2285              		.loc 1 518 0
 2286              		.cfi_startproc
 2287 0000 80B5     		push	{r7, lr}
 2288              	.LCFI24:
 2289              		.cfi_def_cfa_offset 8
 2290              		.cfi_offset 7, -8
 2291              		.cfi_offset 14, -4
 2292 0002 82B0     		sub	sp, sp, #8
 2293              	.LCFI25:
 2294              		.cfi_def_cfa_offset 16
 2295 0004 00AF     		add	r7, sp, #0
 2296              	.LCFI26:
 2297              		.cfi_def_cfa_register 7
 2298 0006 7860     		str	r0, [r7, #4]
 519:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FBE mode
 520:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2299              		.loc 1 520 0
 2300 0008 164B     		ldr	r3, .L179
 2301 000a 9B79     		ldrb	r3, [r3, #6]
 2302 000c DBB2     		uxtb	r3, r3
 2303 000e 1A1C     		mov	r2, r3
 2304 0010 0C23     		mov	r3, #12
 2305 0012 1340     		and	r3, r2
 2306 0014 9B08     		lsr	r3, r3, #2
 2307 0016 022B     		cmp	r3, #2
 2308 0018 14D1     		bne	.L176
 521:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 2309              		.loc 1 521 0
 2310 001a 124B     		ldr	r3, .L179
 2311 001c 9B79     		ldrb	r3, [r3, #6]
 2312 001e DBB2     		uxtb	r3, r3
 2313 0020 1A1C     		mov	r2, r3
 2314 0022 1023     		mov	r3, #16
 2315 0024 1340     		and	r3, r2
 520:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2316              		.loc 1 520 0
 2317 0026 0DD1     		bne	.L176
 522:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 2318              		.loc 1 522 0
 2319 0028 0E4B     		ldr	r3, .L179
 2320 002a 9B79     		ldrb	r3, [r3, #6]
 2321 002c DBB2     		uxtb	r3, r3
 2322 002e 1A1C     		mov	r2, r3
 2323 0030 2023     		mov	r3, #32
 2324 0032 1340     		and	r3, r2
 521:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 2325              		.loc 1 521 0
 2326 0034 06D1     		bne	.L176
 523:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check MCG_C2[LP] bit is no
 2327              		.loc 1 523 0
 2328 0036 0B4B     		ldr	r3, .L179
 2329 0038 5B78     		ldrb	r3, [r3, #1]
 2330 003a DBB2     		uxtb	r3, r3
 2331 003c 1A1C     		mov	r2, r3
 2332 003e 0223     		mov	r3, #2
 2333 0040 1340     		and	r3, r2
 520:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2334              		.loc 1 520 0
 2335 0042 01D0     		beq	.L177
 2336              	.L176:
 524:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 525:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x4;                                                       // return error code
 2337              		.loc 1 525 0
 2338 0044 0423     		mov	r3, #4
 2339 0046 08E0     		b	.L178
 2340              	.L177:
 526:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 527:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
 528:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // To move from FBE to BLPE the LP bit must be set
 529:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 |= MCG_C2_LP_MASK; // set LP bit  
 2341              		.loc 1 529 0
 2342 0048 064B     		ldr	r3, .L179
 2343 004a 064A     		ldr	r2, .L179
 2344 004c 5278     		ldrb	r2, [r2, #1]
 2345 004e D2B2     		uxtb	r2, r2
 2346 0050 0221     		mov	r1, #2
 2347 0052 0A43     		orr	r2, r1
 2348 0054 D2B2     		uxtb	r2, r2
 2349 0056 5A70     		strb	r2, [r3, #1]
 530:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
 531:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // now in FBE mode
 532:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val; // MCGOUT frequency equals external clock frequency     
 2350              		.loc 1 532 0
 2351 0058 7B68     		ldr	r3, [r7, #4]
 2352              	.L178:
 533:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fbe_blpe
 2353              		.loc 1 533 0
 2354 005a 181C     		mov	r0, r3
 2355 005c BD46     		mov	sp, r7
 2356 005e 02B0     		add	sp, sp, #8
 2357              		@ sp needed for prologue
 2358 0060 80BD     		pop	{r7, pc}
 2359              	.L180:
 2360 0062 C046     		.align	2
 2361              	.L179:
 2362 0064 00400640 		.word	1074151424
 2363              		.cfi_endproc
 2364              	.LFE8:
 2366              		.section	.text.fbe_fei,"ax",%progbits
 2367              		.align	2
 2368              		.global	fbe_fei
 2369              		.code	16
 2370              		.thumb_func
 2372              	fbe_fei:
 2373              	.LFB9:
 534:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 535:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 536:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbe_fei(int slow_irc_freq)
 537:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 2374              		.loc 1 537 0
 2375              		.cfi_startproc
 2376 0000 80B5     		push	{r7, lr}
 2377              	.LCFI27:
 2378              		.cfi_def_cfa_offset 8
 2379              		.cfi_offset 7, -8
 2380              		.cfi_offset 14, -4
 2381 0002 86B0     		sub	sp, sp, #24
 2382              	.LCFI28:
 2383              		.cfi_def_cfa_offset 32
 2384 0004 00AF     		add	r7, sp, #0
 2385              	.LCFI29:
 2386              		.cfi_def_cfa_register 7
 2387 0006 7860     		str	r0, [r7, #4]
 538:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
 539:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 540:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int mcg_out;
 541:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 542:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FBE mode
 543:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2388              		.loc 1 543 0
 2389 0008 534B     		ldr	r3, .L200
 2390 000a 9B79     		ldrb	r3, [r3, #6]
 2391 000c DBB2     		uxtb	r3, r3
 2392 000e 1A1C     		mov	r2, r3
 2393 0010 0C23     		mov	r3, #12
 2394 0012 1340     		and	r3, r2
 2395 0014 9B08     		lsr	r3, r3, #2
 2396 0016 022B     		cmp	r3, #2
 2397 0018 14D1     		bne	.L182
 544:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 2398              		.loc 1 544 0
 2399 001a 4F4B     		ldr	r3, .L200
 2400 001c 9B79     		ldrb	r3, [r3, #6]
 2401 001e DBB2     		uxtb	r3, r3
 2402 0020 1A1C     		mov	r2, r3
 2403 0022 1023     		mov	r3, #16
 2404 0024 1340     		and	r3, r2
 543:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2405              		.loc 1 543 0
 2406 0026 0DD1     		bne	.L182
 545:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 2407              		.loc 1 545 0
 2408 0028 4B4B     		ldr	r3, .L200
 2409 002a 9B79     		ldrb	r3, [r3, #6]
 2410 002c DBB2     		uxtb	r3, r3
 2411 002e 1A1C     		mov	r2, r3
 2412 0030 2023     		mov	r3, #32
 2413 0032 1340     		and	r3, r2
 544:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 2414              		.loc 1 544 0
 2415 0034 06D1     		bne	.L182
 546:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check MCG_C2[LP] bit is no
 2416              		.loc 1 546 0
 2417 0036 484B     		ldr	r3, .L200
 2418 0038 5B78     		ldrb	r3, [r3, #1]
 2419 003a DBB2     		uxtb	r3, r3
 2420 003c 1A1C     		mov	r2, r3
 2421 003e 0223     		mov	r3, #2
 2422 0040 1340     		and	r3, r2
 543:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 2423              		.loc 1 543 0
 2424 0042 01D0     		beq	.L183
 2425              	.L182:
 547:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 548:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x4;                                                       // return error code
 2426              		.loc 1 548 0
 2427 0044 0423     		mov	r3, #4
 2428 0046 83E0     		b	.L184
 2429              	.L183:
 549:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 550:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 551:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check IRC frequency is within spec.
 552:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((slow_irc_freq < 31250) || (slow_irc_freq > 39063))
 2430              		.loc 1 552 0
 2431 0048 7A68     		ldr	r2, [r7, #4]
 2432 004a 444B     		ldr	r3, .L200+4
 2433 004c 9A42     		cmp	r2, r3
 2434 004e 03DD     		ble	.L185
 2435              		.loc 1 552 0 is_stmt 0
 2436 0050 7A68     		ldr	r2, [r7, #4]
 2437 0052 434B     		ldr	r3, .L200+8
 2438 0054 9A42     		cmp	r2, r3
 2439 0056 01DD     		ble	.L186
 2440              	.L185:
 553:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 554:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x31;
 2441              		.loc 1 554 0 is_stmt 1
 2442 0058 3123     		mov	r3, #49
 2443 005a 79E0     		b	.L184
 2444              	.L186:
 555:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 556:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 557:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check resulting FLL frequency 
 558:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   mcg_out = fll_freq(slow_irc_freq); 
 2445              		.loc 1 558 0
 2446 005c 7B68     		ldr	r3, [r7, #4]
 2447 005e 181C     		mov	r0, r3
 2448 0060 FFF7FEFF 		bl	fll_freq
 2449 0064 031C     		mov	r3, r0
 2450 0066 3B61     		str	r3, [r7, #16]
 559:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (mcg_out < 0x3C) {return mcg_out;} // If error code returned, return the code to calling funct
 2451              		.loc 1 559 0
 2452 0068 3B69     		ldr	r3, [r7, #16]
 2453 006a 3B2B     		cmp	r3, #59
 2454 006c 01DC     		bgt	.L187
 2455              		.loc 1 559 0 is_stmt 0
 2456 006e 3B69     		ldr	r3, [r7, #16]
 2457 0070 6EE0     		b	.L184
 2458              	.L187:
 560:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 561:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Need to make sure the clockmonitor is disabled before moving to an "internal" clock mode
 562:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 &= ~MCG_C6_CME0_MASK; //This assumes OSC0 is used as the external clock source
 2459              		.loc 1 562 0 is_stmt 1
 2460 0072 394B     		ldr	r3, .L200
 2461 0074 384A     		ldr	r2, .L200
 2462 0076 5279     		ldrb	r2, [r2, #5]
 2463 0078 D2B2     		uxtb	r2, r2
 2464 007a 2021     		mov	r1, #32
 2465 007c 8A43     		bic	r2, r1
 2466 007e D2B2     		uxtb	r2, r2
 2467 0080 5A71     		strb	r2, [r3, #5]
 563:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 564:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Move to FEI by setting CLKS to 0 and enabling the slow IRC as the FLL reference clock
 565:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 2468              		.loc 1 565 0
 2469 0082 354A     		ldr	r2, .L200
 2470 0084 3B1C     		mov	r3, r7
 2471 0086 0F33     		add	r3, r3, #15
 2472 0088 1278     		ldrb	r2, [r2]
 2473 008a 1A70     		strb	r2, [r3]
 566:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C1_CLKS_MASK; // clear CLKS to select FLL output
 2474              		.loc 1 566 0
 2475 008c 3B1C     		mov	r3, r7
 2476 008e 0F33     		add	r3, r3, #15
 2477 0090 3A1C     		mov	r2, r7
 2478 0092 0F32     		add	r2, r2, #15
 2479 0094 1178     		ldrb	r1, [r2]
 2480 0096 3F22     		mov	r2, #63
 2481 0098 0A40     		and	r2, r1
 2482 009a 1A70     		strb	r2, [r3]
 567:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C1_IREFS_MASK; // select internal reference clock
 2483              		.loc 1 567 0
 2484 009c 3B1C     		mov	r3, r7
 2485 009e 0F33     		add	r3, r3, #15
 2486 00a0 3A1C     		mov	r2, r7
 2487 00a2 0F32     		add	r2, r2, #15
 2488 00a4 1278     		ldrb	r2, [r2]
 2489 00a6 0421     		mov	r1, #4
 2490 00a8 0A43     		orr	r2, r1
 2491 00aa 1A70     		strb	r2, [r3]
 568:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg; // update MCG_C1 
 2492              		.loc 1 568 0
 2493 00ac 2A4B     		ldr	r3, .L200
 2494 00ae 3A1C     		mov	r2, r7
 2495 00b0 0F32     		add	r2, r2, #15
 2496 00b2 1278     		ldrb	r2, [r2]
 2497 00b4 1A70     		strb	r2, [r3]
 569:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 570:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for Reference clock Status bit to set
 571:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2498              		.loc 1 571 0
 2499 00b6 3B1C     		mov	r3, r7
 2500 00b8 1633     		add	r3, r3, #22
 2501 00ba 0022     		mov	r2, #0
 2502 00bc 1A80     		strh	r2, [r3]
 2503 00be 0DE0     		b	.L188
 2504              	.L191:
 572:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 573:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_IREFST_MASK) break; // jump out early if IREFST sets before loop finishes
 2505              		.loc 1 573 0
 2506 00c0 254B     		ldr	r3, .L200
 2507 00c2 9B79     		ldrb	r3, [r3, #6]
 2508 00c4 DBB2     		uxtb	r3, r3
 2509 00c6 1A1C     		mov	r2, r3
 2510 00c8 1023     		mov	r3, #16
 2511 00ca 1340     		and	r3, r2
 2512 00cc 0ED1     		bne	.L198
 2513              	.L189:
 571:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2514              		.loc 1 571 0
 2515 00ce 3B1C     		mov	r3, r7
 2516 00d0 1633     		add	r3, r3, #22
 2517 00d2 3A1C     		mov	r2, r7
 2518 00d4 1632     		add	r2, r2, #22
 2519 00d6 1288     		ldrh	r2, [r2]
 2520 00d8 0132     		add	r2, r2, #1
 2521 00da 1A80     		strh	r2, [r3]
 2522              	.L188:
 571:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2523              		.loc 1 571 0 is_stmt 0
 2524 00dc 3B1C     		mov	r3, r7
 2525 00de 1633     		add	r3, r3, #22
 2526 00e0 0021     		mov	r1, #0
 2527 00e2 5A5E     		ldrsh	r2, [r3, r1]
 2528 00e4 1F4B     		ldr	r3, .L200+12
 2529 00e6 9A42     		cmp	r2, r3
 2530 00e8 EADD     		ble	.L191
 2531 00ea 00E0     		b	.L190
 2532              	.L198:
 2533              		.loc 1 573 0 is_stmt 1
 2534 00ec C046     		mov	r8, r8
 2535              	.L190:
 574:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 575:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_IREFST_MASK)) return 0x12; // check bit is really set and return with error i
 2536              		.loc 1 575 0
 2537 00ee 1A4B     		ldr	r3, .L200
 2538 00f0 9B79     		ldrb	r3, [r3, #6]
 2539 00f2 DBB2     		uxtb	r3, r3
 2540 00f4 1A1C     		mov	r2, r3
 2541 00f6 1023     		mov	r3, #16
 2542 00f8 1340     		and	r3, r2
 2543 00fa 01D1     		bne	.L192
 2544              		.loc 1 575 0 is_stmt 0
 2545 00fc 1223     		mov	r3, #18
 2546 00fe 27E0     		b	.L184
 2547              	.L192:
 576:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 577:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to show clock source is ext ref clk
 578:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2548              		.loc 1 578 0 is_stmt 1
 2549 0100 3B1C     		mov	r3, r7
 2550 0102 1633     		add	r3, r3, #22
 2551 0104 0022     		mov	r2, #0
 2552 0106 1A80     		strh	r2, [r3]
 2553 0108 0EE0     		b	.L193
 2554              	.L196:
 579:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 580:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) break; // jump out early if CLKST
 2555              		.loc 1 580 0
 2556 010a 134B     		ldr	r3, .L200
 2557 010c 9B79     		ldrb	r3, [r3, #6]
 2558 010e DBB2     		uxtb	r3, r3
 2559 0110 1A1C     		mov	r2, r3
 2560 0112 0C23     		mov	r3, #12
 2561 0114 1340     		and	r3, r2
 2562 0116 9B08     		lsr	r3, r3, #2
 2563 0118 0ED0     		beq	.L199
 2564              	.L194:
 578:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2565              		.loc 1 578 0
 2566 011a 3B1C     		mov	r3, r7
 2567 011c 1633     		add	r3, r3, #22
 2568 011e 3A1C     		mov	r2, r7
 2569 0120 1632     		add	r2, r2, #22
 2570 0122 1288     		ldrh	r2, [r2]
 2571 0124 0132     		add	r2, r2, #1
 2572 0126 1A80     		strh	r2, [r3]
 2573              	.L193:
 578:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2574              		.loc 1 578 0 is_stmt 0
 2575 0128 3B1C     		mov	r3, r7
 2576 012a 1633     		add	r3, r3, #22
 2577 012c 0021     		mov	r1, #0
 2578 012e 5A5E     		ldrsh	r2, [r3, r1]
 2579 0130 0C4B     		ldr	r3, .L200+12
 2580 0132 9A42     		cmp	r2, r3
 2581 0134 E9DD     		ble	.L196
 2582 0136 00E0     		b	.L195
 2583              	.L199:
 2584              		.loc 1 580 0 is_stmt 1
 2585 0138 C046     		mov	r8, r8
 2586              	.L195:
 581:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 582:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x0) return 0x18; // check EXT CLK is re
 2587              		.loc 1 582 0
 2588 013a 074B     		ldr	r3, .L200
 2589 013c 9B79     		ldrb	r3, [r3, #6]
 2590 013e DBB2     		uxtb	r3, r3
 2591 0140 1A1C     		mov	r2, r3
 2592 0142 0C23     		mov	r3, #12
 2593 0144 1340     		and	r3, r2
 2594 0146 9B08     		lsr	r3, r3, #2
 2595 0148 01D0     		beq	.L197
 2596              		.loc 1 582 0 is_stmt 0
 2597 014a 1823     		mov	r3, #24
 2598 014c 00E0     		b	.L184
 2599              	.L197:
 583:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 584:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FEI mode
 585:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return mcg_out;
 2600              		.loc 1 585 0 is_stmt 1
 2601 014e 3B69     		ldr	r3, [r7, #16]
 2602              	.L184:
 586:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fbe_fei
 2603              		.loc 1 586 0
 2604 0150 181C     		mov	r0, r3
 2605 0152 BD46     		mov	sp, r7
 2606 0154 06B0     		add	sp, sp, #24
 2607              		@ sp needed for prologue
 2608 0156 80BD     		pop	{r7, pc}
 2609              	.L201:
 2610              		.align	2
 2611              	.L200:
 2612 0158 00400640 		.word	1074151424
 2613 015c 117A0000 		.word	31249
 2614 0160 97980000 		.word	39063
 2615 0164 CF070000 		.word	1999
 2616              		.cfi_endproc
 2617              	.LFE9:
 2619              		.section	.text.fei_fbe,"ax",%progbits
 2620              		.align	2
 2621              		.global	fei_fbe
 2622              		.code	16
 2623              		.thumb_func
 2625              	fei_fbe:
 2626              	.LFB10:
 587:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 588:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 589:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /********************************************************************/
 590:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /* Functon name : fei_fbe
 591:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 592:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Mode transition: FEI to FBE mode
 593:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 594:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * This function transitions the MCG from FEI mode to FBE mode. This is
 595:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * achieved by setting the MCG_C2[LP] bit. There is no status bit to 
 596:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * check so 0 is always returned if the function was called with the MCG
 597:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * in FBI mode. The MCGCLKOUT frequency does not change
 598:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 599:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Parameters: crystal_val - external clock frequency in Hz
 600:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             hgo_val     - selects whether low power or high gain mode is selected
 601:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           for the crystal oscillator. This has no meaning if an 
 602:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           external clock is used.
 603:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             erefs_val   - selects external clock (=0) or crystal osc (=1)
 604:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 605:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Return value : MCGCLKOUT frequency (Hz) or error code
 606:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  */
 607:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fei_fbe(int crystal_val, unsigned char hgo_val, unsigned char erefs_val)
 608:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 2627              		.loc 1 608 0
 2628              		.cfi_startproc
 2629 0000 80B5     		push	{r7, lr}
 2630              	.LCFI30:
 2631              		.cfi_def_cfa_offset 8
 2632              		.cfi_offset 7, -8
 2633              		.cfi_offset 14, -4
 2634 0002 84B0     		sub	sp, sp, #16
 2635              	.LCFI31:
 2636              		.cfi_def_cfa_offset 24
 2637 0004 00AF     		add	r7, sp, #0
 2638              	.LCFI32:
 2639              		.cfi_def_cfa_register 7
 2640 0006 7860     		str	r0, [r7, #4]
 2641 0008 FB1C     		add	r3, r7, #3
 2642 000a 1970     		strb	r1, [r3]
 2643 000c BB1C     		add	r3, r7, #2
 2644 000e 1A70     		strb	r2, [r3]
 609:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char frdiv_val;
 610:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
 611:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 612:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 613:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check if in FEI mode
 614:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 2645              		.loc 1 614 0
 2646 0010 B44B     		ldr	r3, .L238
 2647 0012 9B79     		ldrb	r3, [r3, #6]
 2648 0014 DBB2     		uxtb	r3, r3
 2649 0016 1A1C     		mov	r2, r3
 2650 0018 0C23     		mov	r3, #12
 2651 001a 1340     		and	r3, r2
 2652 001c 9B08     		lsr	r3, r3, #2
 2653 001e 0DD1     		bne	.L203
 615:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 2654              		.loc 1 615 0
 2655 0020 B04B     		ldr	r3, .L238
 2656 0022 9B79     		ldrb	r3, [r3, #6]
 2657 0024 DBB2     		uxtb	r3, r3
 2658 0026 1A1C     		mov	r2, r3
 2659 0028 1023     		mov	r3, #16
 2660 002a 1340     		and	r3, r2
 614:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 2661              		.loc 1 614 0
 2662 002c 06D0     		beq	.L203
 616:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK))))                                 // check PLLS mux has selecte
 2663              		.loc 1 616 0
 2664 002e AD4B     		ldr	r3, .L238
 2665 0030 9B79     		ldrb	r3, [r3, #6]
 2666 0032 DBB2     		uxtb	r3, r3
 2667 0034 1A1C     		mov	r2, r3
 2668 0036 2023     		mov	r3, #32
 2669 0038 1340     		and	r3, r2
 614:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 2670              		.loc 1 614 0
 2671 003a 01D0     		beq	.L204
 2672              	.L203:
 617:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 618:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x1;                                                     // return error code
 2673              		.loc 1 618 0
 2674 003c 0123     		mov	r3, #1
 2675 003e 4DE1     		b	.L205
 2676              	.L204:
 619:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 620:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 621:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check external frequency is less than the maximum frequency
 622:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if  (crystal_val > 50000000) {return 0x21;}
 2677              		.loc 1 622 0
 2678 0040 7A68     		ldr	r2, [r7, #4]
 2679 0042 A94B     		ldr	r3, .L238+4
 2680 0044 9A42     		cmp	r2, r3
 2681 0046 01DD     		ble	.L206
 2682              		.loc 1 622 0 is_stmt 0
 2683 0048 2123     		mov	r3, #33
 2684 004a 47E1     		b	.L205
 2685              	.L206:
 623:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 624:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check crystal frequency is within spec. if crystal osc is being used
 625:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 2686              		.loc 1 625 0 is_stmt 1
 2687 004c BB1C     		add	r3, r7, #2
 2688 004e 1B78     		ldrb	r3, [r3]
 2689 0050 002B     		cmp	r3, #0
 2690 0052 11D0     		beq	.L207
 626:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 627:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((crystal_val < 30000) ||
 2691              		.loc 1 627 0
 2692 0054 7A68     		ldr	r2, [r7, #4]
 2693 0056 A54B     		ldr	r3, .L238+8
 2694 0058 9A42     		cmp	r2, r3
 2695 005a 0BDD     		ble	.L208
 2696              		.loc 1 627 0 is_stmt 0
 2697 005c 7A68     		ldr	r2, [r7, #4]
 2698 005e A44B     		ldr	r3, .L238+12
 2699 0060 9A42     		cmp	r2, r3
 2700 0062 03DD     		ble	.L209
 628:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         ((crystal_val > 40000) && (crystal_val < 3000000)) ||
 2701              		.loc 1 628 0 is_stmt 1
 2702 0064 7A68     		ldr	r2, [r7, #4]
 2703 0066 A34B     		ldr	r3, .L238+16
 2704 0068 9A42     		cmp	r2, r3
 2705 006a 03DD     		ble	.L208
 2706              	.L209:
 2707              		.loc 1 628 0 is_stmt 0
 2708 006c 7A68     		ldr	r2, [r7, #4]
 2709 006e A24B     		ldr	r3, .L238+20
 2710 0070 9A42     		cmp	r2, r3
 2711 0072 01DD     		ble	.L207
 2712              	.L208:
 629:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         (crystal_val > 32000000)) {return 0x22;} // return error if one of the available crystal op
 2713              		.loc 1 629 0 is_stmt 1
 2714 0074 2223     		mov	r3, #34
 2715 0076 31E1     		b	.L205
 2716              	.L207:
 630:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 631:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 632:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // make sure HGO will never be greater than 1. Could return an error instead if desired.  
 633:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (hgo_val > 0)
 2717              		.loc 1 633 0
 2718 0078 FB1C     		add	r3, r7, #3
 2719 007a 1B78     		ldrb	r3, [r3]
 2720 007c 002B     		cmp	r3, #0
 2721 007e 02D0     		beq	.L210
 634:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 635:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     hgo_val = 1; // force hgo_val to 1 if > 0
 2722              		.loc 1 635 0
 2723 0080 FB1C     		add	r3, r7, #3
 2724 0082 0122     		mov	r2, #1
 2725 0084 1A70     		strb	r2, [r3]
 2726              	.L210:
 636:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 637:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 638:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // configure the MCG_C2 register
 639:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // the RANGE value is determined by the external frequency. Since the RANGE parameter affects the F
 640:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // it still needs to be set correctly even if the oscillator is not being used
 641:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C2;
 2727              		.loc 1 641 0
 2728 0086 974A     		ldr	r2, .L238
 2729 0088 3B1C     		mov	r3, r7
 2730 008a 0E33     		add	r3, r3, #14
 2731 008c 5278     		ldrb	r2, [r2, #1]
 2732 008e 1A70     		strb	r2, [r3]
 642:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C2_RANGE0_MASK | MCG_C2_HGO0_MASK | MCG_C2_EREFS0_MASK); // clear fields before
 2733              		.loc 1 642 0
 2734 0090 3B1C     		mov	r3, r7
 2735 0092 0E33     		add	r3, r3, #14
 2736 0094 3A1C     		mov	r2, r7
 2737 0096 0E32     		add	r2, r2, #14
 2738 0098 1278     		ldrb	r2, [r2]
 2739 009a 3C21     		mov	r1, #60
 2740 009c 8A43     		bic	r2, r1
 2741 009e 1A70     		strb	r2, [r3]
 643:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 40000)
 2742              		.loc 1 643 0
 2743 00a0 7A68     		ldr	r2, [r7, #4]
 2744 00a2 934B     		ldr	r3, .L238+12
 2745 00a4 9A42     		cmp	r2, r3
 2746 00a6 11DC     		bgt	.L211
 644:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 645:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(0) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 2747              		.loc 1 645 0
 2748 00a8 FB1C     		add	r3, r7, #3
 2749 00aa 1B78     		ldrb	r3, [r3]
 2750 00ac DB00     		lsl	r3, r3, #3
 2751 00ae DAB2     		uxtb	r2, r3
 2752 00b0 BB1C     		add	r3, r7, #2
 2753 00b2 1B78     		ldrb	r3, [r3]
 2754 00b4 9B00     		lsl	r3, r3, #2
 2755 00b6 DBB2     		uxtb	r3, r3
 2756 00b8 1343     		orr	r3, r2
 2757 00ba D9B2     		uxtb	r1, r3
 2758 00bc 3B1C     		mov	r3, r7
 2759 00be 0E33     		add	r3, r3, #14
 2760 00c0 3A1C     		mov	r2, r7
 2761 00c2 0E32     		add	r2, r2, #14
 2762 00c4 1278     		ldrb	r2, [r2]
 2763 00c6 0A43     		orr	r2, r1
 2764 00c8 1A70     		strb	r2, [r3]
 2765 00ca 2CE0     		b	.L212
 2766              	.L211:
 646:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 647:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 8000000)
 2767              		.loc 1 647 0
 2768 00cc 7A68     		ldr	r2, [r7, #4]
 2769 00ce 8B4B     		ldr	r3, .L238+24
 2770 00d0 9A42     		cmp	r2, r3
 2771 00d2 14DC     		bgt	.L213
 648:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 649:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(1) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 2772              		.loc 1 649 0
 2773 00d4 FB1C     		add	r3, r7, #3
 2774 00d6 1B78     		ldrb	r3, [r3]
 2775 00d8 DB00     		lsl	r3, r3, #3
 2776 00da DAB2     		uxtb	r2, r3
 2777 00dc BB1C     		add	r3, r7, #2
 2778 00de 1B78     		ldrb	r3, [r3]
 2779 00e0 9B00     		lsl	r3, r3, #2
 2780 00e2 DBB2     		uxtb	r3, r3
 2781 00e4 1343     		orr	r3, r2
 2782 00e6 DAB2     		uxtb	r2, r3
 2783 00e8 3B1C     		mov	r3, r7
 2784 00ea 0E33     		add	r3, r3, #14
 2785 00ec 1B78     		ldrb	r3, [r3]
 2786 00ee 1343     		orr	r3, r2
 2787 00f0 DAB2     		uxtb	r2, r3
 2788 00f2 3B1C     		mov	r3, r7
 2789 00f4 0E33     		add	r3, r3, #14
 2790 00f6 1021     		mov	r1, #16
 2791 00f8 0A43     		orr	r2, r1
 2792 00fa 1A70     		strb	r2, [r3]
 2793 00fc 13E0     		b	.L212
 2794              	.L213:
 650:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 651:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
 652:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 653:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(2) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 2795              		.loc 1 653 0
 2796 00fe FB1C     		add	r3, r7, #3
 2797 0100 1B78     		ldrb	r3, [r3]
 2798 0102 DB00     		lsl	r3, r3, #3
 2799 0104 DAB2     		uxtb	r2, r3
 2800 0106 BB1C     		add	r3, r7, #2
 2801 0108 1B78     		ldrb	r3, [r3]
 2802 010a 9B00     		lsl	r3, r3, #2
 2803 010c DBB2     		uxtb	r3, r3
 2804 010e 1343     		orr	r3, r2
 2805 0110 DAB2     		uxtb	r2, r3
 2806 0112 3B1C     		mov	r3, r7
 2807 0114 0E33     		add	r3, r3, #14
 2808 0116 1B78     		ldrb	r3, [r3]
 2809 0118 1343     		orr	r3, r2
 2810 011a DAB2     		uxtb	r2, r3
 2811 011c 3B1C     		mov	r3, r7
 2812 011e 0E33     		add	r3, r3, #14
 2813 0120 2021     		mov	r1, #32
 2814 0122 0A43     		orr	r2, r1
 2815 0124 1A70     		strb	r2, [r3]
 2816              	.L212:
 654:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 655:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 = temp_reg;
 2817              		.loc 1 655 0
 2818 0126 6F4B     		ldr	r3, .L238
 2819 0128 3A1C     		mov	r2, r7
 2820 012a 0E32     		add	r2, r2, #14
 2821 012c 1278     		ldrb	r2, [r2]
 2822 012e 5A70     		strb	r2, [r3, #1]
 656:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // determine FRDIV based on reference clock frequency
 657:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // since the external frequency has already been checked only the maximum frequency for each FRDIV 
 658:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 1250000) {frdiv_val = 0;}
 2823              		.loc 1 658 0
 2824 0130 7A68     		ldr	r2, [r7, #4]
 2825 0132 734B     		ldr	r3, .L238+28
 2826 0134 9A42     		cmp	r2, r3
 2827 0136 04DC     		bgt	.L214
 2828              		.loc 1 658 0 is_stmt 0
 2829 0138 3B1C     		mov	r3, r7
 2830 013a 0F33     		add	r3, r3, #15
 2831 013c 0022     		mov	r2, #0
 2832 013e 1A70     		strb	r2, [r3]
 2833 0140 27E0     		b	.L215
 2834              	.L214:
 659:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 2500000) {frdiv_val = 1;}
 2835              		.loc 1 659 0 is_stmt 1
 2836 0142 7A68     		ldr	r2, [r7, #4]
 2837 0144 6F4B     		ldr	r3, .L238+32
 2838 0146 9A42     		cmp	r2, r3
 2839 0148 04DC     		bgt	.L216
 2840              		.loc 1 659 0 is_stmt 0
 2841 014a 3B1C     		mov	r3, r7
 2842 014c 0F33     		add	r3, r3, #15
 2843 014e 0122     		mov	r2, #1
 2844 0150 1A70     		strb	r2, [r3]
 2845 0152 1EE0     		b	.L215
 2846              	.L216:
 660:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 5000000) {frdiv_val = 2;}
 2847              		.loc 1 660 0 is_stmt 1
 2848 0154 7A68     		ldr	r2, [r7, #4]
 2849 0156 6C4B     		ldr	r3, .L238+36
 2850 0158 9A42     		cmp	r2, r3
 2851 015a 04DC     		bgt	.L217
 2852              		.loc 1 660 0 is_stmt 0
 2853 015c 3B1C     		mov	r3, r7
 2854 015e 0F33     		add	r3, r3, #15
 2855 0160 0222     		mov	r2, #2
 2856 0162 1A70     		strb	r2, [r3]
 2857 0164 15E0     		b	.L215
 2858              	.L217:
 661:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 10000000) {frdiv_val = 3;}
 2859              		.loc 1 661 0 is_stmt 1
 2860 0166 7A68     		ldr	r2, [r7, #4]
 2861 0168 684B     		ldr	r3, .L238+40
 2862 016a 9A42     		cmp	r2, r3
 2863 016c 04DC     		bgt	.L218
 2864              		.loc 1 661 0 is_stmt 0
 2865 016e 3B1C     		mov	r3, r7
 2866 0170 0F33     		add	r3, r3, #15
 2867 0172 0322     		mov	r2, #3
 2868 0174 1A70     		strb	r2, [r3]
 2869 0176 0CE0     		b	.L215
 2870              	.L218:
 662:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 20000000) {frdiv_val = 4;}
 2871              		.loc 1 662 0 is_stmt 1
 2872 0178 7A68     		ldr	r2, [r7, #4]
 2873 017a 654B     		ldr	r3, .L238+44
 2874 017c 9A42     		cmp	r2, r3
 2875 017e 04DC     		bgt	.L219
 2876              		.loc 1 662 0 is_stmt 0
 2877 0180 3B1C     		mov	r3, r7
 2878 0182 0F33     		add	r3, r3, #15
 2879 0184 0422     		mov	r2, #4
 2880 0186 1A70     		strb	r2, [r3]
 2881 0188 03E0     		b	.L215
 2882              	.L219:
 663:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else {frdiv_val = 5;}
 2883              		.loc 1 663 0 is_stmt 1
 2884 018a 3B1C     		mov	r3, r7
 2885 018c 0F33     		add	r3, r3, #15
 2886 018e 0522     		mov	r2, #5
 2887 0190 1A70     		strb	r2, [r3]
 2888              	.L215:
 664:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 665:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select external oscilator and Reference Divider and clear IREFS to start ext osc
 666:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // If IRCLK is required it must be enabled outside of this driver, existing state will be maintaine
 667:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // CLKS=2, FRDIV=frdiv_val, IREFS=0, IRCLKEN=0, IREFSTEN=0
 668:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 2889              		.loc 1 668 0
 2890 0192 544A     		ldr	r2, .L238
 2891 0194 3B1C     		mov	r3, r7
 2892 0196 0E33     		add	r3, r3, #14
 2893 0198 1278     		ldrb	r2, [r2]
 2894 019a 1A70     		strb	r2, [r3]
 669:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C1_CLKS_MASK | MCG_C1_FRDIV_MASK | MCG_C1_IREFS_MASK); // Clear values in these
 2895              		.loc 1 669 0
 2896 019c 3B1C     		mov	r3, r7
 2897 019e 0E33     		add	r3, r3, #14
 2898 01a0 3A1C     		mov	r2, r7
 2899 01a2 0E32     		add	r2, r2, #14
 2900 01a4 1178     		ldrb	r1, [r2]
 2901 01a6 0322     		mov	r2, #3
 2902 01a8 0A40     		and	r2, r1
 2903 01aa 1A70     		strb	r2, [r3]
 670:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= (MCG_C1_CLKS(2) | MCG_C1_FRDIV(frdiv_val)); // Set the required CLKS and FRDIV values
 2904              		.loc 1 670 0
 2905 01ac 3B1C     		mov	r3, r7
 2906 01ae 0F33     		add	r3, r3, #15
 2907 01b0 1B78     		ldrb	r3, [r3]
 2908 01b2 DB00     		lsl	r3, r3, #3
 2909 01b4 DAB2     		uxtb	r2, r3
 2910 01b6 3823     		mov	r3, #56
 2911 01b8 1340     		and	r3, r2
 2912 01ba DAB2     		uxtb	r2, r3
 2913 01bc 3B1C     		mov	r3, r7
 2914 01be 0E33     		add	r3, r3, #14
 2915 01c0 1B78     		ldrb	r3, [r3]
 2916 01c2 1343     		orr	r3, r2
 2917 01c4 DAB2     		uxtb	r2, r3
 2918 01c6 3B1C     		mov	r3, r7
 2919 01c8 0E33     		add	r3, r3, #14
 2920 01ca 8021     		mov	r1, #128
 2921 01cc 4942     		neg	r1, r1
 2922 01ce 0A43     		orr	r2, r1
 2923 01d0 1A70     		strb	r2, [r3]
 671:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg;
 2924              		.loc 1 671 0
 2925 01d2 444B     		ldr	r3, .L238
 2926 01d4 3A1C     		mov	r2, r7
 2927 01d6 0E32     		add	r2, r2, #14
 2928 01d8 1278     		ldrb	r2, [r2]
 2929 01da 1A70     		strb	r2, [r3]
 672:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 673:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // if the external oscillator is used need to wait for OSCINIT to set
 674:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 2930              		.loc 1 674 0
 2931 01dc BB1C     		add	r3, r7, #2
 2932 01de 1B78     		ldrb	r3, [r3]
 2933 01e0 002B     		cmp	r3, #0
 2934 01e2 24D0     		beq	.L220
 675:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 676:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 2935              		.loc 1 676 0
 2936 01e4 3B1C     		mov	r3, r7
 2937 01e6 0C33     		add	r3, r3, #12
 2938 01e8 0022     		mov	r2, #0
 2939 01ea 1A80     		strh	r2, [r3]
 2940 01ec 0DE0     		b	.L221
 2941              	.L224:
 677:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
 678:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (MCG_S & MCG_S_OSCINIT0_MASK) break; // jump out early if OSCINIT sets before loop finishe
 2942              		.loc 1 678 0
 2943 01ee 3D4B     		ldr	r3, .L238
 2944 01f0 9B79     		ldrb	r3, [r3, #6]
 2945 01f2 DBB2     		uxtb	r3, r3
 2946 01f4 1A1C     		mov	r2, r3
 2947 01f6 0223     		mov	r3, #2
 2948 01f8 1340     		and	r3, r2
 2949 01fa 0ED1     		bne	.L235
 2950              	.L222:
 676:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 2951              		.loc 1 676 0
 2952 01fc 3B1C     		mov	r3, r7
 2953 01fe 0C33     		add	r3, r3, #12
 2954 0200 3A1C     		mov	r2, r7
 2955 0202 0C32     		add	r2, r2, #12
 2956 0204 1288     		ldrh	r2, [r2]
 2957 0206 0132     		add	r2, r2, #1
 2958 0208 1A80     		strh	r2, [r3]
 2959              	.L221:
 676:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 2960              		.loc 1 676 0 is_stmt 0
 2961 020a 3B1C     		mov	r3, r7
 2962 020c 0C33     		add	r3, r3, #12
 2963 020e 0021     		mov	r1, #0
 2964 0210 5A5E     		ldrsh	r2, [r3, r1]
 2965 0212 404B     		ldr	r3, .L238+48
 2966 0214 9A42     		cmp	r2, r3
 2967 0216 EADD     		ble	.L224
 2968 0218 00E0     		b	.L223
 2969              	.L235:
 2970              		.loc 1 678 0 is_stmt 1
 2971 021a C046     		mov	r8, r8
 2972              	.L223:
 679:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
 680:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_OSCINIT0_MASK)) return 0x23; // check bit is really set and return with err
 2973              		.loc 1 680 0
 2974 021c 314B     		ldr	r3, .L238
 2975 021e 9B79     		ldrb	r3, [r3, #6]
 2976 0220 DBB2     		uxtb	r3, r3
 2977 0222 1A1C     		mov	r2, r3
 2978 0224 0223     		mov	r3, #2
 2979 0226 1340     		and	r3, r2
 2980 0228 01D1     		bne	.L220
 2981              		.loc 1 680 0 is_stmt 0
 2982 022a 2323     		mov	r3, #35
 2983 022c 56E0     		b	.L205
 2984              	.L220:
 681:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 682:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 683:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for Reference clock Status bit to clear
 684:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 2985              		.loc 1 684 0 is_stmt 1
 2986 022e 3B1C     		mov	r3, r7
 2987 0230 0C33     		add	r3, r3, #12
 2988 0232 0022     		mov	r2, #0
 2989 0234 1A80     		strh	r2, [r3]
 2990 0236 0DE0     		b	.L225
 2991              	.L228:
 685:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 686:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_IREFST_MASK)) break; // jump out early if IREFST clears before loop finishe
 2992              		.loc 1 686 0
 2993 0238 2A4B     		ldr	r3, .L238
 2994 023a 9B79     		ldrb	r3, [r3, #6]
 2995 023c DBB2     		uxtb	r3, r3
 2996 023e 1A1C     		mov	r2, r3
 2997 0240 1023     		mov	r3, #16
 2998 0242 1340     		and	r3, r2
 2999 0244 0ED0     		beq	.L236
 3000              	.L226:
 684:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3001              		.loc 1 684 0
 3002 0246 3B1C     		mov	r3, r7
 3003 0248 0C33     		add	r3, r3, #12
 3004 024a 3A1C     		mov	r2, r7
 3005 024c 0C32     		add	r2, r2, #12
 3006 024e 1288     		ldrh	r2, [r2]
 3007 0250 0132     		add	r2, r2, #1
 3008 0252 1A80     		strh	r2, [r3]
 3009              	.L225:
 684:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3010              		.loc 1 684 0 is_stmt 0
 3011 0254 3B1C     		mov	r3, r7
 3012 0256 0C33     		add	r3, r3, #12
 3013 0258 0021     		mov	r1, #0
 3014 025a 5A5E     		ldrsh	r2, [r3, r1]
 3015 025c 2E4B     		ldr	r3, .L238+52
 3016 025e 9A42     		cmp	r2, r3
 3017 0260 EADD     		ble	.L228
 3018 0262 00E0     		b	.L227
 3019              	.L236:
 3020              		.loc 1 686 0 is_stmt 1
 3021 0264 C046     		mov	r8, r8
 3022              	.L227:
 687:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 688:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_S & MCG_S_IREFST_MASK) return 0x11; // check bit is really clear and return with error if
 3023              		.loc 1 688 0
 3024 0266 1F4B     		ldr	r3, .L238
 3025 0268 9B79     		ldrb	r3, [r3, #6]
 3026 026a DBB2     		uxtb	r3, r3
 3027 026c 1A1C     		mov	r2, r3
 3028 026e 1023     		mov	r3, #16
 3029 0270 1340     		and	r3, r2
 3030 0272 01D0     		beq	.L229
 3031              		.loc 1 688 0 is_stmt 0
 3032 0274 1123     		mov	r3, #17
 3033 0276 31E0     		b	.L205
 3034              	.L229:
 689:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 690:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to show clock source is ext ref clk
 691:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3035              		.loc 1 691 0 is_stmt 1
 3036 0278 3B1C     		mov	r3, r7
 3037 027a 0C33     		add	r3, r3, #12
 3038 027c 0022     		mov	r2, #0
 3039 027e 1A80     		strh	r2, [r3]
 3040 0280 0FE0     		b	.L230
 3041              	.L233:
 692:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 693:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) break; // jump out early if CLKST
 3042              		.loc 1 693 0
 3043 0282 184B     		ldr	r3, .L238
 3044 0284 9B79     		ldrb	r3, [r3, #6]
 3045 0286 DBB2     		uxtb	r3, r3
 3046 0288 1A1C     		mov	r2, r3
 3047 028a 0C23     		mov	r3, #12
 3048 028c 1340     		and	r3, r2
 3049 028e 9B08     		lsr	r3, r3, #2
 3050 0290 022B     		cmp	r3, #2
 3051 0292 0ED0     		beq	.L237
 3052              	.L231:
 691:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3053              		.loc 1 691 0
 3054 0294 3B1C     		mov	r3, r7
 3055 0296 0C33     		add	r3, r3, #12
 3056 0298 3A1C     		mov	r2, r7
 3057 029a 0C32     		add	r2, r2, #12
 3058 029c 1288     		ldrh	r2, [r2]
 3059 029e 0132     		add	r2, r2, #1
 3060 02a0 1A80     		strh	r2, [r3]
 3061              	.L230:
 691:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3062              		.loc 1 691 0 is_stmt 0
 3063 02a2 3B1C     		mov	r3, r7
 3064 02a4 0C33     		add	r3, r3, #12
 3065 02a6 0021     		mov	r1, #0
 3066 02a8 5A5E     		ldrsh	r2, [r3, r1]
 3067 02aa 1B4B     		ldr	r3, .L238+52
 3068 02ac 9A42     		cmp	r2, r3
 3069 02ae E8DD     		ble	.L233
 3070 02b0 00E0     		b	.L232
 3071              	.L237:
 3072              		.loc 1 693 0 is_stmt 1
 3073 02b2 C046     		mov	r8, r8
 3074              	.L232:
 694:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 695:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x2) return 0x1A; // check EXT CLK is re
 3075              		.loc 1 695 0
 3076 02b4 0B4B     		ldr	r3, .L238
 3077 02b6 9B79     		ldrb	r3, [r3, #6]
 3078 02b8 DBB2     		uxtb	r3, r3
 3079 02ba 1A1C     		mov	r2, r3
 3080 02bc 0C23     		mov	r3, #12
 3081 02be 1340     		and	r3, r2
 3082 02c0 9B08     		lsr	r3, r3, #2
 3083 02c2 022B     		cmp	r3, #2
 3084 02c4 01D0     		beq	.L234
 3085              		.loc 1 695 0 is_stmt 0
 3086 02c6 1A23     		mov	r3, #26
 3087 02c8 08E0     		b	.L205
 3088              	.L234:
 696:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
 697:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBE  
 698:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // It is recommended that the clock monitor is enabled when using an external clock as the clock so
 699:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // It is enabled here but can be removed if this is not required.
 700:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 |= MCG_C6_CME0_MASK;
 3089              		.loc 1 700 0 is_stmt 1
 3090 02ca 064B     		ldr	r3, .L238
 3091 02cc 054A     		ldr	r2, .L238
 3092 02ce 5279     		ldrb	r2, [r2, #5]
 3093 02d0 D2B2     		uxtb	r2, r2
 3094 02d2 2021     		mov	r1, #32
 3095 02d4 0A43     		orr	r2, r1
 3096 02d6 D2B2     		uxtb	r2, r2
 3097 02d8 5A71     		strb	r2, [r3, #5]
 701:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 702:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val; // MCGOUT frequency equals external clock frequency
 3098              		.loc 1 702 0
 3099 02da 7B68     		ldr	r3, [r7, #4]
 3100              	.L205:
 703:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fei_fbe
 3101              		.loc 1 703 0
 3102 02dc 181C     		mov	r0, r3
 3103 02de BD46     		mov	sp, r7
 3104 02e0 04B0     		add	sp, sp, #16
 3105              		@ sp needed for prologue
 3106 02e2 80BD     		pop	{r7, pc}
 3107              	.L239:
 3108              		.align	2
 3109              	.L238:
 3110 02e4 00400640 		.word	1074151424
 3111 02e8 80F0FA02 		.word	50000000
 3112 02ec 2F750000 		.word	29999
 3113 02f0 409C0000 		.word	40000
 3114 02f4 BFC62D00 		.word	2999999
 3115 02f8 0048E801 		.word	32000000
 3116 02fc 00127A00 		.word	8000000
 3117 0300 D0121300 		.word	1250000
 3118 0304 A0252600 		.word	2500000
 3119 0308 404B4C00 		.word	5000000
 3120 030c 80969800 		.word	10000000
 3121 0310 002D3101 		.word	20000000
 3122 0314 0F270000 		.word	9999
 3123 0318 CF070000 		.word	1999
 3124              		.cfi_endproc
 3125              	.LFE10:
 3127              		.section	.text.fbe_fee,"ax",%progbits
 3128              		.align	2
 3129              		.global	fbe_fee
 3130              		.code	16
 3131              		.thumb_func
 3133              	fbe_fee:
 3134              	.LFB11:
 704:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 705:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 706:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbe_fee(int crystal_val)
 707:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 3135              		.loc 1 707 0
 3136              		.cfi_startproc
 3137 0000 80B5     		push	{r7, lr}
 3138              	.LCFI33:
 3139              		.cfi_def_cfa_offset 8
 3140              		.cfi_offset 7, -8
 3141              		.cfi_offset 14, -4
 3142 0002 84B0     		sub	sp, sp, #16
 3143              	.LCFI34:
 3144              		.cfi_def_cfa_offset 24
 3145 0004 00AF     		add	r7, sp, #0
 3146              	.LCFI35:
 3147              		.cfi_def_cfa_register 7
 3148 0006 7860     		str	r0, [r7, #4]
 708:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i, fll_ref_freq;
 709:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int mcg_out;
 710:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 711:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FBE mode
 712:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 3149              		.loc 1 712 0
 3150 0008 494B     		ldr	r3, .L253
 3151 000a 9B79     		ldrb	r3, [r3, #6]
 3152 000c DBB2     		uxtb	r3, r3
 3153 000e 1A1C     		mov	r2, r3
 3154 0010 0C23     		mov	r3, #12
 3155 0012 1340     		and	r3, r2
 3156 0014 9B08     		lsr	r3, r3, #2
 3157 0016 022B     		cmp	r3, #2
 3158 0018 14D1     		bne	.L241
 713:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 3159              		.loc 1 713 0
 3160 001a 454B     		ldr	r3, .L253
 3161 001c 9B79     		ldrb	r3, [r3, #6]
 3162 001e DBB2     		uxtb	r3, r3
 3163 0020 1A1C     		mov	r2, r3
 3164 0022 1023     		mov	r3, #16
 3165 0024 1340     		and	r3, r2
 712:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 3166              		.loc 1 712 0
 3167 0026 0DD1     		bne	.L241
 714:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 3168              		.loc 1 714 0
 3169 0028 414B     		ldr	r3, .L253
 3170 002a 9B79     		ldrb	r3, [r3, #6]
 3171 002c DBB2     		uxtb	r3, r3
 3172 002e 1A1C     		mov	r2, r3
 3173 0030 2023     		mov	r3, #32
 3174 0032 1340     		and	r3, r2
 713:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 3175              		.loc 1 713 0
 3176 0034 06D1     		bne	.L241
 715:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check MCG_C2[LP] bit is no
 3177              		.loc 1 715 0
 3178 0036 3E4B     		ldr	r3, .L253
 3179 0038 5B78     		ldrb	r3, [r3, #1]
 3180 003a DBB2     		uxtb	r3, r3
 3181 003c 1A1C     		mov	r2, r3
 3182 003e 0223     		mov	r3, #2
 3183 0040 1340     		and	r3, r2
 712:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 3184              		.loc 1 712 0
 3185 0042 01D0     		beq	.L242
 3186              	.L241:
 716:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 717:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x4;                                                       // return error code
 3187              		.loc 1 717 0
 3188 0044 0423     		mov	r3, #4
 3189 0046 6EE0     		b	.L243
 3190              	.L242:
 718:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 719:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 720:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // The FLL ref clk divide value depends on FRDIV and the RANGE value
 721:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_C2 & MCG_C2_RANGE0_MASK) >> MCG_C2_RANGE0_SHIFT) > 0)
 3191              		.loc 1 721 0
 3192 0048 394B     		ldr	r3, .L253
 3193 004a 5B78     		ldrb	r3, [r3, #1]
 3194 004c DBB2     		uxtb	r3, r3
 3195 004e 1A1C     		mov	r2, r3
 3196 0050 3023     		mov	r3, #48
 3197 0052 1340     		and	r3, r2
 3198 0054 1B09     		lsr	r3, r3, #4
 3199 0056 14D0     		beq	.L244
 722:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 723:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fll_ref_freq = (crystal_val / (32 << ((MCG_C1 & MCG_C1_FRDIV_MASK) >> MCG_C1_FRDIV_SHIFT)));
 3200              		.loc 1 723 0
 3201 0058 354B     		ldr	r3, .L253
 3202 005a 1B78     		ldrb	r3, [r3]
 3203 005c DBB2     		uxtb	r3, r3
 3204 005e 1A1C     		mov	r2, r3
 3205 0060 3823     		mov	r3, #56
 3206 0062 1340     		and	r3, r2
 3207 0064 DB08     		lsr	r3, r3, #3
 3208 0066 2022     		mov	r2, #32
 3209 0068 111C     		mov	r1, r2
 3210 006a 9940     		lsl	r1, r1, r3
 3211 006c 0B1C     		mov	r3, r1
 3212 006e 7868     		ldr	r0, [r7, #4]
 3213 0070 191C     		mov	r1, r3
 3214 0072 FFF7FEFF 		bl	__aeabi_idiv
 3215 0076 031C     		mov	r3, r0
 3216 0078 1A1C     		mov	r2, r3
 3217 007a 3B1C     		mov	r3, r7
 3218 007c 0C33     		add	r3, r3, #12
 3219 007e 1A80     		strh	r2, [r3]
 3220 0080 13E0     		b	.L245
 3221              	.L244:
 724:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 725:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
 726:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 727:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fll_ref_freq = ((crystal_val) / (1 << (((MCG_C2 & MCG_C2_RANGE0_MASK) >> MCG_C2_RANGE0_SHIFT)))
 3222              		.loc 1 727 0
 3223 0082 2B4B     		ldr	r3, .L253
 3224 0084 5B78     		ldrb	r3, [r3, #1]
 3225 0086 DBB2     		uxtb	r3, r3
 3226 0088 1A1C     		mov	r2, r3
 3227 008a 3023     		mov	r3, #48
 3228 008c 1340     		and	r3, r2
 3229 008e 1B09     		lsr	r3, r3, #4
 3230 0090 0122     		mov	r2, #1
 3231 0092 111C     		mov	r1, r2
 3232 0094 9940     		lsl	r1, r1, r3
 3233 0096 0B1C     		mov	r3, r1
 3234 0098 7868     		ldr	r0, [r7, #4]
 3235 009a 191C     		mov	r1, r3
 3236 009c FFF7FEFF 		bl	__aeabi_idiv
 3237 00a0 031C     		mov	r3, r0
 3238 00a2 1A1C     		mov	r2, r3
 3239 00a4 3B1C     		mov	r3, r7
 3240 00a6 0C33     		add	r3, r3, #12
 3241 00a8 1A80     		strh	r2, [r3]
 3242              	.L245:
 728:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 729:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 730:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check resulting FLL frequency 
 731:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   mcg_out = fll_freq(fll_ref_freq); // FLL reference frequency calculated from ext ref freq and FRD
 3243              		.loc 1 731 0
 3244 00aa 3B1C     		mov	r3, r7
 3245 00ac 0C33     		add	r3, r3, #12
 3246 00ae 0022     		mov	r2, #0
 3247 00b0 9B5E     		ldrsh	r3, [r3, r2]
 3248 00b2 181C     		mov	r0, r3
 3249 00b4 FFF7FEFF 		bl	fll_freq
 3250 00b8 031C     		mov	r3, r0
 3251 00ba BB60     		str	r3, [r7, #8]
 732:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (mcg_out < 0x3C) {return mcg_out;} // If error code returned, return the code to calling funct
 3252              		.loc 1 732 0
 3253 00bc BB68     		ldr	r3, [r7, #8]
 3254 00be 3B2B     		cmp	r3, #59
 3255 00c0 01DC     		bgt	.L246
 3256              		.loc 1 732 0 is_stmt 0
 3257 00c2 BB68     		ldr	r3, [r7, #8]
 3258 00c4 2FE0     		b	.L243
 3259              	.L246:
 733:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 734:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Clear CLKS field to switch CLKS mux to select FLL output
 735:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 &= ~MCG_C1_CLKS_MASK; // clear CLKS to select FLL output
 3260              		.loc 1 735 0 is_stmt 1
 3261 00c6 1A4B     		ldr	r3, .L253
 3262 00c8 194A     		ldr	r2, .L253
 3263 00ca 1278     		ldrb	r2, [r2]
 3264 00cc D1B2     		uxtb	r1, r2
 3265 00ce 3F22     		mov	r2, #63
 3266 00d0 0A40     		and	r2, r1
 3267 00d2 D2B2     		uxtb	r2, r2
 3268 00d4 1A70     		strb	r2, [r3]
 736:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 737:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to show clock source is FLL
 738:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3269              		.loc 1 738 0
 3270 00d6 3B1C     		mov	r3, r7
 3271 00d8 0E33     		add	r3, r3, #14
 3272 00da 0022     		mov	r2, #0
 3273 00dc 1A80     		strh	r2, [r3]
 3274 00de 0EE0     		b	.L247
 3275              	.L250:
 739:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 740:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) break; // jump out early if CLKST
 3276              		.loc 1 740 0
 3277 00e0 134B     		ldr	r3, .L253
 3278 00e2 9B79     		ldrb	r3, [r3, #6]
 3279 00e4 DBB2     		uxtb	r3, r3
 3280 00e6 1A1C     		mov	r2, r3
 3281 00e8 0C23     		mov	r3, #12
 3282 00ea 1340     		and	r3, r2
 3283 00ec 9B08     		lsr	r3, r3, #2
 3284 00ee 0ED0     		beq	.L252
 3285              	.L248:
 738:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3286              		.loc 1 738 0
 3287 00f0 3B1C     		mov	r3, r7
 3288 00f2 0E33     		add	r3, r3, #14
 3289 00f4 3A1C     		mov	r2, r7
 3290 00f6 0E32     		add	r2, r2, #14
 3291 00f8 1288     		ldrh	r2, [r2]
 3292 00fa 0132     		add	r2, r2, #1
 3293 00fc 1A80     		strh	r2, [r3]
 3294              	.L247:
 738:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3295              		.loc 1 738 0 is_stmt 0
 3296 00fe 3B1C     		mov	r3, r7
 3297 0100 0E33     		add	r3, r3, #14
 3298 0102 0021     		mov	r1, #0
 3299 0104 5A5E     		ldrsh	r2, [r3, r1]
 3300 0106 0B4B     		ldr	r3, .L253+4
 3301 0108 9A42     		cmp	r2, r3
 3302 010a E9DD     		ble	.L250
 3303 010c 00E0     		b	.L249
 3304              	.L252:
 3305              		.loc 1 740 0 is_stmt 1
 3306 010e C046     		mov	r8, r8
 3307              	.L249:
 741:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 742:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x0) return 0x18; // check FLL is really
 3308              		.loc 1 742 0
 3309 0110 074B     		ldr	r3, .L253
 3310 0112 9B79     		ldrb	r3, [r3, #6]
 3311 0114 DBB2     		uxtb	r3, r3
 3312 0116 1A1C     		mov	r2, r3
 3313 0118 0C23     		mov	r3, #12
 3314 011a 1340     		and	r3, r2
 3315 011c 9B08     		lsr	r3, r3, #2
 3316 011e 01D0     		beq	.L251
 3317              		.loc 1 742 0 is_stmt 0
 3318 0120 1823     		mov	r3, #24
 3319 0122 00E0     		b	.L243
 3320              	.L251:
 743:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 744:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FEE mode
 745:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return mcg_out;
 3321              		.loc 1 745 0 is_stmt 1
 3322 0124 BB68     		ldr	r3, [r7, #8]
 3323              	.L243:
 746:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fbe_fee
 3324              		.loc 1 746 0
 3325 0126 181C     		mov	r0, r3
 3326 0128 BD46     		mov	sp, r7
 3327 012a 04B0     		add	sp, sp, #16
 3328              		@ sp needed for prologue
 3329 012c 80BD     		pop	{r7, pc}
 3330              	.L254:
 3331 012e C046     		.align	2
 3332              	.L253:
 3333 0130 00400640 		.word	1074151424
 3334 0134 CF070000 		.word	1999
 3335              		.cfi_endproc
 3336              	.LFE11:
 3338              		.section	.text.fee_fbe,"ax",%progbits
 3339              		.align	2
 3340              		.global	fee_fbe
 3341              		.code	16
 3342              		.thumb_func
 3344              	fee_fbe:
 3345              	.LFB12:
 747:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 748:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 749:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fee_fbe(int crystal_val)
 750:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** { 
 3346              		.loc 1 750 0
 3347              		.cfi_startproc
 3348 0000 80B5     		push	{r7, lr}
 3349              	.LCFI36:
 3350              		.cfi_def_cfa_offset 8
 3351              		.cfi_offset 7, -8
 3352              		.cfi_offset 14, -4
 3353 0002 84B0     		sub	sp, sp, #16
 3354              	.LCFI37:
 3355              		.cfi_def_cfa_offset 24
 3356 0004 00AF     		add	r7, sp, #0
 3357              	.LCFI38:
 3358              		.cfi_def_cfa_register 7
 3359 0006 7860     		str	r0, [r7, #4]
 751:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 752:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 753:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FEE mode
 754:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 3360              		.loc 1 754 0
 3361 0008 274B     		ldr	r3, .L265
 3362 000a 9B79     		ldrb	r3, [r3, #6]
 3363 000c DBB2     		uxtb	r3, r3
 3364 000e 1A1C     		mov	r2, r3
 3365 0010 0C23     		mov	r3, #12
 3366 0012 1340     		and	r3, r2
 3367 0014 9B08     		lsr	r3, r3, #2
 3368 0016 0DD1     		bne	.L256
 755:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 3369              		.loc 1 755 0
 3370 0018 234B     		ldr	r3, .L265
 3371 001a 9B79     		ldrb	r3, [r3, #6]
 3372 001c DBB2     		uxtb	r3, r3
 3373 001e 1A1C     		mov	r2, r3
 3374 0020 1023     		mov	r3, #16
 3375 0022 1340     		and	r3, r2
 754:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 3376              		.loc 1 754 0
 3377 0024 06D1     		bne	.L256
 756:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK))))                                 // check PLLS mux has selecte
 3378              		.loc 1 756 0
 3379 0026 204B     		ldr	r3, .L265
 3380 0028 9B79     		ldrb	r3, [r3, #6]
 3381 002a DBB2     		uxtb	r3, r3
 3382 002c 1A1C     		mov	r2, r3
 3383 002e 2023     		mov	r3, #32
 3384 0030 1340     		and	r3, r2
 754:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 3385              		.loc 1 754 0
 3386 0032 01D0     		beq	.L257
 3387              	.L256:
 757:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 758:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x2;                                                       // return error code
 3388              		.loc 1 758 0
 3389 0034 0223     		mov	r3, #2
 3390 0036 32E0     		b	.L258
 3391              	.L257:
 759:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 760:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 761:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Set CLKS field to 2 to switch CLKS mux to select ext ref clock
 762:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // MCG is current in FEE mode so CLKS field = 0 so can just OR in new value
 763:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 |= MCG_C1_CLKS(2); // set CLKS to select ext ref clock
 3392              		.loc 1 763 0
 3393 0038 1B4B     		ldr	r3, .L265
 3394 003a 1B4A     		ldr	r2, .L265
 3395 003c 1278     		ldrb	r2, [r2]
 3396 003e D2B2     		uxtb	r2, r2
 3397 0040 8021     		mov	r1, #128
 3398 0042 4942     		neg	r1, r1
 3399 0044 0A43     		orr	r2, r1
 3400 0046 D2B2     		uxtb	r2, r2
 3401 0048 1A70     		strb	r2, [r3]
 764:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 765:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /// Wait for clock status bits to show clock source is ext ref clk
 766:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3402              		.loc 1 766 0
 3403 004a 3B1C     		mov	r3, r7
 3404 004c 0E33     		add	r3, r3, #14
 3405 004e 0022     		mov	r2, #0
 3406 0050 1A80     		strh	r2, [r3]
 3407 0052 0FE0     		b	.L259
 3408              	.L262:
 767:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 768:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) break; // jump out early if CLKST
 3409              		.loc 1 768 0
 3410 0054 144B     		ldr	r3, .L265
 3411 0056 9B79     		ldrb	r3, [r3, #6]
 3412 0058 DBB2     		uxtb	r3, r3
 3413 005a 1A1C     		mov	r2, r3
 3414 005c 0C23     		mov	r3, #12
 3415 005e 1340     		and	r3, r2
 3416 0060 9B08     		lsr	r3, r3, #2
 3417 0062 022B     		cmp	r3, #2
 3418 0064 0ED0     		beq	.L264
 3419              	.L260:
 766:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3420              		.loc 1 766 0
 3421 0066 3B1C     		mov	r3, r7
 3422 0068 0E33     		add	r3, r3, #14
 3423 006a 3A1C     		mov	r2, r7
 3424 006c 0E32     		add	r2, r2, #14
 3425 006e 1288     		ldrh	r2, [r2]
 3426 0070 0132     		add	r2, r2, #1
 3427 0072 1A80     		strh	r2, [r3]
 3428              	.L259:
 766:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3429              		.loc 1 766 0 is_stmt 0
 3430 0074 3B1C     		mov	r3, r7
 3431 0076 0E33     		add	r3, r3, #14
 3432 0078 0021     		mov	r1, #0
 3433 007a 5A5E     		ldrsh	r2, [r3, r1]
 3434 007c 0B4B     		ldr	r3, .L265+4
 3435 007e 9A42     		cmp	r2, r3
 3436 0080 E8DD     		ble	.L262
 3437 0082 00E0     		b	.L261
 3438              	.L264:
 3439              		.loc 1 768 0 is_stmt 1
 3440 0084 C046     		mov	r8, r8
 3441              	.L261:
 769:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 770:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x2) return 0x1A; // check EXT CLK is re
 3442              		.loc 1 770 0
 3443 0086 084B     		ldr	r3, .L265
 3444 0088 9B79     		ldrb	r3, [r3, #6]
 3445 008a DBB2     		uxtb	r3, r3
 3446 008c 1A1C     		mov	r2, r3
 3447 008e 0C23     		mov	r3, #12
 3448 0090 1340     		and	r3, r2
 3449 0092 9B08     		lsr	r3, r3, #2
 3450 0094 022B     		cmp	r3, #2
 3451 0096 01D0     		beq	.L263
 3452              		.loc 1 770 0 is_stmt 0
 3453 0098 1A23     		mov	r3, #26
 3454 009a 00E0     		b	.L258
 3455              	.L263:
 771:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 772:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBE mode
 773:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val;
 3456              		.loc 1 773 0 is_stmt 1
 3457 009c 7B68     		ldr	r3, [r7, #4]
 3458              	.L258:
 774:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fee_fbe
 3459              		.loc 1 774 0
 3460 009e 181C     		mov	r0, r3
 3461 00a0 BD46     		mov	sp, r7
 3462 00a2 04B0     		add	sp, sp, #16
 3463              		@ sp needed for prologue
 3464 00a4 80BD     		pop	{r7, pc}
 3465              	.L266:
 3466 00a6 C046     		.align	2
 3467              	.L265:
 3468 00a8 00400640 		.word	1074151424
 3469 00ac CF070000 		.word	1999
 3470              		.cfi_endproc
 3471              	.LFE12:
 3473              		.section	.text.fbe_fbi,"ax",%progbits
 3474              		.align	2
 3475              		.global	fbe_fbi
 3476              		.code	16
 3477              		.thumb_func
 3479              	fbe_fbi:
 3480              	.LFB13:
 775:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 776:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 777:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbe_fbi(int irc_freq, unsigned char irc_select)
 778:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 3481              		.loc 1 778 0
 3482              		.cfi_startproc
 3483 0000 80B5     		push	{r7, lr}
 3484              	.LCFI39:
 3485              		.cfi_def_cfa_offset 8
 3486              		.cfi_offset 7, -8
 3487              		.cfi_offset 14, -4
 3488 0002 84B0     		sub	sp, sp, #16
 3489              	.LCFI40:
 3490              		.cfi_def_cfa_offset 24
 3491 0004 00AF     		add	r7, sp, #0
 3492              	.LCFI41:
 3493              		.cfi_def_cfa_register 7
 3494 0006 7860     		str	r0, [r7, #4]
 3495 0008 0A1C     		mov	r2, r1
 3496 000a FB1C     		add	r3, r7, #3
 3497 000c 1A70     		strb	r2, [r3]
 779:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
 780:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char fcrdiv_val;
 781:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 782:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 783:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FBE mode
 784:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 3498              		.loc 1 784 0
 3499 000e 944B     		ldr	r3, .L302
 3500 0010 9B79     		ldrb	r3, [r3, #6]
 3501 0012 DBB2     		uxtb	r3, r3
 3502 0014 1A1C     		mov	r2, r3
 3503 0016 0C23     		mov	r3, #12
 3504 0018 1340     		and	r3, r2
 3505 001a 9B08     		lsr	r3, r3, #2
 3506 001c 022B     		cmp	r3, #2
 3507 001e 14D1     		bne	.L268
 785:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 3508              		.loc 1 785 0
 3509 0020 8F4B     		ldr	r3, .L302
 3510 0022 9B79     		ldrb	r3, [r3, #6]
 3511 0024 DBB2     		uxtb	r3, r3
 3512 0026 1A1C     		mov	r2, r3
 3513 0028 1023     		mov	r3, #16
 3514 002a 1340     		and	r3, r2
 784:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 3515              		.loc 1 784 0
 3516 002c 0DD1     		bne	.L268
 786:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 3517              		.loc 1 786 0
 3518 002e 8C4B     		ldr	r3, .L302
 3519 0030 9B79     		ldrb	r3, [r3, #6]
 3520 0032 DBB2     		uxtb	r3, r3
 3521 0034 1A1C     		mov	r2, r3
 3522 0036 2023     		mov	r3, #32
 3523 0038 1340     		and	r3, r2
 785:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                               // check FLL ref is external 
 3524              		.loc 1 785 0
 3525 003a 06D1     		bne	.L268
 787:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check MCG_C2[LP] bit is no
 3526              		.loc 1 787 0
 3527 003c 884B     		ldr	r3, .L302
 3528 003e 5B78     		ldrb	r3, [r3, #1]
 3529 0040 DBB2     		uxtb	r3, r3
 3530 0042 1A1C     		mov	r2, r3
 3531 0044 0223     		mov	r3, #2
 3532 0046 1340     		and	r3, r2
 784:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selcted
 3533              		.loc 1 784 0
 3534 0048 01D0     		beq	.L269
 3535              	.L268:
 788:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 789:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x4;                                                       // return error code
 3536              		.loc 1 789 0
 3537 004a 0423     		mov	r3, #4
 3538 004c 04E1     		b	.L270
 3539              	.L269:
 790:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 791:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 792:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check that the irc frequency matches the selected IRC 
 793:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(irc_select))
 3540              		.loc 1 793 0
 3541 004e FB1C     		add	r3, r7, #3
 3542 0050 1B78     		ldrb	r3, [r3]
 3543 0052 002B     		cmp	r3, #0
 3544 0054 09D1     		bne	.L271
 794:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {    
 795:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((irc_freq < 31250) || (irc_freq > 39063)) {return 0x31;}
 3545              		.loc 1 795 0
 3546 0056 7A68     		ldr	r2, [r7, #4]
 3547 0058 824B     		ldr	r3, .L302+4
 3548 005a 9A42     		cmp	r2, r3
 3549 005c 03DD     		ble	.L272
 3550              		.loc 1 795 0 is_stmt 0
 3551 005e 7A68     		ldr	r2, [r7, #4]
 3552 0060 814B     		ldr	r3, .L302+8
 3553 0062 9A42     		cmp	r2, r3
 3554 0064 0BDD     		ble	.L273
 3555              	.L272:
 3556              		.loc 1 795 0
 3557 0066 3123     		mov	r3, #49
 3558 0068 F6E0     		b	.L270
 3559              	.L271:
 796:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 797:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
 798:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 799:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((irc_freq < 3000000) || (irc_freq > 5000000)) {return 0x32;} // Fast IRC freq
 3560              		.loc 1 799 0 is_stmt 1
 3561 006a 7A68     		ldr	r2, [r7, #4]
 3562 006c 7F4B     		ldr	r3, .L302+12
 3563 006e 9A42     		cmp	r2, r3
 3564 0070 03DD     		ble	.L274
 3565              		.loc 1 799 0 is_stmt 0
 3566 0072 7A68     		ldr	r2, [r7, #4]
 3567 0074 7E4B     		ldr	r3, .L302+16
 3568 0076 9A42     		cmp	r2, r3
 3569 0078 01DD     		ble	.L273
 3570              	.L274:
 3571              		.loc 1 799 0
 3572 007a 3223     		mov	r3, #50
 3573 007c ECE0     		b	.L270
 3574              	.L273:
 800:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 801:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 802:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select the required IRC
 803:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select)
 3575              		.loc 1 803 0 is_stmt 1
 3576 007e FB1C     		add	r3, r7, #3
 3577 0080 1B78     		ldrb	r3, [r3]
 3578 0082 002B     		cmp	r3, #0
 3579 0084 08D0     		beq	.L275
 804:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 805:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     MCG_C2 |= MCG_C2_IRCS_MASK; // select fast IRC by setting IRCS
 3580              		.loc 1 805 0
 3581 0086 764B     		ldr	r3, .L302
 3582 0088 754A     		ldr	r2, .L302
 3583 008a 5278     		ldrb	r2, [r2, #1]
 3584 008c D2B2     		uxtb	r2, r2
 3585 008e 0121     		mov	r1, #1
 3586 0090 0A43     		orr	r2, r1
 3587 0092 D2B2     		uxtb	r2, r2
 3588 0094 5A70     		strb	r2, [r3, #1]
 3589 0096 07E0     		b	.L276
 3590              	.L275:
 806:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 807:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
 808:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 809:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     MCG_C2 &= ~MCG_C2_IRCS_MASK; // select slow IRC by clearing IRCS
 3591              		.loc 1 809 0
 3592 0098 714B     		ldr	r3, .L302
 3593 009a 714A     		ldr	r2, .L302
 3594 009c 5278     		ldrb	r2, [r2, #1]
 3595 009e D2B2     		uxtb	r2, r2
 3596 00a0 0121     		mov	r1, #1
 3597 00a2 8A43     		bic	r2, r1
 3598 00a4 D2B2     		uxtb	r2, r2
 3599 00a6 5A70     		strb	r2, [r3, #1]
 3600              	.L276:
 810:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 811:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 812:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Make sure the clock monitor is disabled before switching modes otherwise it will trigger
 813:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 &= ~MCG_C6_CME0_MASK;
 3601              		.loc 1 813 0
 3602 00a8 6D4B     		ldr	r3, .L302
 3603 00aa 6D4A     		ldr	r2, .L302
 3604 00ac 5279     		ldrb	r2, [r2, #5]
 3605 00ae D2B2     		uxtb	r2, r2
 3606 00b0 2021     		mov	r1, #32
 3607 00b2 8A43     		bic	r2, r1
 3608 00b4 D2B2     		uxtb	r2, r2
 3609 00b6 5A71     		strb	r2, [r3, #5]
 814:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 815:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select the IRC as the CLKS mux selection
 816:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 3610              		.loc 1 816 0
 3611 00b8 694A     		ldr	r2, .L302
 3612 00ba 3B1C     		mov	r3, r7
 3613 00bc 0D33     		add	r3, r3, #13
 3614 00be 1278     		ldrb	r2, [r2]
 3615 00c0 1A70     		strb	r2, [r3]
 817:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C1_CLKS_MASK;                    // clear CLKS bits 
 3616              		.loc 1 817 0
 3617 00c2 3B1C     		mov	r3, r7
 3618 00c4 0D33     		add	r3, r3, #13
 3619 00c6 3A1C     		mov	r2, r7
 3620 00c8 0D32     		add	r2, r2, #13
 3621 00ca 1178     		ldrb	r1, [r2]
 3622 00cc 3F22     		mov	r2, #63
 3623 00ce 0A40     		and	r2, r1
 3624 00d0 1A70     		strb	r2, [r3]
 818:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= (MCG_C1_CLKS(1) | MCG_C1_IREFS_MASK); // select IRC as MCGOUT and enable IREFS
 3625              		.loc 1 818 0
 3626 00d2 3B1C     		mov	r3, r7
 3627 00d4 0D33     		add	r3, r3, #13
 3628 00d6 3A1C     		mov	r2, r7
 3629 00d8 0D32     		add	r2, r2, #13
 3630 00da 1278     		ldrb	r2, [r2]
 3631 00dc 4421     		mov	r1, #68
 3632 00de 0A43     		orr	r2, r1
 3633 00e0 1A70     		strb	r2, [r3]
 819:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg; // update MCG_C1
 3634              		.loc 1 819 0
 3635 00e2 5F4B     		ldr	r3, .L302
 3636 00e4 3A1C     		mov	r2, r7
 3637 00e6 0D32     		add	r2, r2, #13
 3638 00e8 1278     		ldrb	r2, [r2]
 3639 00ea 1A70     		strb	r2, [r3]
 820:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 821:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait until internal reference switches to requested irc.
 822:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(irc_select))
 3640              		.loc 1 822 0
 3641 00ec FB1C     		add	r3, r7, #3
 3642 00ee 1B78     		ldrb	r3, [r3]
 3643 00f0 002B     		cmp	r3, #0
 3644 00f2 24D1     		bne	.L277
 823:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 824:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 3645              		.loc 1 824 0
 3646 00f4 3B1C     		mov	r3, r7
 3647 00f6 0E33     		add	r3, r3, #14
 3648 00f8 0022     		mov	r2, #0
 3649 00fa 1A80     		strh	r2, [r3]
 3650 00fc 0DE0     		b	.L278
 3651              	.L281:
 825:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
 826:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (!(MCG_S & MCG_S_IRCST_MASK)) break; // jump out early if IRCST clears before loop finishe
 3652              		.loc 1 826 0
 3653 00fe 584B     		ldr	r3, .L302
 3654 0100 9B79     		ldrb	r3, [r3, #6]
 3655 0102 DBB2     		uxtb	r3, r3
 3656 0104 1A1C     		mov	r2, r3
 3657 0106 0123     		mov	r3, #1
 3658 0108 1340     		and	r3, r2
 3659 010a 0ED0     		beq	.L298
 3660              	.L279:
 824:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 3661              		.loc 1 824 0
 3662 010c 3B1C     		mov	r3, r7
 3663 010e 0E33     		add	r3, r3, #14
 3664 0110 3A1C     		mov	r2, r7
 3665 0112 0E32     		add	r2, r2, #14
 3666 0114 1288     		ldrh	r2, [r2]
 3667 0116 0132     		add	r2, r2, #1
 3668 0118 1A80     		strh	r2, [r3]
 3669              	.L278:
 824:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 3670              		.loc 1 824 0 is_stmt 0
 3671 011a 3B1C     		mov	r3, r7
 3672 011c 0E33     		add	r3, r3, #14
 3673 011e 0021     		mov	r1, #0
 3674 0120 5A5E     		ldrsh	r2, [r3, r1]
 3675 0122 544B     		ldr	r3, .L302+20
 3676 0124 9A42     		cmp	r2, r3
 3677 0126 EADD     		ble	.L281
 3678 0128 00E0     		b	.L280
 3679              	.L298:
 3680              		.loc 1 826 0 is_stmt 1
 3681 012a C046     		mov	r8, r8
 3682              	.L280:
 827:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
 828:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_IRCST_MASK) return 0x13; // check bit is really clear and return with error i
 3683              		.loc 1 828 0
 3684 012c 4C4B     		ldr	r3, .L302
 3685 012e 9B79     		ldrb	r3, [r3, #6]
 3686 0130 DBB2     		uxtb	r3, r3
 3687 0132 1A1C     		mov	r2, r3
 3688 0134 0123     		mov	r3, #1
 3689 0136 1340     		and	r3, r2
 3690 0138 26D0     		beq	.L282
 3691              		.loc 1 828 0 is_stmt 0
 3692 013a 1323     		mov	r3, #19
 3693 013c 8CE0     		b	.L270
 3694              	.L277:
 829:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 830:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
 831:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 832:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 3695              		.loc 1 832 0 is_stmt 1
 3696 013e 3B1C     		mov	r3, r7
 3697 0140 0E33     		add	r3, r3, #14
 3698 0142 0022     		mov	r2, #0
 3699 0144 1A80     		strh	r2, [r3]
 3700 0146 0DE0     		b	.L283
 3701              	.L286:
 833:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
 834:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (MCG_S & MCG_S_IRCST_MASK) break; // jump out early if IRCST sets before loop finishes
 3702              		.loc 1 834 0
 3703 0148 454B     		ldr	r3, .L302
 3704 014a 9B79     		ldrb	r3, [r3, #6]
 3705 014c DBB2     		uxtb	r3, r3
 3706 014e 1A1C     		mov	r2, r3
 3707 0150 0123     		mov	r3, #1
 3708 0152 1340     		and	r3, r2
 3709 0154 0ED1     		bne	.L299
 3710              	.L284:
 832:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 3711              		.loc 1 832 0
 3712 0156 3B1C     		mov	r3, r7
 3713 0158 0E33     		add	r3, r3, #14
 3714 015a 3A1C     		mov	r2, r7
 3715 015c 0E32     		add	r2, r2, #14
 3716 015e 1288     		ldrh	r2, [r2]
 3717 0160 0132     		add	r2, r2, #1
 3718 0162 1A80     		strh	r2, [r3]
 3719              	.L283:
 832:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 3720              		.loc 1 832 0 is_stmt 0
 3721 0164 3B1C     		mov	r3, r7
 3722 0166 0E33     		add	r3, r3, #14
 3723 0168 0021     		mov	r1, #0
 3724 016a 5A5E     		ldrsh	r2, [r3, r1]
 3725 016c 414B     		ldr	r3, .L302+20
 3726 016e 9A42     		cmp	r2, r3
 3727 0170 EADD     		ble	.L286
 3728 0172 00E0     		b	.L285
 3729              	.L299:
 3730              		.loc 1 834 0 is_stmt 1
 3731 0174 C046     		mov	r8, r8
 3732              	.L285:
 835:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
 836:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_IRCST_MASK)) return 0x14; // check bit is really set and return with error 
 3733              		.loc 1 836 0
 3734 0176 3A4B     		ldr	r3, .L302
 3735 0178 9B79     		ldrb	r3, [r3, #6]
 3736 017a DBB2     		uxtb	r3, r3
 3737 017c 1A1C     		mov	r2, r3
 3738 017e 0123     		mov	r3, #1
 3739 0180 1340     		and	r3, r2
 3740 0182 01D1     		bne	.L282
 3741              		.loc 1 836 0 is_stmt 0
 3742 0184 1423     		mov	r3, #20
 3743 0186 67E0     		b	.L270
 3744              	.L282:
 837:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 838:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
 839:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to update
 840:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3745              		.loc 1 840 0 is_stmt 1
 3746 0188 3B1C     		mov	r3, r7
 3747 018a 0E33     		add	r3, r3, #14
 3748 018c 0022     		mov	r2, #0
 3749 018e 1A80     		strh	r2, [r3]
 3750 0190 0FE0     		b	.L287
 3751              	.L290:
 841:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 842:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) break; // jump out early if CLKST
 3752              		.loc 1 842 0
 3753 0192 334B     		ldr	r3, .L302
 3754 0194 9B79     		ldrb	r3, [r3, #6]
 3755 0196 DBB2     		uxtb	r3, r3
 3756 0198 1A1C     		mov	r2, r3
 3757 019a 0C23     		mov	r3, #12
 3758 019c 1340     		and	r3, r2
 3759 019e 9B08     		lsr	r3, r3, #2
 3760 01a0 012B     		cmp	r3, #1
 3761 01a2 0ED0     		beq	.L300
 3762              	.L288:
 840:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3763              		.loc 1 840 0
 3764 01a4 3B1C     		mov	r3, r7
 3765 01a6 0E33     		add	r3, r3, #14
 3766 01a8 3A1C     		mov	r2, r7
 3767 01aa 0E32     		add	r2, r2, #14
 3768 01ac 1288     		ldrh	r2, [r2]
 3769 01ae 0132     		add	r2, r2, #1
 3770 01b0 1A80     		strh	r2, [r3]
 3771              	.L287:
 840:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3772              		.loc 1 840 0 is_stmt 0
 3773 01b2 3B1C     		mov	r3, r7
 3774 01b4 0E33     		add	r3, r3, #14
 3775 01b6 0021     		mov	r1, #0
 3776 01b8 5A5E     		ldrsh	r2, [r3, r1]
 3777 01ba 2E4B     		ldr	r3, .L302+20
 3778 01bc 9A42     		cmp	r2, r3
 3779 01be E8DD     		ble	.L290
 3780 01c0 00E0     		b	.L289
 3781              	.L300:
 3782              		.loc 1 842 0 is_stmt 1
 3783 01c2 C046     		mov	r8, r8
 3784              	.L289:
 843:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 844:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x1) return 0x19; // check IRC is really
 3785              		.loc 1 844 0
 3786 01c4 264B     		ldr	r3, .L302
 3787 01c6 9B79     		ldrb	r3, [r3, #6]
 3788 01c8 DBB2     		uxtb	r3, r3
 3789 01ca 1A1C     		mov	r2, r3
 3790 01cc 0C23     		mov	r3, #12
 3791 01ce 1340     		and	r3, r2
 3792 01d0 9B08     		lsr	r3, r3, #2
 3793 01d2 012B     		cmp	r3, #1
 3794 01d4 01D0     		beq	.L291
 3795              		.loc 1 844 0 is_stmt 0
 3796 01d6 1923     		mov	r3, #25
 3797 01d8 3EE0     		b	.L270
 3798              	.L291:
 845:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 846:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // wait for Reference clock Status bit to set
 847:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3799              		.loc 1 847 0 is_stmt 1
 3800 01da 3B1C     		mov	r3, r7
 3801 01dc 0E33     		add	r3, r3, #14
 3802 01de 0022     		mov	r2, #0
 3803 01e0 1A80     		strh	r2, [r3]
 3804 01e2 0DE0     		b	.L292
 3805              	.L295:
 848:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 849:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_IREFST_MASK) break; // jump out early if IREFST sets before loop finishes
 3806              		.loc 1 849 0
 3807 01e4 1E4B     		ldr	r3, .L302
 3808 01e6 9B79     		ldrb	r3, [r3, #6]
 3809 01e8 DBB2     		uxtb	r3, r3
 3810 01ea 1A1C     		mov	r2, r3
 3811 01ec 1023     		mov	r3, #16
 3812 01ee 1340     		and	r3, r2
 3813 01f0 0ED1     		bne	.L301
 3814              	.L293:
 847:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3815              		.loc 1 847 0
 3816 01f2 3B1C     		mov	r3, r7
 3817 01f4 0E33     		add	r3, r3, #14
 3818 01f6 3A1C     		mov	r2, r7
 3819 01f8 0E32     		add	r2, r2, #14
 3820 01fa 1288     		ldrh	r2, [r2]
 3821 01fc 0132     		add	r2, r2, #1
 3822 01fe 1A80     		strh	r2, [r3]
 3823              	.L292:
 847:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 3824              		.loc 1 847 0 is_stmt 0
 3825 0200 3B1C     		mov	r3, r7
 3826 0202 0E33     		add	r3, r3, #14
 3827 0204 0021     		mov	r1, #0
 3828 0206 5A5E     		ldrsh	r2, [r3, r1]
 3829 0208 1A4B     		ldr	r3, .L302+20
 3830 020a 9A42     		cmp	r2, r3
 3831 020c EADD     		ble	.L295
 3832 020e 00E0     		b	.L294
 3833              	.L301:
 3834              		.loc 1 849 0 is_stmt 1
 3835 0210 C046     		mov	r8, r8
 3836              	.L294:
 850:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 851:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_IREFST_MASK)) return 0x12; // check bit is really set and return with error i
 3837              		.loc 1 851 0
 3838 0212 134B     		ldr	r3, .L302
 3839 0214 9B79     		ldrb	r3, [r3, #6]
 3840 0216 DBB2     		uxtb	r3, r3
 3841 0218 1A1C     		mov	r2, r3
 3842 021a 1023     		mov	r3, #16
 3843 021c 1340     		and	r3, r2
 3844 021e 01D1     		bne	.L296
 3845              		.loc 1 851 0 is_stmt 0
 3846 0220 1223     		mov	r3, #18
 3847 0222 19E0     		b	.L270
 3848              	.L296:
 852:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 853:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBI mode
 854:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 855:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select)
 3849              		.loc 1 855 0 is_stmt 1
 3850 0224 FB1C     		add	r3, r7, #3
 3851 0226 1B78     		ldrb	r3, [r3]
 3852 0228 002B     		cmp	r3, #0
 3853 022a 14D0     		beq	.L297
 856:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 857:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fcrdiv_val = (1 << ((MCG_SC & MCG_SC_FCRDIV_MASK) >> MCG_SC_FCRDIV_SHIFT)); // calculate the fa
 3854              		.loc 1 857 0
 3855 022c 0C4B     		ldr	r3, .L302
 3856 022e 1B7A     		ldrb	r3, [r3, #8]
 3857 0230 DBB2     		uxtb	r3, r3
 3858 0232 1A1C     		mov	r2, r3
 3859 0234 0E23     		mov	r3, #14
 3860 0236 1340     		and	r3, r2
 3861 0238 5B08     		lsr	r3, r3, #1
 3862 023a 0122     		mov	r2, #1
 3863 023c 9A40     		lsl	r2, r2, r3
 3864 023e 3B1C     		mov	r3, r7
 3865 0240 0C33     		add	r3, r3, #12
 3866 0242 1A70     		strb	r2, [r3]
 858:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return (irc_freq / fcrdiv_val); // MCGOUT frequency equals fast IRC frequency divided by FCRDIV
 3867              		.loc 1 858 0
 3868 0244 3B1C     		mov	r3, r7
 3869 0246 0C33     		add	r3, r3, #12
 3870 0248 1B78     		ldrb	r3, [r3]
 3871 024a 7868     		ldr	r0, [r7, #4]
 3872 024c 191C     		mov	r1, r3
 3873 024e FFF7FEFF 		bl	__aeabi_idiv
 3874 0252 031C     		mov	r3, r0
 3875 0254 00E0     		b	.L270
 3876              	.L297:
 859:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 860:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
 861:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 862:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return irc_freq; // MCGOUT frequency equals slow IRC frequency
 3877              		.loc 1 862 0
 3878 0256 7B68     		ldr	r3, [r7, #4]
 3879              	.L270:
 863:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 864:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } //fbe_fbi
 3880              		.loc 1 864 0
 3881 0258 181C     		mov	r0, r3
 3882 025a BD46     		mov	sp, r7
 3883 025c 04B0     		add	sp, sp, #16
 3884              		@ sp needed for prologue
 3885 025e 80BD     		pop	{r7, pc}
 3886              	.L303:
 3887              		.align	2
 3888              	.L302:
 3889 0260 00400640 		.word	1074151424
 3890 0264 117A0000 		.word	31249
 3891 0268 97980000 		.word	39063
 3892 026c BFC62D00 		.word	2999999
 3893 0270 404B4C00 		.word	5000000
 3894 0274 CF070000 		.word	1999
 3895              		.cfi_endproc
 3896              	.LFE13:
 3898              		.section	.text.fbi_fbe,"ax",%progbits
 3899              		.align	2
 3900              		.global	fbi_fbe
 3901              		.code	16
 3902              		.thumb_func
 3904              	fbi_fbe:
 3905              	.LFB14:
 865:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 866:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 867:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbi_fbe(int crystal_val, unsigned char hgo_val, unsigned char erefs_val)
 868:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 3906              		.loc 1 868 0
 3907              		.cfi_startproc
 3908 0000 80B5     		push	{r7, lr}
 3909              	.LCFI42:
 3910              		.cfi_def_cfa_offset 8
 3911              		.cfi_offset 7, -8
 3912              		.cfi_offset 14, -4
 3913 0002 84B0     		sub	sp, sp, #16
 3914              	.LCFI43:
 3915              		.cfi_def_cfa_offset 24
 3916 0004 00AF     		add	r7, sp, #0
 3917              	.LCFI44:
 3918              		.cfi_def_cfa_register 7
 3919 0006 7860     		str	r0, [r7, #4]
 3920 0008 FB1C     		add	r3, r7, #3
 3921 000a 1970     		strb	r1, [r3]
 3922 000c BB1C     		add	r3, r7, #2
 3923 000e 1A70     		strb	r2, [r3]
 869:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
 870:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char frdiv_val;
 871:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
 872:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 873:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check if in FBI mode
 874:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 3924              		.loc 1 874 0
 3925 0010 B84B     		ldr	r3, .L340
 3926 0012 9B79     		ldrb	r3, [r3, #6]
 3927 0014 DBB2     		uxtb	r3, r3
 3928 0016 1A1C     		mov	r2, r3
 3929 0018 0C23     		mov	r3, #12
 3930 001a 1340     		and	r3, r2
 3931 001c 9B08     		lsr	r3, r3, #2
 3932 001e 012B     		cmp	r3, #1
 3933 0020 14D1     		bne	.L305
 875:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 3934              		.loc 1 875 0
 3935 0022 B44B     		ldr	r3, .L340
 3936 0024 9B79     		ldrb	r3, [r3, #6]
 3937 0026 DBB2     		uxtb	r3, r3
 3938 0028 1A1C     		mov	r2, r3
 3939 002a 1023     		mov	r3, #16
 3940 002c 1340     		and	r3, r2
 874:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 3941              		.loc 1 874 0
 3942 002e 0DD0     		beq	.L305
 876:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 3943              		.loc 1 876 0
 3944 0030 B04B     		ldr	r3, .L340
 3945 0032 9B79     		ldrb	r3, [r3, #6]
 3946 0034 DBB2     		uxtb	r3, r3
 3947 0036 1A1C     		mov	r2, r3
 3948 0038 2023     		mov	r3, #32
 3949 003a 1340     		and	r3, r2
 875:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 3950              		.loc 1 875 0
 3951 003c 06D1     		bne	.L305
 877:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check LP bit is clear
 3952              		.loc 1 877 0
 3953 003e AD4B     		ldr	r3, .L340
 3954 0040 5B78     		ldrb	r3, [r3, #1]
 3955 0042 DBB2     		uxtb	r3, r3
 3956 0044 1A1C     		mov	r2, r3
 3957 0046 0223     		mov	r3, #2
 3958 0048 1340     		and	r3, r2
 874:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 3959              		.loc 1 874 0
 3960 004a 01D0     		beq	.L306
 3961              	.L305:
 878:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {  
 879:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x3;                                                       // MCG not in correct mode re
 3962              		.loc 1 879 0
 3963 004c 0323     		mov	r3, #3
 3964 004e 4DE1     		b	.L307
 3965              	.L306:
 880:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 881:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
 882:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check external frequency is less than the maximum frequency
 883:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if  (crystal_val > 50000000) {return 0x21;}
 3966              		.loc 1 883 0
 3967 0050 7A68     		ldr	r2, [r7, #4]
 3968 0052 A94B     		ldr	r3, .L340+4
 3969 0054 9A42     		cmp	r2, r3
 3970 0056 01DD     		ble	.L308
 3971              		.loc 1 883 0 is_stmt 0
 3972 0058 2123     		mov	r3, #33
 3973 005a 47E1     		b	.L307
 3974              	.L308:
 884:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 885:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check crystal frequency is within spec. if crystal osc is being used
 886:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 3975              		.loc 1 886 0 is_stmt 1
 3976 005c BB1C     		add	r3, r7, #2
 3977 005e 1B78     		ldrb	r3, [r3]
 3978 0060 002B     		cmp	r3, #0
 3979 0062 11D0     		beq	.L309
 887:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 888:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((crystal_val < 30000) ||
 3980              		.loc 1 888 0
 3981 0064 7A68     		ldr	r2, [r7, #4]
 3982 0066 A54B     		ldr	r3, .L340+8
 3983 0068 9A42     		cmp	r2, r3
 3984 006a 0BDD     		ble	.L310
 3985              		.loc 1 888 0 is_stmt 0
 3986 006c 7A68     		ldr	r2, [r7, #4]
 3987 006e A44B     		ldr	r3, .L340+12
 3988 0070 9A42     		cmp	r2, r3
 3989 0072 03DD     		ble	.L311
 889:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         ((crystal_val > 40000) && (crystal_val < 3000000)) ||
 3990              		.loc 1 889 0 is_stmt 1
 3991 0074 7A68     		ldr	r2, [r7, #4]
 3992 0076 A34B     		ldr	r3, .L340+16
 3993 0078 9A42     		cmp	r2, r3
 3994 007a 03DD     		ble	.L310
 3995              	.L311:
 3996              		.loc 1 889 0 is_stmt 0
 3997 007c 7A68     		ldr	r2, [r7, #4]
 3998 007e A24B     		ldr	r3, .L340+20
 3999 0080 9A42     		cmp	r2, r3
 4000 0082 01DD     		ble	.L309
 4001              	.L310:
 890:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         (crystal_val > 32000000)) {return 0x22;} // return error if one of the available crystal op
 4002              		.loc 1 890 0 is_stmt 1
 4003 0084 2223     		mov	r3, #34
 4004 0086 31E1     		b	.L307
 4005              	.L309:
 891:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 892:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 893:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // make sure HGO will never be greater than 1. Could return an error instead if desired.  
 894:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (hgo_val > 0)
 4006              		.loc 1 894 0
 4007 0088 FB1C     		add	r3, r7, #3
 4008 008a 1B78     		ldrb	r3, [r3]
 4009 008c 002B     		cmp	r3, #0
 4010 008e 02D0     		beq	.L312
 895:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 896:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     hgo_val = 1; // force hgo_val to 1 if > 0
 4011              		.loc 1 896 0
 4012 0090 FB1C     		add	r3, r7, #3
 4013 0092 0122     		mov	r2, #1
 4014 0094 1A70     		strb	r2, [r3]
 4015              	.L312:
 897:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 898:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 899:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // configure the MCG_C2 register
 900:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // the RANGE value is determined by the external frequency. Since the RANGE parameter affects the F
 901:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // it still needs to be set correctly even if the oscillator is not being used
 902:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C2;
 4016              		.loc 1 902 0
 4017 0096 974A     		ldr	r2, .L340
 4018 0098 3B1C     		mov	r3, r7
 4019 009a 0F33     		add	r3, r3, #15
 4020 009c 5278     		ldrb	r2, [r2, #1]
 4021 009e 1A70     		strb	r2, [r3]
 903:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C2_RANGE0_MASK | MCG_C2_HGO0_MASK | MCG_C2_EREFS0_MASK); // clear fields before
 4022              		.loc 1 903 0
 4023 00a0 3B1C     		mov	r3, r7
 4024 00a2 0F33     		add	r3, r3, #15
 4025 00a4 3A1C     		mov	r2, r7
 4026 00a6 0F32     		add	r2, r2, #15
 4027 00a8 1278     		ldrb	r2, [r2]
 4028 00aa 3C21     		mov	r1, #60
 4029 00ac 8A43     		bic	r2, r1
 4030 00ae 1A70     		strb	r2, [r3]
 904:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 40000)
 4031              		.loc 1 904 0
 4032 00b0 7A68     		ldr	r2, [r7, #4]
 4033 00b2 934B     		ldr	r3, .L340+12
 4034 00b4 9A42     		cmp	r2, r3
 4035 00b6 11DC     		bgt	.L313
 905:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 906:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(0) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 4036              		.loc 1 906 0
 4037 00b8 FB1C     		add	r3, r7, #3
 4038 00ba 1B78     		ldrb	r3, [r3]
 4039 00bc DB00     		lsl	r3, r3, #3
 4040 00be DAB2     		uxtb	r2, r3
 4041 00c0 BB1C     		add	r3, r7, #2
 4042 00c2 1B78     		ldrb	r3, [r3]
 4043 00c4 9B00     		lsl	r3, r3, #2
 4044 00c6 DBB2     		uxtb	r3, r3
 4045 00c8 1343     		orr	r3, r2
 4046 00ca D9B2     		uxtb	r1, r3
 4047 00cc 3B1C     		mov	r3, r7
 4048 00ce 0F33     		add	r3, r3, #15
 4049 00d0 3A1C     		mov	r2, r7
 4050 00d2 0F32     		add	r2, r2, #15
 4051 00d4 1278     		ldrb	r2, [r2]
 4052 00d6 0A43     		orr	r2, r1
 4053 00d8 1A70     		strb	r2, [r3]
 4054 00da 2CE0     		b	.L314
 4055              	.L313:
 907:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 908:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 8000000)
 4056              		.loc 1 908 0
 4057 00dc 7A68     		ldr	r2, [r7, #4]
 4058 00de 8B4B     		ldr	r3, .L340+24
 4059 00e0 9A42     		cmp	r2, r3
 4060 00e2 14DC     		bgt	.L315
 909:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 910:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(1) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 4061              		.loc 1 910 0
 4062 00e4 FB1C     		add	r3, r7, #3
 4063 00e6 1B78     		ldrb	r3, [r3]
 4064 00e8 DB00     		lsl	r3, r3, #3
 4065 00ea DAB2     		uxtb	r2, r3
 4066 00ec BB1C     		add	r3, r7, #2
 4067 00ee 1B78     		ldrb	r3, [r3]
 4068 00f0 9B00     		lsl	r3, r3, #2
 4069 00f2 DBB2     		uxtb	r3, r3
 4070 00f4 1343     		orr	r3, r2
 4071 00f6 DAB2     		uxtb	r2, r3
 4072 00f8 3B1C     		mov	r3, r7
 4073 00fa 0F33     		add	r3, r3, #15
 4074 00fc 1B78     		ldrb	r3, [r3]
 4075 00fe 1343     		orr	r3, r2
 4076 0100 DAB2     		uxtb	r2, r3
 4077 0102 3B1C     		mov	r3, r7
 4078 0104 0F33     		add	r3, r3, #15
 4079 0106 1021     		mov	r1, #16
 4080 0108 0A43     		orr	r2, r1
 4081 010a 1A70     		strb	r2, [r3]
 4082 010c 13E0     		b	.L314
 4083              	.L315:
 911:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 912:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
 913:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 914:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(2) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 4084              		.loc 1 914 0
 4085 010e FB1C     		add	r3, r7, #3
 4086 0110 1B78     		ldrb	r3, [r3]
 4087 0112 DB00     		lsl	r3, r3, #3
 4088 0114 DAB2     		uxtb	r2, r3
 4089 0116 BB1C     		add	r3, r7, #2
 4090 0118 1B78     		ldrb	r3, [r3]
 4091 011a 9B00     		lsl	r3, r3, #2
 4092 011c DBB2     		uxtb	r3, r3
 4093 011e 1343     		orr	r3, r2
 4094 0120 DAB2     		uxtb	r2, r3
 4095 0122 3B1C     		mov	r3, r7
 4096 0124 0F33     		add	r3, r3, #15
 4097 0126 1B78     		ldrb	r3, [r3]
 4098 0128 1343     		orr	r3, r2
 4099 012a DAB2     		uxtb	r2, r3
 4100 012c 3B1C     		mov	r3, r7
 4101 012e 0F33     		add	r3, r3, #15
 4102 0130 2021     		mov	r1, #32
 4103 0132 0A43     		orr	r2, r1
 4104 0134 1A70     		strb	r2, [r3]
 4105              	.L314:
 915:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 916:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 = temp_reg;
 4106              		.loc 1 916 0
 4107 0136 6F4B     		ldr	r3, .L340
 4108 0138 3A1C     		mov	r2, r7
 4109 013a 0F32     		add	r2, r2, #15
 4110 013c 1278     		ldrb	r2, [r2]
 4111 013e 5A70     		strb	r2, [r3, #1]
 917:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 918:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // determine FRDIV based on reference clock frequency
 919:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // since the external frequency has already been checked only the maximum frequency for each FRDIV 
 920:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 1250000) {frdiv_val = 0;}
 4112              		.loc 1 920 0
 4113 0140 7A68     		ldr	r2, [r7, #4]
 4114 0142 734B     		ldr	r3, .L340+28
 4115 0144 9A42     		cmp	r2, r3
 4116 0146 04DC     		bgt	.L316
 4117              		.loc 1 920 0 is_stmt 0
 4118 0148 3B1C     		mov	r3, r7
 4119 014a 0E33     		add	r3, r3, #14
 4120 014c 0022     		mov	r2, #0
 4121 014e 1A70     		strb	r2, [r3]
 4122 0150 27E0     		b	.L317
 4123              	.L316:
 921:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 2500000) {frdiv_val = 1;}
 4124              		.loc 1 921 0 is_stmt 1
 4125 0152 7A68     		ldr	r2, [r7, #4]
 4126 0154 6F4B     		ldr	r3, .L340+32
 4127 0156 9A42     		cmp	r2, r3
 4128 0158 04DC     		bgt	.L318
 4129              		.loc 1 921 0 is_stmt 0
 4130 015a 3B1C     		mov	r3, r7
 4131 015c 0E33     		add	r3, r3, #14
 4132 015e 0122     		mov	r2, #1
 4133 0160 1A70     		strb	r2, [r3]
 4134 0162 1EE0     		b	.L317
 4135              	.L318:
 922:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 5000000) {frdiv_val = 2;}
 4136              		.loc 1 922 0 is_stmt 1
 4137 0164 7A68     		ldr	r2, [r7, #4]
 4138 0166 6C4B     		ldr	r3, .L340+36
 4139 0168 9A42     		cmp	r2, r3
 4140 016a 04DC     		bgt	.L319
 4141              		.loc 1 922 0 is_stmt 0
 4142 016c 3B1C     		mov	r3, r7
 4143 016e 0E33     		add	r3, r3, #14
 4144 0170 0222     		mov	r2, #2
 4145 0172 1A70     		strb	r2, [r3]
 4146 0174 15E0     		b	.L317
 4147              	.L319:
 923:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 10000000) {frdiv_val = 3;}
 4148              		.loc 1 923 0 is_stmt 1
 4149 0176 7A68     		ldr	r2, [r7, #4]
 4150 0178 684B     		ldr	r3, .L340+40
 4151 017a 9A42     		cmp	r2, r3
 4152 017c 04DC     		bgt	.L320
 4153              		.loc 1 923 0 is_stmt 0
 4154 017e 3B1C     		mov	r3, r7
 4155 0180 0E33     		add	r3, r3, #14
 4156 0182 0322     		mov	r2, #3
 4157 0184 1A70     		strb	r2, [r3]
 4158 0186 0CE0     		b	.L317
 4159              	.L320:
 924:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 20000000) {frdiv_val = 4;}
 4160              		.loc 1 924 0 is_stmt 1
 4161 0188 7A68     		ldr	r2, [r7, #4]
 4162 018a 654B     		ldr	r3, .L340+44
 4163 018c 9A42     		cmp	r2, r3
 4164 018e 04DC     		bgt	.L321
 4165              		.loc 1 924 0 is_stmt 0
 4166 0190 3B1C     		mov	r3, r7
 4167 0192 0E33     		add	r3, r3, #14
 4168 0194 0422     		mov	r2, #4
 4169 0196 1A70     		strb	r2, [r3]
 4170 0198 03E0     		b	.L317
 4171              	.L321:
 925:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else {frdiv_val = 5;}
 4172              		.loc 1 925 0 is_stmt 1
 4173 019a 3B1C     		mov	r3, r7
 4174 019c 0E33     		add	r3, r3, #14
 4175 019e 0522     		mov	r2, #5
 4176 01a0 1A70     		strb	r2, [r3]
 4177              	.L317:
 926:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 927:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select external oscilator and Reference Divider and clear IREFS to start ext osc
 928:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // If IRCLK is required it must be enabled outside of this driver, existing state will be maintaine
 929:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // CLKS=2, FRDIV=frdiv_val, IREFS=0, IRCLKEN=0, IREFSTEN=0
 930:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 4178              		.loc 1 930 0
 4179 01a2 544A     		ldr	r2, .L340
 4180 01a4 3B1C     		mov	r3, r7
 4181 01a6 0F33     		add	r3, r3, #15
 4182 01a8 1278     		ldrb	r2, [r2]
 4183 01aa 1A70     		strb	r2, [r3]
 931:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C1_CLKS_MASK | MCG_C1_FRDIV_MASK | MCG_C1_IREFS_MASK); // Clear values in these
 4184              		.loc 1 931 0
 4185 01ac 3B1C     		mov	r3, r7
 4186 01ae 0F33     		add	r3, r3, #15
 4187 01b0 3A1C     		mov	r2, r7
 4188 01b2 0F32     		add	r2, r2, #15
 4189 01b4 1178     		ldrb	r1, [r2]
 4190 01b6 0322     		mov	r2, #3
 4191 01b8 0A40     		and	r2, r1
 4192 01ba 1A70     		strb	r2, [r3]
 932:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= (MCG_C1_CLKS(2) | MCG_C1_FRDIV(frdiv_val)); // Set the required CLKS and FRDIV values
 4193              		.loc 1 932 0
 4194 01bc 3B1C     		mov	r3, r7
 4195 01be 0E33     		add	r3, r3, #14
 4196 01c0 1B78     		ldrb	r3, [r3]
 4197 01c2 DB00     		lsl	r3, r3, #3
 4198 01c4 DAB2     		uxtb	r2, r3
 4199 01c6 3823     		mov	r3, #56
 4200 01c8 1340     		and	r3, r2
 4201 01ca DAB2     		uxtb	r2, r3
 4202 01cc 3B1C     		mov	r3, r7
 4203 01ce 0F33     		add	r3, r3, #15
 4204 01d0 1B78     		ldrb	r3, [r3]
 4205 01d2 1343     		orr	r3, r2
 4206 01d4 DAB2     		uxtb	r2, r3
 4207 01d6 3B1C     		mov	r3, r7
 4208 01d8 0F33     		add	r3, r3, #15
 4209 01da 8021     		mov	r1, #128
 4210 01dc 4942     		neg	r1, r1
 4211 01de 0A43     		orr	r2, r1
 4212 01e0 1A70     		strb	r2, [r3]
 933:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg;
 4213              		.loc 1 933 0
 4214 01e2 444B     		ldr	r3, .L340
 4215 01e4 3A1C     		mov	r2, r7
 4216 01e6 0F32     		add	r2, r2, #15
 4217 01e8 1278     		ldrb	r2, [r2]
 4218 01ea 1A70     		strb	r2, [r3]
 934:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 935:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // if the external oscillator is used need to wait for OSCINIT to set
 936:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 4219              		.loc 1 936 0
 4220 01ec BB1C     		add	r3, r7, #2
 4221 01ee 1B78     		ldrb	r3, [r3]
 4222 01f0 002B     		cmp	r3, #0
 4223 01f2 24D0     		beq	.L322
 937:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 938:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 4224              		.loc 1 938 0
 4225 01f4 3B1C     		mov	r3, r7
 4226 01f6 0C33     		add	r3, r3, #12
 4227 01f8 0022     		mov	r2, #0
 4228 01fa 1A80     		strh	r2, [r3]
 4229 01fc 0DE0     		b	.L323
 4230              	.L326:
 939:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
 940:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (MCG_S & MCG_S_OSCINIT0_MASK) break; // jump out early if OSCINIT sets before loop finishe
 4231              		.loc 1 940 0
 4232 01fe 3D4B     		ldr	r3, .L340
 4233 0200 9B79     		ldrb	r3, [r3, #6]
 4234 0202 DBB2     		uxtb	r3, r3
 4235 0204 1A1C     		mov	r2, r3
 4236 0206 0223     		mov	r3, #2
 4237 0208 1340     		and	r3, r2
 4238 020a 0ED1     		bne	.L337
 4239              	.L324:
 938:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 4240              		.loc 1 938 0
 4241 020c 3B1C     		mov	r3, r7
 4242 020e 0C33     		add	r3, r3, #12
 4243 0210 3A1C     		mov	r2, r7
 4244 0212 0C32     		add	r2, r2, #12
 4245 0214 1288     		ldrh	r2, [r2]
 4246 0216 0132     		add	r2, r2, #1
 4247 0218 1A80     		strh	r2, [r3]
 4248              	.L323:
 938:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 4249              		.loc 1 938 0 is_stmt 0
 4250 021a 3B1C     		mov	r3, r7
 4251 021c 0C33     		add	r3, r3, #12
 4252 021e 0021     		mov	r1, #0
 4253 0220 5A5E     		ldrsh	r2, [r3, r1]
 4254 0222 404B     		ldr	r3, .L340+48
 4255 0224 9A42     		cmp	r2, r3
 4256 0226 EADD     		ble	.L326
 4257 0228 00E0     		b	.L325
 4258              	.L337:
 4259              		.loc 1 940 0 is_stmt 1
 4260 022a C046     		mov	r8, r8
 4261              	.L325:
 941:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
 942:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_OSCINIT0_MASK)) return 0x23; // check bit is really set and return with err
 4262              		.loc 1 942 0
 4263 022c 314B     		ldr	r3, .L340
 4264 022e 9B79     		ldrb	r3, [r3, #6]
 4265 0230 DBB2     		uxtb	r3, r3
 4266 0232 1A1C     		mov	r2, r3
 4267 0234 0223     		mov	r3, #2
 4268 0236 1340     		and	r3, r2
 4269 0238 01D1     		bne	.L322
 4270              		.loc 1 942 0 is_stmt 0
 4271 023a 2323     		mov	r3, #35
 4272 023c 56E0     		b	.L307
 4273              	.L322:
 943:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 944:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 945:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for Reference clock Status bit to clear
 946:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 4274              		.loc 1 946 0 is_stmt 1
 4275 023e 3B1C     		mov	r3, r7
 4276 0240 0C33     		add	r3, r3, #12
 4277 0242 0022     		mov	r2, #0
 4278 0244 1A80     		strh	r2, [r3]
 4279 0246 0DE0     		b	.L327
 4280              	.L330:
 947:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 948:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_IREFST_MASK)) break; // jump out early if IREFST clears before loop finishe
 4281              		.loc 1 948 0
 4282 0248 2A4B     		ldr	r3, .L340
 4283 024a 9B79     		ldrb	r3, [r3, #6]
 4284 024c DBB2     		uxtb	r3, r3
 4285 024e 1A1C     		mov	r2, r3
 4286 0250 1023     		mov	r3, #16
 4287 0252 1340     		and	r3, r2
 4288 0254 0ED0     		beq	.L338
 4289              	.L328:
 946:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 4290              		.loc 1 946 0
 4291 0256 3B1C     		mov	r3, r7
 4292 0258 0C33     		add	r3, r3, #12
 4293 025a 3A1C     		mov	r2, r7
 4294 025c 0C32     		add	r2, r2, #12
 4295 025e 1288     		ldrh	r2, [r2]
 4296 0260 0132     		add	r2, r2, #1
 4297 0262 1A80     		strh	r2, [r3]
 4298              	.L327:
 946:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 4299              		.loc 1 946 0 is_stmt 0
 4300 0264 3B1C     		mov	r3, r7
 4301 0266 0C33     		add	r3, r3, #12
 4302 0268 0021     		mov	r1, #0
 4303 026a 5A5E     		ldrsh	r2, [r3, r1]
 4304 026c 2E4B     		ldr	r3, .L340+52
 4305 026e 9A42     		cmp	r2, r3
 4306 0270 EADD     		ble	.L330
 4307 0272 00E0     		b	.L329
 4308              	.L338:
 4309              		.loc 1 948 0 is_stmt 1
 4310 0274 C046     		mov	r8, r8
 4311              	.L329:
 949:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 950:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_S & MCG_S_IREFST_MASK) return 0x11; // check bit is really clear and return with error if
 4312              		.loc 1 950 0
 4313 0276 1F4B     		ldr	r3, .L340
 4314 0278 9B79     		ldrb	r3, [r3, #6]
 4315 027a DBB2     		uxtb	r3, r3
 4316 027c 1A1C     		mov	r2, r3
 4317 027e 1023     		mov	r3, #16
 4318 0280 1340     		and	r3, r2
 4319 0282 01D0     		beq	.L331
 4320              		.loc 1 950 0 is_stmt 0
 4321 0284 1123     		mov	r3, #17
 4322 0286 31E0     		b	.L307
 4323              	.L331:
 951:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 952:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to show clock source is ext ref clk
 953:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 4324              		.loc 1 953 0 is_stmt 1
 4325 0288 3B1C     		mov	r3, r7
 4326 028a 0C33     		add	r3, r3, #12
 4327 028c 0022     		mov	r2, #0
 4328 028e 1A80     		strh	r2, [r3]
 4329 0290 0FE0     		b	.L332
 4330              	.L335:
 954:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
 955:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) break; // jump out early if CLKST
 4331              		.loc 1 955 0
 4332 0292 184B     		ldr	r3, .L340
 4333 0294 9B79     		ldrb	r3, [r3, #6]
 4334 0296 DBB2     		uxtb	r3, r3
 4335 0298 1A1C     		mov	r2, r3
 4336 029a 0C23     		mov	r3, #12
 4337 029c 1340     		and	r3, r2
 4338 029e 9B08     		lsr	r3, r3, #2
 4339 02a0 022B     		cmp	r3, #2
 4340 02a2 0ED0     		beq	.L339
 4341              	.L333:
 953:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 4342              		.loc 1 953 0
 4343 02a4 3B1C     		mov	r3, r7
 4344 02a6 0C33     		add	r3, r3, #12
 4345 02a8 3A1C     		mov	r2, r7
 4346 02aa 0C32     		add	r2, r2, #12
 4347 02ac 1288     		ldrh	r2, [r2]
 4348 02ae 0132     		add	r2, r2, #1
 4349 02b0 1A80     		strh	r2, [r3]
 4350              	.L332:
 953:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 4351              		.loc 1 953 0 is_stmt 0
 4352 02b2 3B1C     		mov	r3, r7
 4353 02b4 0C33     		add	r3, r3, #12
 4354 02b6 0021     		mov	r1, #0
 4355 02b8 5A5E     		ldrsh	r2, [r3, r1]
 4356 02ba 1B4B     		ldr	r3, .L340+52
 4357 02bc 9A42     		cmp	r2, r3
 4358 02be E8DD     		ble	.L335
 4359 02c0 00E0     		b	.L334
 4360              	.L339:
 4361              		.loc 1 955 0 is_stmt 1
 4362 02c2 C046     		mov	r8, r8
 4363              	.L334:
 956:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 957:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x2) return 0x1A; // check EXT CLK is re
 4364              		.loc 1 957 0
 4365 02c4 0B4B     		ldr	r3, .L340
 4366 02c6 9B79     		ldrb	r3, [r3, #6]
 4367 02c8 DBB2     		uxtb	r3, r3
 4368 02ca 1A1C     		mov	r2, r3
 4369 02cc 0C23     		mov	r3, #12
 4370 02ce 1340     		and	r3, r2
 4371 02d0 9B08     		lsr	r3, r3, #2
 4372 02d2 022B     		cmp	r3, #2
 4373 02d4 01D0     		beq	.L336
 4374              		.loc 1 957 0 is_stmt 0
 4375 02d6 1A23     		mov	r3, #26
 4376 02d8 08E0     		b	.L307
 4377              	.L336:
 958:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
 959:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBE  
 960:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // It is recommended that the clock monitor is enabled when using an external clock as the clock so
 961:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // It is enabled here but can be removed if this is not required.
 962:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 |= MCG_C6_CME0_MASK;
 4378              		.loc 1 962 0 is_stmt 1
 4379 02da 064B     		ldr	r3, .L340
 4380 02dc 054A     		ldr	r2, .L340
 4381 02de 5279     		ldrb	r2, [r2, #5]
 4382 02e0 D2B2     		uxtb	r2, r2
 4383 02e2 2021     		mov	r1, #32
 4384 02e4 0A43     		orr	r2, r1
 4385 02e6 D2B2     		uxtb	r2, r2
 4386 02e8 5A71     		strb	r2, [r3, #5]
 963:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 964:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return crystal_val; // MCGOUT frequency equals external clock frequency  
 4387              		.loc 1 964 0
 4388 02ea 7B68     		ldr	r3, [r7, #4]
 4389              	.L307:
 965:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fbi_fbe
 4390              		.loc 1 965 0
 4391 02ec 181C     		mov	r0, r3
 4392 02ee BD46     		mov	sp, r7
 4393 02f0 04B0     		add	sp, sp, #16
 4394              		@ sp needed for prologue
 4395 02f2 80BD     		pop	{r7, pc}
 4396              	.L341:
 4397              		.align	2
 4398              	.L340:
 4399 02f4 00400640 		.word	1074151424
 4400 02f8 80F0FA02 		.word	50000000
 4401 02fc 2F750000 		.word	29999
 4402 0300 409C0000 		.word	40000
 4403 0304 BFC62D00 		.word	2999999
 4404 0308 0048E801 		.word	32000000
 4405 030c 00127A00 		.word	8000000
 4406 0310 D0121300 		.word	1250000
 4407 0314 A0252600 		.word	2500000
 4408 0318 404B4C00 		.word	5000000
 4409 031c 80969800 		.word	10000000
 4410 0320 002D3101 		.word	20000000
 4411 0324 0F270000 		.word	9999
 4412 0328 CF070000 		.word	1999
 4413              		.cfi_endproc
 4414              	.LFE14:
 4416              		.section	.text.fbi_blpi,"ax",%progbits
 4417              		.align	2
 4418              		.global	fbi_blpi
 4419              		.code	16
 4420              		.thumb_func
 4422              	fbi_blpi:
 4423              	.LFB15:
 966:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 967:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 968:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /********************************************************************/
 969:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /* Functon name : fbi_blpi
 970:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 971:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Mode transition: FBI to BLPI mode
 972:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 973:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * This function transitions the MCG from FBI mode to BLPI mode. This is
 974:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * achieved by setting the MCG_C2[LP] bit. There is no status bit to 
 975:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * check so 0 is always returned if the function was called with the MCG
 976:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * in FBI mode. 
 977:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 978:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Parameters: irc_freq - internal reference clock frequency
 979:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             ircs_select - 0 if slow irc, 1 if fast irc
 980:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
 981:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Return value : MCGOUT frequency or error code 0x13
 982:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  */
 983:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbi_blpi(int irc_freq, unsigned char irc_select)
 984:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 4424              		.loc 1 984 0
 4425              		.cfi_startproc
 4426 0000 80B5     		push	{r7, lr}
 4427              	.LCFI45:
 4428              		.cfi_def_cfa_offset 8
 4429              		.cfi_offset 7, -8
 4430              		.cfi_offset 14, -4
 4431 0002 84B0     		sub	sp, sp, #16
 4432              	.LCFI46:
 4433              		.cfi_def_cfa_offset 24
 4434 0004 00AF     		add	r7, sp, #0
 4435              	.LCFI47:
 4436              		.cfi_def_cfa_register 7
 4437 0006 7860     		str	r0, [r7, #4]
 4438 0008 0A1C     		mov	r2, r1
 4439 000a FB1C     		add	r3, r7, #3
 4440 000c 1A70     		strb	r2, [r3]
 985:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char fcrdiv_val;
 986:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 987:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check if in FBI mode
 988:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4441              		.loc 1 988 0
 4442 000e 234B     		ldr	r3, .L347
 4443 0010 9B79     		ldrb	r3, [r3, #6]
 4444 0012 DBB2     		uxtb	r3, r3
 4445 0014 1A1C     		mov	r2, r3
 4446 0016 0C23     		mov	r3, #12
 4447 0018 1340     		and	r3, r2
 4448 001a 9B08     		lsr	r3, r3, #2
 4449 001c 012B     		cmp	r3, #1
 4450 001e 14D1     		bne	.L343
 989:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 4451              		.loc 1 989 0
 4452 0020 1E4B     		ldr	r3, .L347
 4453 0022 9B79     		ldrb	r3, [r3, #6]
 4454 0024 DBB2     		uxtb	r3, r3
 4455 0026 1A1C     		mov	r2, r3
 4456 0028 1023     		mov	r3, #16
 4457 002a 1340     		and	r3, r2
 988:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4458              		.loc 1 988 0
 4459 002c 0DD0     		beq	.L343
 990:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 4460              		.loc 1 990 0
 4461 002e 1B4B     		ldr	r3, .L347
 4462 0030 9B79     		ldrb	r3, [r3, #6]
 4463 0032 DBB2     		uxtb	r3, r3
 4464 0034 1A1C     		mov	r2, r3
 4465 0036 2023     		mov	r3, #32
 4466 0038 1340     		and	r3, r2
 989:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 4467              		.loc 1 989 0
 4468 003a 06D1     		bne	.L343
 991:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check LP bit is clear
 4469              		.loc 1 991 0
 4470 003c 174B     		ldr	r3, .L347
 4471 003e 5B78     		ldrb	r3, [r3, #1]
 4472 0040 DBB2     		uxtb	r3, r3
 4473 0042 1A1C     		mov	r2, r3
 4474 0044 0223     		mov	r3, #2
 4475 0046 1340     		and	r3, r2
 988:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4476              		.loc 1 988 0
 4477 0048 01D0     		beq	.L344
 4478              	.L343:
 992:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {  
 993:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x3;                                                       // MCG not in correct mode re
 4479              		.loc 1 993 0
 4480 004a 0323     		mov	r3, #3
 4481 004c 21E0     		b	.L345
 4482              	.L344:
 994:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
 995:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
 996:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Set LP bit to disable the FLL and enter BLPI
 997:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 |= MCG_C2_LP_MASK;
 4483              		.loc 1 997 0
 4484 004e 134B     		ldr	r3, .L347
 4485 0050 124A     		ldr	r2, .L347
 4486 0052 5278     		ldrb	r2, [r2, #1]
 4487 0054 D2B2     		uxtb	r2, r2
 4488 0056 0221     		mov	r1, #2
 4489 0058 0A43     		orr	r2, r1
 4490 005a D2B2     		uxtb	r2, r2
 4491 005c 5A70     		strb	r2, [r3, #1]
 998:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
 999:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in BLPI
1000:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select)
 4492              		.loc 1 1000 0
 4493 005e FB1C     		add	r3, r7, #3
 4494 0060 1B78     		ldrb	r3, [r3]
 4495 0062 002B     		cmp	r3, #0
 4496 0064 14D0     		beq	.L346
1001:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1002:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fcrdiv_val = (1 << ((MCG_SC & MCG_SC_FCRDIV_MASK) >> MCG_SC_FCRDIV_SHIFT)); // calculate the fa
 4497              		.loc 1 1002 0
 4498 0066 0D4B     		ldr	r3, .L347
 4499 0068 1B7A     		ldrb	r3, [r3, #8]
 4500 006a DBB2     		uxtb	r3, r3
 4501 006c 1A1C     		mov	r2, r3
 4502 006e 0E23     		mov	r3, #14
 4503 0070 1340     		and	r3, r2
 4504 0072 5B08     		lsr	r3, r3, #1
 4505 0074 0122     		mov	r2, #1
 4506 0076 9A40     		lsl	r2, r2, r3
 4507 0078 3B1C     		mov	r3, r7
 4508 007a 0F33     		add	r3, r3, #15
 4509 007c 1A70     		strb	r2, [r3]
1003:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return (irc_freq / fcrdiv_val); // MCGOUT frequency equals fast IRC frequency divided by 2
 4510              		.loc 1 1003 0
 4511 007e 3B1C     		mov	r3, r7
 4512 0080 0F33     		add	r3, r3, #15
 4513 0082 1B78     		ldrb	r3, [r3]
 4514 0084 7868     		ldr	r0, [r7, #4]
 4515 0086 191C     		mov	r1, r3
 4516 0088 FFF7FEFF 		bl	__aeabi_idiv
 4517 008c 031C     		mov	r3, r0
 4518 008e 00E0     		b	.L345
 4519              	.L346:
1004:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1005:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1006:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1007:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return irc_freq; // MCGOUT frequency equals slow IRC frequency
 4520              		.loc 1 1007 0
 4521 0090 7B68     		ldr	r3, [r7, #4]
 4522              	.L345:
1008:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }   
1009:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fbi_blpi
 4523              		.loc 1 1009 0
 4524 0092 181C     		mov	r0, r3
 4525 0094 BD46     		mov	sp, r7
 4526 0096 04B0     		add	sp, sp, #16
 4527              		@ sp needed for prologue
 4528 0098 80BD     		pop	{r7, pc}
 4529              	.L348:
 4530 009a C046     		.align	2
 4531              	.L347:
 4532 009c 00400640 		.word	1074151424
 4533              		.cfi_endproc
 4534              	.LFE15:
 4536              		.section	.text.blpi_fbi,"ax",%progbits
 4537              		.align	2
 4538              		.global	blpi_fbi
 4539              		.code	16
 4540              		.thumb_func
 4542              	blpi_fbi:
 4543              	.LFB16:
1010:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1011:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1012:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1013:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /********************************************************************/
1014:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /* Functon name : blpi_fbi
1015:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1016:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Mode transition: BLPI to FBI mode
1017:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1018:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * This function transitions the MCG from BLPI mode to FBI mode. This is
1019:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * achieved by clearing the MCG_C2[LP] bit. There is no status bit to 
1020:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * check so 0 is always returned if the function was called with the MCG
1021:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * in BLPI mode. 
1022:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1023:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Parameters: irc_freq - internal reference clock frequency
1024:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             ircs_select - 0 if slow irc, 1 if fast irc
1025:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1026:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Return value : MCGOUT frequency or error code 0x15
1027:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  */
1028:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int blpi_fbi(int irc_freq, unsigned char irc_select)
1029:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 4544              		.loc 1 1029 0
 4545              		.cfi_startproc
 4546 0000 80B5     		push	{r7, lr}
 4547              	.LCFI48:
 4548              		.cfi_def_cfa_offset 8
 4549              		.cfi_offset 7, -8
 4550              		.cfi_offset 14, -4
 4551 0002 84B0     		sub	sp, sp, #16
 4552              	.LCFI49:
 4553              		.cfi_def_cfa_offset 24
 4554 0004 00AF     		add	r7, sp, #0
 4555              	.LCFI50:
 4556              		.cfi_def_cfa_register 7
 4557 0006 7860     		str	r0, [r7, #4]
 4558 0008 0A1C     		mov	r2, r1
 4559 000a FB1C     		add	r3, r7, #3
 4560 000c 1A70     		strb	r2, [r3]
1030:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char fcrdiv_val;
1031:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // check if in BLPI mode
1032:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4561              		.loc 1 1032 0
 4562 000e 234B     		ldr	r3, .L354
 4563 0010 9B79     		ldrb	r3, [r3, #6]
 4564 0012 DBB2     		uxtb	r3, r3
 4565 0014 1A1C     		mov	r2, r3
 4566 0016 0C23     		mov	r3, #12
 4567 0018 1340     		and	r3, r2
 4568 001a 9B08     		lsr	r3, r3, #2
 4569 001c 012B     		cmp	r3, #1
 4570 001e 14D1     		bne	.L350
1033:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 4571              		.loc 1 1033 0
 4572 0020 1E4B     		ldr	r3, .L354
 4573 0022 9B79     		ldrb	r3, [r3, #6]
 4574 0024 DBB2     		uxtb	r3, r3
 4575 0026 1A1C     		mov	r2, r3
 4576 0028 1023     		mov	r3, #16
 4577 002a 1340     		and	r3, r2
1032:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4578              		.loc 1 1032 0
 4579 002c 0DD0     		beq	.L350
1034:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 4580              		.loc 1 1034 0
 4581 002e 1B4B     		ldr	r3, .L354
 4582 0030 9B79     		ldrb	r3, [r3, #6]
 4583 0032 DBB2     		uxtb	r3, r3
 4584 0034 1A1C     		mov	r2, r3
 4585 0036 2023     		mov	r3, #32
 4586 0038 1340     		and	r3, r2
1033:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 4587              		.loc 1 1033 0
 4588 003a 06D1     		bne	.L350
1035:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_C2 & MCG_C2_LP_MASK)))                                     // check LP bit is set
 4589              		.loc 1 1035 0
 4590 003c 174B     		ldr	r3, .L354
 4591 003e 5B78     		ldrb	r3, [r3, #1]
 4592 0040 DBB2     		uxtb	r3, r3
 4593 0042 1A1C     		mov	r2, r3
 4594 0044 0223     		mov	r3, #2
 4595 0046 1340     		and	r3, r2
1032:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4596              		.loc 1 1032 0
 4597 0048 01D1     		bne	.L351
 4598              	.L350:
1036:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1037:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x5;                                                       // MCG not in correct mode re
 4599              		.loc 1 1037 0
 4600 004a 0523     		mov	r3, #5
 4601 004c 21E0     		b	.L352
 4602              	.L351:
1038:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1039:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1040:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Clear LP bit to enable the FLL and enter FBI mode   
1041:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 &= ~MCG_C2_LP_MASK;
 4603              		.loc 1 1041 0
 4604 004e 134B     		ldr	r3, .L354
 4605 0050 124A     		ldr	r2, .L354
 4606 0052 5278     		ldrb	r2, [r2, #1]
 4607 0054 D2B2     		uxtb	r2, r2
 4608 0056 0221     		mov	r1, #2
 4609 0058 8A43     		bic	r2, r1
 4610 005a D2B2     		uxtb	r2, r2
 4611 005c 5A70     		strb	r2, [r3, #1]
1042:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1043:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBI mode
1044:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select)
 4612              		.loc 1 1044 0
 4613 005e FB1C     		add	r3, r7, #3
 4614 0060 1B78     		ldrb	r3, [r3]
 4615 0062 002B     		cmp	r3, #0
 4616 0064 14D0     		beq	.L353
1045:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1046:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fcrdiv_val = (1 << ((MCG_SC & MCG_SC_FCRDIV_MASK) >> MCG_SC_FCRDIV_SHIFT)); // calculate the fa
 4617              		.loc 1 1046 0
 4618 0066 0D4B     		ldr	r3, .L354
 4619 0068 1B7A     		ldrb	r3, [r3, #8]
 4620 006a DBB2     		uxtb	r3, r3
 4621 006c 1A1C     		mov	r2, r3
 4622 006e 0E23     		mov	r3, #14
 4623 0070 1340     		and	r3, r2
 4624 0072 5B08     		lsr	r3, r3, #1
 4625 0074 0122     		mov	r2, #1
 4626 0076 9A40     		lsl	r2, r2, r3
 4627 0078 3B1C     		mov	r3, r7
 4628 007a 0F33     		add	r3, r3, #15
 4629 007c 1A70     		strb	r2, [r3]
1047:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return (irc_freq / fcrdiv_val); // MCGOUT frequency equals fast IRC frequency divided by 2
 4630              		.loc 1 1047 0
 4631 007e 3B1C     		mov	r3, r7
 4632 0080 0F33     		add	r3, r3, #15
 4633 0082 1B78     		ldrb	r3, [r3]
 4634 0084 7868     		ldr	r0, [r7, #4]
 4635 0086 191C     		mov	r1, r3
 4636 0088 FFF7FEFF 		bl	__aeabi_idiv
 4637 008c 031C     		mov	r3, r0
 4638 008e 00E0     		b	.L352
 4639              	.L353:
1048:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1049:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1050:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1051:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return irc_freq; // MCGOUT frequency equals slow IRC frequency
 4640              		.loc 1 1051 0
 4641 0090 7B68     		ldr	r3, [r7, #4]
 4642              	.L352:
1052:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1053:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // blpi_fbi
 4643              		.loc 1 1053 0
 4644 0092 181C     		mov	r0, r3
 4645 0094 BD46     		mov	sp, r7
 4646 0096 04B0     		add	sp, sp, #16
 4647              		@ sp needed for prologue
 4648 0098 80BD     		pop	{r7, pc}
 4649              	.L355:
 4650 009a C046     		.align	2
 4651              	.L354:
 4652 009c 00400640 		.word	1074151424
 4653              		.cfi_endproc
 4654              	.LFE16:
 4656              		.section	.text.fbi_fee,"ax",%progbits
 4657              		.align	2
 4658              		.global	fbi_fee
 4659              		.code	16
 4660              		.thumb_func
 4662              	fbi_fee:
 4663              	.LFB17:
1054:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1055:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1056:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbi_fee(int crystal_val, unsigned char hgo_val, unsigned char erefs_val)
1057:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 4664              		.loc 1 1057 0
 4665              		.cfi_startproc
 4666 0000 80B5     		push	{r7, lr}
 4667              	.LCFI51:
 4668              		.cfi_def_cfa_offset 8
 4669              		.cfi_offset 7, -8
 4670              		.cfi_offset 14, -4
 4671 0002 86B0     		sub	sp, sp, #24
 4672              	.LCFI52:
 4673              		.cfi_def_cfa_offset 32
 4674 0004 00AF     		add	r7, sp, #0
 4675              	.LCFI53:
 4676              		.cfi_def_cfa_register 7
 4677 0006 7860     		str	r0, [r7, #4]
 4678 0008 FB1C     		add	r3, r7, #3
 4679 000a 1970     		strb	r1, [r3]
 4680 000c BB1C     		add	r3, r7, #2
 4681 000e 1A70     		strb	r2, [r3]
1058:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
1059:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char frdiv_val;
1060:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
1061:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int mcg_out, fll_ref_freq;
1062:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1063:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check if in FBI mode
1064:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4682              		.loc 1 1064 0
 4683 0010 C64B     		ldr	r3, .L395
 4684 0012 9B79     		ldrb	r3, [r3, #6]
 4685 0014 DBB2     		uxtb	r3, r3
 4686 0016 1A1C     		mov	r2, r3
 4687 0018 0C23     		mov	r3, #12
 4688 001a 1340     		and	r3, r2
 4689 001c 9B08     		lsr	r3, r3, #2
 4690 001e 012B     		cmp	r3, #1
 4691 0020 14D1     		bne	.L357
1065:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 4692              		.loc 1 1065 0
 4693 0022 C24B     		ldr	r3, .L395
 4694 0024 9B79     		ldrb	r3, [r3, #6]
 4695 0026 DBB2     		uxtb	r3, r3
 4696 0028 1A1C     		mov	r2, r3
 4697 002a 1023     		mov	r3, #16
 4698 002c 1340     		and	r3, r2
1064:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4699              		.loc 1 1064 0
 4700 002e 0DD0     		beq	.L357
1066:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 4701              		.loc 1 1066 0
 4702 0030 BE4B     		ldr	r3, .L395
 4703 0032 9B79     		ldrb	r3, [r3, #6]
 4704 0034 DBB2     		uxtb	r3, r3
 4705 0036 1A1C     		mov	r2, r3
 4706 0038 2023     		mov	r3, #32
 4707 003a 1340     		and	r3, r2
1065:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 4708              		.loc 1 1065 0
 4709 003c 06D1     		bne	.L357
1067:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check LP bit is clear
 4710              		.loc 1 1067 0
 4711 003e BB4B     		ldr	r3, .L395
 4712 0040 5B78     		ldrb	r3, [r3, #1]
 4713 0042 DBB2     		uxtb	r3, r3
 4714 0044 1A1C     		mov	r2, r3
 4715 0046 0223     		mov	r3, #2
 4716 0048 1340     		and	r3, r2
1064:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 4717              		.loc 1 1064 0
 4718 004a 01D0     		beq	.L358
 4719              	.L357:
1068:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {  
1069:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x3;                                                       // MCG not in correct mode re
 4720              		.loc 1 1069 0
 4721 004c 0323     		mov	r3, #3
 4722 004e 92E1     		b	.L359
 4723              	.L358:
1070:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1071:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1072:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check external frequency is less than the maximum frequency
1073:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if  (crystal_val > 50000000) {return 0x21;}
 4724              		.loc 1 1073 0
 4725 0050 7A68     		ldr	r2, [r7, #4]
 4726 0052 B74B     		ldr	r3, .L395+4
 4727 0054 9A42     		cmp	r2, r3
 4728 0056 01DD     		ble	.L360
 4729              		.loc 1 1073 0 is_stmt 0
 4730 0058 2123     		mov	r3, #33
 4731 005a 8CE1     		b	.L359
 4732              	.L360:
1074:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1075:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check crystal frequency is within spec. if crystal osc is being used
1076:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 4733              		.loc 1 1076 0 is_stmt 1
 4734 005c BB1C     		add	r3, r7, #2
 4735 005e 1B78     		ldrb	r3, [r3]
 4736 0060 002B     		cmp	r3, #0
 4737 0062 11D0     		beq	.L361
1077:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1078:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((crystal_val < 30000) ||
 4738              		.loc 1 1078 0
 4739 0064 7A68     		ldr	r2, [r7, #4]
 4740 0066 B34B     		ldr	r3, .L395+8
 4741 0068 9A42     		cmp	r2, r3
 4742 006a 0BDD     		ble	.L362
 4743              		.loc 1 1078 0 is_stmt 0
 4744 006c 7A68     		ldr	r2, [r7, #4]
 4745 006e B24B     		ldr	r3, .L395+12
 4746 0070 9A42     		cmp	r2, r3
 4747 0072 03DD     		ble	.L363
1079:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         ((crystal_val > 40000) && (crystal_val < 3000000)) ||
 4748              		.loc 1 1079 0 is_stmt 1
 4749 0074 7A68     		ldr	r2, [r7, #4]
 4750 0076 B14B     		ldr	r3, .L395+16
 4751 0078 9A42     		cmp	r2, r3
 4752 007a 03DD     		ble	.L362
 4753              	.L363:
 4754              		.loc 1 1079 0 is_stmt 0
 4755 007c 7A68     		ldr	r2, [r7, #4]
 4756 007e B04B     		ldr	r3, .L395+20
 4757 0080 9A42     		cmp	r2, r3
 4758 0082 01DD     		ble	.L361
 4759              	.L362:
1080:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         (crystal_val > 32000000)) {return 0x22;} // return error if one of the available crystal op
 4760              		.loc 1 1080 0 is_stmt 1
 4761 0084 2223     		mov	r3, #34
 4762 0086 76E1     		b	.L359
 4763              	.L361:
1081:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1082:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1083:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // make sure HGO will never be greater than 1. Could return an error instead if desired.  
1084:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (hgo_val > 0)
 4764              		.loc 1 1084 0
 4765 0088 FB1C     		add	r3, r7, #3
 4766 008a 1B78     		ldrb	r3, [r3]
 4767 008c 002B     		cmp	r3, #0
 4768 008e 02D0     		beq	.L364
1085:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1086:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     hgo_val = 1; // force hgo_val to 1 if > 0
 4769              		.loc 1 1086 0
 4770 0090 FB1C     		add	r3, r7, #3
 4771 0092 0122     		mov	r2, #1
 4772 0094 1A70     		strb	r2, [r3]
 4773              	.L364:
1087:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1088:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1089:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // configure the MCG_C2 register
1090:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // the RANGE value is determined by the external frequency. Since the RANGE parameter affects the F
1091:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // it still needs to be set correctly even if the oscillator is not being used
1092:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C2;
 4774              		.loc 1 1092 0
 4775 0096 A54A     		ldr	r2, .L395
 4776 0098 3B1C     		mov	r3, r7
 4777 009a 1733     		add	r3, r3, #23
 4778 009c 5278     		ldrb	r2, [r2, #1]
 4779 009e 1A70     		strb	r2, [r3]
1093:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C2_RANGE0_MASK | MCG_C2_HGO0_MASK | MCG_C2_EREFS0_MASK); // clear fields before
 4780              		.loc 1 1093 0
 4781 00a0 3B1C     		mov	r3, r7
 4782 00a2 1733     		add	r3, r3, #23
 4783 00a4 3A1C     		mov	r2, r7
 4784 00a6 1732     		add	r2, r2, #23
 4785 00a8 1278     		ldrb	r2, [r2]
 4786 00aa 3C21     		mov	r1, #60
 4787 00ac 8A43     		bic	r2, r1
 4788 00ae 1A70     		strb	r2, [r3]
1094:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 40000)
 4789              		.loc 1 1094 0
 4790 00b0 7A68     		ldr	r2, [r7, #4]
 4791 00b2 A14B     		ldr	r3, .L395+12
 4792 00b4 9A42     		cmp	r2, r3
 4793 00b6 11DC     		bgt	.L365
1095:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1096:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(0) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 4794              		.loc 1 1096 0
 4795 00b8 FB1C     		add	r3, r7, #3
 4796 00ba 1B78     		ldrb	r3, [r3]
 4797 00bc DB00     		lsl	r3, r3, #3
 4798 00be DAB2     		uxtb	r2, r3
 4799 00c0 BB1C     		add	r3, r7, #2
 4800 00c2 1B78     		ldrb	r3, [r3]
 4801 00c4 9B00     		lsl	r3, r3, #2
 4802 00c6 DBB2     		uxtb	r3, r3
 4803 00c8 1343     		orr	r3, r2
 4804 00ca D9B2     		uxtb	r1, r3
 4805 00cc 3B1C     		mov	r3, r7
 4806 00ce 1733     		add	r3, r3, #23
 4807 00d0 3A1C     		mov	r2, r7
 4808 00d2 1732     		add	r2, r2, #23
 4809 00d4 1278     		ldrb	r2, [r2]
 4810 00d6 0A43     		orr	r2, r1
 4811 00d8 1A70     		strb	r2, [r3]
 4812 00da 2CE0     		b	.L366
 4813              	.L365:
1097:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1098:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 8000000)
 4814              		.loc 1 1098 0
 4815 00dc 7A68     		ldr	r2, [r7, #4]
 4816 00de 994B     		ldr	r3, .L395+24
 4817 00e0 9A42     		cmp	r2, r3
 4818 00e2 14DC     		bgt	.L367
1099:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1100:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(1) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 4819              		.loc 1 1100 0
 4820 00e4 FB1C     		add	r3, r7, #3
 4821 00e6 1B78     		ldrb	r3, [r3]
 4822 00e8 DB00     		lsl	r3, r3, #3
 4823 00ea DAB2     		uxtb	r2, r3
 4824 00ec BB1C     		add	r3, r7, #2
 4825 00ee 1B78     		ldrb	r3, [r3]
 4826 00f0 9B00     		lsl	r3, r3, #2
 4827 00f2 DBB2     		uxtb	r3, r3
 4828 00f4 1343     		orr	r3, r2
 4829 00f6 DAB2     		uxtb	r2, r3
 4830 00f8 3B1C     		mov	r3, r7
 4831 00fa 1733     		add	r3, r3, #23
 4832 00fc 1B78     		ldrb	r3, [r3]
 4833 00fe 1343     		orr	r3, r2
 4834 0100 DAB2     		uxtb	r2, r3
 4835 0102 3B1C     		mov	r3, r7
 4836 0104 1733     		add	r3, r3, #23
 4837 0106 1021     		mov	r1, #16
 4838 0108 0A43     		orr	r2, r1
 4839 010a 1A70     		strb	r2, [r3]
 4840 010c 13E0     		b	.L366
 4841              	.L367:
1101:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1102:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1103:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1104:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(2) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 4842              		.loc 1 1104 0
 4843 010e FB1C     		add	r3, r7, #3
 4844 0110 1B78     		ldrb	r3, [r3]
 4845 0112 DB00     		lsl	r3, r3, #3
 4846 0114 DAB2     		uxtb	r2, r3
 4847 0116 BB1C     		add	r3, r7, #2
 4848 0118 1B78     		ldrb	r3, [r3]
 4849 011a 9B00     		lsl	r3, r3, #2
 4850 011c DBB2     		uxtb	r3, r3
 4851 011e 1343     		orr	r3, r2
 4852 0120 DAB2     		uxtb	r2, r3
 4853 0122 3B1C     		mov	r3, r7
 4854 0124 1733     		add	r3, r3, #23
 4855 0126 1B78     		ldrb	r3, [r3]
 4856 0128 1343     		orr	r3, r2
 4857 012a DAB2     		uxtb	r2, r3
 4858 012c 3B1C     		mov	r3, r7
 4859 012e 1733     		add	r3, r3, #23
 4860 0130 2021     		mov	r1, #32
 4861 0132 0A43     		orr	r2, r1
 4862 0134 1A70     		strb	r2, [r3]
 4863              	.L366:
1105:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1106:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 = temp_reg;
 4864              		.loc 1 1106 0
 4865 0136 7D4B     		ldr	r3, .L395
 4866 0138 3A1C     		mov	r2, r7
 4867 013a 1732     		add	r2, r2, #23
 4868 013c 1278     		ldrb	r2, [r2]
 4869 013e 5A70     		strb	r2, [r3, #1]
1107:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1108:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // determine FRDIV based on reference clock frequency
1109:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // since the external frequency has already been checked only the maximum frequency for each FRDIV 
1110:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 1250000) {frdiv_val = 0;}
 4870              		.loc 1 1110 0
 4871 0140 7A68     		ldr	r2, [r7, #4]
 4872 0142 814B     		ldr	r3, .L395+28
 4873 0144 9A42     		cmp	r2, r3
 4874 0146 04DC     		bgt	.L368
 4875              		.loc 1 1110 0 is_stmt 0
 4876 0148 3B1C     		mov	r3, r7
 4877 014a 1633     		add	r3, r3, #22
 4878 014c 0022     		mov	r2, #0
 4879 014e 1A70     		strb	r2, [r3]
 4880 0150 27E0     		b	.L369
 4881              	.L368:
1111:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 2500000) {frdiv_val = 1;}
 4882              		.loc 1 1111 0 is_stmt 1
 4883 0152 7A68     		ldr	r2, [r7, #4]
 4884 0154 7D4B     		ldr	r3, .L395+32
 4885 0156 9A42     		cmp	r2, r3
 4886 0158 04DC     		bgt	.L370
 4887              		.loc 1 1111 0 is_stmt 0
 4888 015a 3B1C     		mov	r3, r7
 4889 015c 1633     		add	r3, r3, #22
 4890 015e 0122     		mov	r2, #1
 4891 0160 1A70     		strb	r2, [r3]
 4892 0162 1EE0     		b	.L369
 4893              	.L370:
1112:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 5000000) {frdiv_val = 2;}
 4894              		.loc 1 1112 0 is_stmt 1
 4895 0164 7A68     		ldr	r2, [r7, #4]
 4896 0166 7A4B     		ldr	r3, .L395+36
 4897 0168 9A42     		cmp	r2, r3
 4898 016a 04DC     		bgt	.L371
 4899              		.loc 1 1112 0 is_stmt 0
 4900 016c 3B1C     		mov	r3, r7
 4901 016e 1633     		add	r3, r3, #22
 4902 0170 0222     		mov	r2, #2
 4903 0172 1A70     		strb	r2, [r3]
 4904 0174 15E0     		b	.L369
 4905              	.L371:
1113:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 10000000) {frdiv_val = 3;}
 4906              		.loc 1 1113 0 is_stmt 1
 4907 0176 7A68     		ldr	r2, [r7, #4]
 4908 0178 764B     		ldr	r3, .L395+40
 4909 017a 9A42     		cmp	r2, r3
 4910 017c 04DC     		bgt	.L372
 4911              		.loc 1 1113 0 is_stmt 0
 4912 017e 3B1C     		mov	r3, r7
 4913 0180 1633     		add	r3, r3, #22
 4914 0182 0322     		mov	r2, #3
 4915 0184 1A70     		strb	r2, [r3]
 4916 0186 0CE0     		b	.L369
 4917              	.L372:
1114:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 20000000) {frdiv_val = 4;}
 4918              		.loc 1 1114 0 is_stmt 1
 4919 0188 7A68     		ldr	r2, [r7, #4]
 4920 018a 734B     		ldr	r3, .L395+44
 4921 018c 9A42     		cmp	r2, r3
 4922 018e 04DC     		bgt	.L373
 4923              		.loc 1 1114 0 is_stmt 0
 4924 0190 3B1C     		mov	r3, r7
 4925 0192 1633     		add	r3, r3, #22
 4926 0194 0422     		mov	r2, #4
 4927 0196 1A70     		strb	r2, [r3]
 4928 0198 03E0     		b	.L369
 4929              	.L373:
1115:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else {frdiv_val = 5;}
 4930              		.loc 1 1115 0 is_stmt 1
 4931 019a 3B1C     		mov	r3, r7
 4932 019c 1633     		add	r3, r3, #22
 4933 019e 0522     		mov	r2, #5
 4934 01a0 1A70     		strb	r2, [r3]
 4935              	.L369:
1116:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // The FLL ref clk divide value depends on FRDIV and the RANGE value
1117:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_C2 & MCG_C2_RANGE0_MASK) >> MCG_C2_RANGE0_SHIFT) > 0)
 4936              		.loc 1 1117 0
 4937 01a2 624B     		ldr	r3, .L395
 4938 01a4 5B78     		ldrb	r3, [r3, #1]
 4939 01a6 DBB2     		uxtb	r3, r3
 4940 01a8 1A1C     		mov	r2, r3
 4941 01aa 3023     		mov	r3, #48
 4942 01ac 1340     		and	r3, r2
 4943 01ae 1B09     		lsr	r3, r3, #4
 4944 01b0 0DD0     		beq	.L374
1118:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1119:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fll_ref_freq = ((crystal_val) / (32 << frdiv_val));
 4945              		.loc 1 1119 0
 4946 01b2 3B1C     		mov	r3, r7
 4947 01b4 1633     		add	r3, r3, #22
 4948 01b6 1B78     		ldrb	r3, [r3]
 4949 01b8 2022     		mov	r2, #32
 4950 01ba 111C     		mov	r1, r2
 4951 01bc 9940     		lsl	r1, r1, r3
 4952 01be 0B1C     		mov	r3, r1
 4953 01c0 7868     		ldr	r0, [r7, #4]
 4954 01c2 191C     		mov	r1, r3
 4955 01c4 FFF7FEFF 		bl	__aeabi_idiv
 4956 01c8 031C     		mov	r3, r0
 4957 01ca 3B61     		str	r3, [r7, #16]
 4958 01cc 0CE0     		b	.L375
 4959              	.L374:
1120:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1121:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1122:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1123:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fll_ref_freq = ((crystal_val) / (1 << frdiv_val));
 4960              		.loc 1 1123 0
 4961 01ce 3B1C     		mov	r3, r7
 4962 01d0 1633     		add	r3, r3, #22
 4963 01d2 1B78     		ldrb	r3, [r3]
 4964 01d4 0122     		mov	r2, #1
 4965 01d6 111C     		mov	r1, r2
 4966 01d8 9940     		lsl	r1, r1, r3
 4967 01da 0B1C     		mov	r3, r1
 4968 01dc 7868     		ldr	r0, [r7, #4]
 4969 01de 191C     		mov	r1, r3
 4970 01e0 FFF7FEFF 		bl	__aeabi_idiv
 4971 01e4 031C     		mov	r3, r0
 4972 01e6 3B61     		str	r3, [r7, #16]
 4973              	.L375:
1124:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1125:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1126:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check resulting FLL frequency 
1127:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   mcg_out = fll_freq(fll_ref_freq); // FLL reference frequency calculated from ext ref freq and FRD
 4974              		.loc 1 1127 0
 4975 01e8 3B69     		ldr	r3, [r7, #16]
 4976 01ea 181C     		mov	r0, r3
 4977 01ec FFF7FEFF 		bl	fll_freq
 4978 01f0 031C     		mov	r3, r0
 4979 01f2 FB60     		str	r3, [r7, #12]
1128:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (mcg_out < 0x3C) {return mcg_out;} // If error code returned, return the code to calling funct
 4980              		.loc 1 1128 0
 4981 01f4 FB68     		ldr	r3, [r7, #12]
 4982 01f6 3B2B     		cmp	r3, #59
 4983 01f8 01DC     		bgt	.L376
 4984              		.loc 1 1128 0 is_stmt 0
 4985 01fa FB68     		ldr	r3, [r7, #12]
 4986 01fc BBE0     		b	.L359
 4987              	.L376:
1129:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1130:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select external oscilator and Reference Divider and clear IREFS to start ext osc
1131:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // If IRCLK is required it must be enabled outside of this driver, existing state will be maintaine
1132:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // CLKS=0, FRDIV=frdiv_val, IREFS=0, IRCLKEN=?, IREFSTEN=?
1133:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 4988              		.loc 1 1133 0 is_stmt 1
 4989 01fe 4B4A     		ldr	r2, .L395
 4990 0200 3B1C     		mov	r3, r7
 4991 0202 1733     		add	r3, r3, #23
 4992 0204 1278     		ldrb	r2, [r2]
 4993 0206 1A70     		strb	r2, [r3]
1134:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C1_CLKS_MASK | MCG_C1_FRDIV_MASK | MCG_C1_IREFS_MASK); // Clear CLKS, FRDIV and
 4994              		.loc 1 1134 0
 4995 0208 3B1C     		mov	r3, r7
 4996 020a 1733     		add	r3, r3, #23
 4997 020c 3A1C     		mov	r2, r7
 4998 020e 1732     		add	r2, r2, #23
 4999 0210 1178     		ldrb	r1, [r2]
 5000 0212 0322     		mov	r2, #3
 5001 0214 0A40     		and	r2, r1
 5002 0216 1A70     		strb	r2, [r3]
1135:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= (MCG_C1_CLKS(0) | MCG_C1_FRDIV(frdiv_val)); // Set the required CLKS and FRDIV values
 5003              		.loc 1 1135 0
 5004 0218 3B1C     		mov	r3, r7
 5005 021a 1633     		add	r3, r3, #22
 5006 021c 1B78     		ldrb	r3, [r3]
 5007 021e DB00     		lsl	r3, r3, #3
 5008 0220 DAB2     		uxtb	r2, r3
 5009 0222 3823     		mov	r3, #56
 5010 0224 1340     		and	r3, r2
 5011 0226 D9B2     		uxtb	r1, r3
 5012 0228 3B1C     		mov	r3, r7
 5013 022a 1733     		add	r3, r3, #23
 5014 022c 3A1C     		mov	r2, r7
 5015 022e 1732     		add	r2, r2, #23
 5016 0230 1278     		ldrb	r2, [r2]
 5017 0232 0A43     		orr	r2, r1
 5018 0234 1A70     		strb	r2, [r3]
1136:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg;
 5019              		.loc 1 1136 0
 5020 0236 3D4B     		ldr	r3, .L395
 5021 0238 3A1C     		mov	r2, r7
 5022 023a 1732     		add	r2, r2, #23
 5023 023c 1278     		ldrb	r2, [r2]
 5024 023e 1A70     		strb	r2, [r3]
1137:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1138:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // if the external oscillator is used need to wait for OSCINIT to set
1139:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 5025              		.loc 1 1139 0
 5026 0240 BB1C     		add	r3, r7, #2
 5027 0242 1B78     		ldrb	r3, [r3]
 5028 0244 002B     		cmp	r3, #0
 5029 0246 24D0     		beq	.L377
1140:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1141:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 5030              		.loc 1 1141 0
 5031 0248 3B1C     		mov	r3, r7
 5032 024a 1433     		add	r3, r3, #20
 5033 024c 0022     		mov	r2, #0
 5034 024e 1A80     		strh	r2, [r3]
 5035 0250 0DE0     		b	.L378
 5036              	.L381:
1142:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1143:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (MCG_S & MCG_S_OSCINIT0_MASK) break; // jump out early if OSCINIT sets before loop finishe
 5037              		.loc 1 1143 0
 5038 0252 364B     		ldr	r3, .L395
 5039 0254 9B79     		ldrb	r3, [r3, #6]
 5040 0256 DBB2     		uxtb	r3, r3
 5041 0258 1A1C     		mov	r2, r3
 5042 025a 0223     		mov	r3, #2
 5043 025c 1340     		and	r3, r2
 5044 025e 0ED1     		bne	.L392
 5045              	.L379:
1141:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 5046              		.loc 1 1141 0
 5047 0260 3B1C     		mov	r3, r7
 5048 0262 1433     		add	r3, r3, #20
 5049 0264 3A1C     		mov	r2, r7
 5050 0266 1432     		add	r2, r2, #20
 5051 0268 1288     		ldrh	r2, [r2]
 5052 026a 0132     		add	r2, r2, #1
 5053 026c 1A80     		strh	r2, [r3]
 5054              	.L378:
1141:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 10000 ; i++)
 5055              		.loc 1 1141 0 is_stmt 0
 5056 026e 3B1C     		mov	r3, r7
 5057 0270 1433     		add	r3, r3, #20
 5058 0272 0021     		mov	r1, #0
 5059 0274 5A5E     		ldrsh	r2, [r3, r1]
 5060 0276 394B     		ldr	r3, .L395+48
 5061 0278 9A42     		cmp	r2, r3
 5062 027a EADD     		ble	.L381
 5063 027c 00E0     		b	.L380
 5064              	.L392:
 5065              		.loc 1 1143 0 is_stmt 1
 5066 027e C046     		mov	r8, r8
 5067              	.L380:
1144:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1145:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_OSCINIT0_MASK)) return 0x23; // check bit is really set and return with err
 5068              		.loc 1 1145 0
 5069 0280 2A4B     		ldr	r3, .L395
 5070 0282 9B79     		ldrb	r3, [r3, #6]
 5071 0284 DBB2     		uxtb	r3, r3
 5072 0286 1A1C     		mov	r2, r3
 5073 0288 0223     		mov	r3, #2
 5074 028a 1340     		and	r3, r2
 5075 028c 01D1     		bne	.L377
 5076              		.loc 1 1145 0 is_stmt 0
 5077 028e 2323     		mov	r3, #35
 5078 0290 71E0     		b	.L359
 5079              	.L377:
1146:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1147:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1148:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for Reference clock Status bit to clear
1149:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5080              		.loc 1 1149 0 is_stmt 1
 5081 0292 3B1C     		mov	r3, r7
 5082 0294 1433     		add	r3, r3, #20
 5083 0296 0022     		mov	r2, #0
 5084 0298 1A80     		strh	r2, [r3]
 5085 029a 0DE0     		b	.L382
 5086              	.L385:
1150:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1151:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_IREFST_MASK)) break; // jump out early if IREFST clears before loop finishe
 5087              		.loc 1 1151 0
 5088 029c 234B     		ldr	r3, .L395
 5089 029e 9B79     		ldrb	r3, [r3, #6]
 5090 02a0 DBB2     		uxtb	r3, r3
 5091 02a2 1A1C     		mov	r2, r3
 5092 02a4 1023     		mov	r3, #16
 5093 02a6 1340     		and	r3, r2
 5094 02a8 0ED0     		beq	.L393
 5095              	.L383:
1149:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5096              		.loc 1 1149 0
 5097 02aa 3B1C     		mov	r3, r7
 5098 02ac 1433     		add	r3, r3, #20
 5099 02ae 3A1C     		mov	r2, r7
 5100 02b0 1432     		add	r2, r2, #20
 5101 02b2 1288     		ldrh	r2, [r2]
 5102 02b4 0132     		add	r2, r2, #1
 5103 02b6 1A80     		strh	r2, [r3]
 5104              	.L382:
1149:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5105              		.loc 1 1149 0 is_stmt 0
 5106 02b8 3B1C     		mov	r3, r7
 5107 02ba 1433     		add	r3, r3, #20
 5108 02bc 0021     		mov	r1, #0
 5109 02be 5A5E     		ldrsh	r2, [r3, r1]
 5110 02c0 274B     		ldr	r3, .L395+52
 5111 02c2 9A42     		cmp	r2, r3
 5112 02c4 EADD     		ble	.L385
 5113 02c6 00E0     		b	.L384
 5114              	.L393:
 5115              		.loc 1 1151 0 is_stmt 1
 5116 02c8 C046     		mov	r8, r8
 5117              	.L384:
1152:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1153:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_S & MCG_S_IREFST_MASK) return 0x11; // check bit is really clear and return with error if
 5118              		.loc 1 1153 0
 5119 02ca 184B     		ldr	r3, .L395
 5120 02cc 9B79     		ldrb	r3, [r3, #6]
 5121 02ce DBB2     		uxtb	r3, r3
 5122 02d0 1A1C     		mov	r2, r3
 5123 02d2 1023     		mov	r3, #16
 5124 02d4 1340     		and	r3, r2
 5125 02d6 01D0     		beq	.L386
 5126              		.loc 1 1153 0 is_stmt 0
 5127 02d8 1123     		mov	r3, #17
 5128 02da 4CE0     		b	.L359
 5129              	.L386:
1154:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1155:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to show clock source is ext ref clk
1156:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5130              		.loc 1 1156 0 is_stmt 1
 5131 02dc 3B1C     		mov	r3, r7
 5132 02de 1433     		add	r3, r3, #20
 5133 02e0 0022     		mov	r2, #0
 5134 02e2 1A80     		strh	r2, [r3]
 5135 02e4 0EE0     		b	.L387
 5136              	.L390:
1157:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1158:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) break; // jump out early if CLKST
 5137              		.loc 1 1158 0
 5138 02e6 114B     		ldr	r3, .L395
 5139 02e8 9B79     		ldrb	r3, [r3, #6]
 5140 02ea DBB2     		uxtb	r3, r3
 5141 02ec 1A1C     		mov	r2, r3
 5142 02ee 0C23     		mov	r3, #12
 5143 02f0 1340     		and	r3, r2
 5144 02f2 9B08     		lsr	r3, r3, #2
 5145 02f4 0ED0     		beq	.L394
 5146              	.L388:
1156:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5147              		.loc 1 1156 0
 5148 02f6 3B1C     		mov	r3, r7
 5149 02f8 1433     		add	r3, r3, #20
 5150 02fa 3A1C     		mov	r2, r7
 5151 02fc 1432     		add	r2, r2, #20
 5152 02fe 1288     		ldrh	r2, [r2]
 5153 0300 0132     		add	r2, r2, #1
 5154 0302 1A80     		strh	r2, [r3]
 5155              	.L387:
1156:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5156              		.loc 1 1156 0 is_stmt 0
 5157 0304 3B1C     		mov	r3, r7
 5158 0306 1433     		add	r3, r3, #20
 5159 0308 0021     		mov	r1, #0
 5160 030a 5A5E     		ldrsh	r2, [r3, r1]
 5161 030c 144B     		ldr	r3, .L395+52
 5162 030e 9A42     		cmp	r2, r3
 5163 0310 E9DD     		ble	.L390
 5164 0312 00E0     		b	.L389
 5165              	.L394:
 5166              		.loc 1 1158 0 is_stmt 1
 5167 0314 C046     		mov	r8, r8
 5168              	.L389:
1159:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1160:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x0) return 0x18; // check FLLK is reall
 5169              		.loc 1 1160 0
 5170 0316 054B     		ldr	r3, .L395
 5171 0318 9B79     		ldrb	r3, [r3, #6]
 5172 031a DBB2     		uxtb	r3, r3
 5173 031c 1A1C     		mov	r2, r3
 5174 031e 0C23     		mov	r3, #12
 5175 0320 1340     		and	r3, r2
 5176 0322 9B08     		lsr	r3, r3, #2
 5177 0324 1ED0     		beq	.L391
 5178              		.loc 1 1160 0 is_stmt 0
 5179 0326 1823     		mov	r3, #24
 5180 0328 25E0     		b	.L359
 5181              	.L396:
 5182 032a C046     		.align	2
 5183              	.L395:
 5184 032c 00400640 		.word	1074151424
 5185 0330 80F0FA02 		.word	50000000
 5186 0334 2F750000 		.word	29999
 5187 0338 409C0000 		.word	40000
 5188 033c BFC62D00 		.word	2999999
 5189 0340 0048E801 		.word	32000000
 5190 0344 00127A00 		.word	8000000
 5191 0348 D0121300 		.word	1250000
 5192 034c A0252600 		.word	2500000
 5193 0350 404B4C00 		.word	5000000
 5194 0354 80969800 		.word	10000000
 5195 0358 002D3101 		.word	20000000
 5196 035c 0F270000 		.word	9999
 5197 0360 CF070000 		.word	1999
 5198              	.L391:
1161:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
1162:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FEE  
1163:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // It is recommended that the clock monitor is enabled when using an external clock as the clock so
1164:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // It is enabled here but can be removed if this is not required.
1165:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // The clock monitor MUST be disabled when returning to a non-external clock mode (FEI, FBI and BLP
1166:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 |= MCG_C6_CME0_MASK;
 5199              		.loc 1 1166 0 is_stmt 1
 5200 0364 064B     		ldr	r3, .L397
 5201 0366 064A     		ldr	r2, .L397
 5202 0368 5279     		ldrb	r2, [r2, #5]
 5203 036a D2B2     		uxtb	r2, r2
 5204 036c 2021     		mov	r1, #32
 5205 036e 0A43     		orr	r2, r1
 5206 0370 D2B2     		uxtb	r2, r2
 5207 0372 5A71     		strb	r2, [r3, #5]
1167:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1168:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return mcg_out; // MCGOUT frequency equals FLL frequency
 5208              		.loc 1 1168 0
 5209 0374 FB68     		ldr	r3, [r7, #12]
 5210              	.L359:
1169:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } //fbi_fee
 5211              		.loc 1 1169 0
 5212 0376 181C     		mov	r0, r3
 5213 0378 BD46     		mov	sp, r7
 5214 037a 06B0     		add	sp, sp, #24
 5215              		@ sp needed for prologue
 5216 037c 80BD     		pop	{r7, pc}
 5217              	.L398:
 5218 037e C046     		.align	2
 5219              	.L397:
 5220 0380 00400640 		.word	1074151424
 5221              		.cfi_endproc
 5222              	.LFE17:
 5224              		.section	.text.fee_fbi,"ax",%progbits
 5225              		.align	2
 5226              		.global	fee_fbi
 5227              		.code	16
 5228              		.thumb_func
 5230              	fee_fbi:
 5231              	.LFB18:
1170:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1171:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1172:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fee_fbi(int irc_freq, unsigned char irc_select)
1173:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** { 
 5232              		.loc 1 1173 0
 5233              		.cfi_startproc
 5234 0000 80B5     		push	{r7, lr}
 5235              	.LCFI54:
 5236              		.cfi_def_cfa_offset 8
 5237              		.cfi_offset 7, -8
 5238              		.cfi_offset 14, -4
 5239 0002 84B0     		sub	sp, sp, #16
 5240              	.LCFI55:
 5241              		.cfi_def_cfa_offset 24
 5242 0004 00AF     		add	r7, sp, #0
 5243              	.LCFI56:
 5244              		.cfi_def_cfa_register 7
 5245 0006 7860     		str	r0, [r7, #4]
 5246 0008 0A1C     		mov	r2, r1
 5247 000a FB1C     		add	r3, r7, #3
 5248 000c 1A70     		strb	r2, [r3]
1174:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char fcrdiv_val;
1175:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
1176:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1177:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FEE mode
1178:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 5249              		.loc 1 1178 0
 5250 000e 874B     		ldr	r3, .L434
 5251 0010 9B79     		ldrb	r3, [r3, #6]
 5252 0012 DBB2     		uxtb	r3, r3
 5253 0014 1A1C     		mov	r2, r3
 5254 0016 0C23     		mov	r3, #12
 5255 0018 1340     		and	r3, r2
 5256 001a 9B08     		lsr	r3, r3, #2
 5257 001c 0DD1     		bne	.L400
1179:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                             // check FLL ref is external re
 5258              		.loc 1 1179 0
 5259 001e 834B     		ldr	r3, .L434
 5260 0020 9B79     		ldrb	r3, [r3, #6]
 5261 0022 DBB2     		uxtb	r3, r3
 5262 0024 1A1C     		mov	r2, r3
 5263 0026 1023     		mov	r3, #16
 5264 0028 1340     		and	r3, r2
1178:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 5265              		.loc 1 1178 0
 5266 002a 06D1     		bne	.L400
1180:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK))))                               // check PLLS mux has selected 
 5267              		.loc 1 1180 0
 5268 002c 7F4B     		ldr	r3, .L434
 5269 002e 9B79     		ldrb	r3, [r3, #6]
 5270 0030 DBB2     		uxtb	r3, r3
 5271 0032 1A1C     		mov	r2, r3
 5272 0034 2023     		mov	r3, #32
 5273 0036 1340     		and	r3, r2
1178:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 5274              		.loc 1 1178 0
 5275 0038 01D0     		beq	.L401
 5276              	.L400:
1181:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1182:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x2;                                                     // return error code
 5277              		.loc 1 1182 0
 5278 003a 0223     		mov	r3, #2
 5279 003c F2E0     		b	.L402
 5280              	.L401:
1183:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1184:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1185:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check that the irc frequency matches the selected IRC 
1186:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(irc_select))
 5281              		.loc 1 1186 0
 5282 003e FB1C     		add	r3, r7, #3
 5283 0040 1B78     		ldrb	r3, [r3]
 5284 0042 002B     		cmp	r3, #0
 5285 0044 09D1     		bne	.L403
1187:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {    
1188:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((irc_freq < 31250) || (irc_freq > 39063)) {return 0x31;}
 5286              		.loc 1 1188 0
 5287 0046 7A68     		ldr	r2, [r7, #4]
 5288 0048 794B     		ldr	r3, .L434+4
 5289 004a 9A42     		cmp	r2, r3
 5290 004c 03DD     		ble	.L404
 5291              		.loc 1 1188 0 is_stmt 0
 5292 004e 7A68     		ldr	r2, [r7, #4]
 5293 0050 784B     		ldr	r3, .L434+8
 5294 0052 9A42     		cmp	r2, r3
 5295 0054 0BDD     		ble	.L405
 5296              	.L404:
 5297              		.loc 1 1188 0
 5298 0056 3123     		mov	r3, #49
 5299 0058 E4E0     		b	.L402
 5300              	.L403:
1189:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1190:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1191:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1192:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((irc_freq < 3000000) || (irc_freq > 5000000)) {return 0x32;} // Fast IRC freq
 5301              		.loc 1 1192 0 is_stmt 1
 5302 005a 7A68     		ldr	r2, [r7, #4]
 5303 005c 764B     		ldr	r3, .L434+12
 5304 005e 9A42     		cmp	r2, r3
 5305 0060 03DD     		ble	.L406
 5306              		.loc 1 1192 0 is_stmt 0
 5307 0062 7A68     		ldr	r2, [r7, #4]
 5308 0064 754B     		ldr	r3, .L434+16
 5309 0066 9A42     		cmp	r2, r3
 5310 0068 01DD     		ble	.L405
 5311              	.L406:
 5312              		.loc 1 1192 0
 5313 006a 3223     		mov	r3, #50
 5314 006c DAE0     		b	.L402
 5315              	.L405:
1193:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1194:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1195:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select the required IRC
1196:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select)
 5316              		.loc 1 1196 0 is_stmt 1
 5317 006e FB1C     		add	r3, r7, #3
 5318 0070 1B78     		ldrb	r3, [r3]
 5319 0072 002B     		cmp	r3, #0
 5320 0074 08D0     		beq	.L407
1197:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1198:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     MCG_C2 |= MCG_C2_IRCS_MASK; // select fast IRC by setting IRCS
 5321              		.loc 1 1198 0
 5322 0076 6D4B     		ldr	r3, .L434
 5323 0078 6C4A     		ldr	r2, .L434
 5324 007a 5278     		ldrb	r2, [r2, #1]
 5325 007c D2B2     		uxtb	r2, r2
 5326 007e 0121     		mov	r1, #1
 5327 0080 0A43     		orr	r2, r1
 5328 0082 D2B2     		uxtb	r2, r2
 5329 0084 5A70     		strb	r2, [r3, #1]
 5330 0086 07E0     		b	.L408
 5331              	.L407:
1199:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1200:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1201:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1202:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     MCG_C2 &= ~MCG_C2_IRCS_MASK; // select slow IRC by clearing IRCS
 5332              		.loc 1 1202 0
 5333 0088 684B     		ldr	r3, .L434
 5334 008a 684A     		ldr	r2, .L434
 5335 008c 5278     		ldrb	r2, [r2, #1]
 5336 008e D2B2     		uxtb	r2, r2
 5337 0090 0121     		mov	r1, #1
 5338 0092 8A43     		bic	r2, r1
 5339 0094 D2B2     		uxtb	r2, r2
 5340 0096 5A70     		strb	r2, [r3, #1]
 5341              	.L408:
1203:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1204:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1205:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Make sure the clock monitor is disabled before switching modes otherwise it will trigger
1206:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 &= ~MCG_C6_CME0_MASK;
 5342              		.loc 1 1206 0
 5343 0098 644B     		ldr	r3, .L434
 5344 009a 644A     		ldr	r2, .L434
 5345 009c 5279     		ldrb	r2, [r2, #5]
 5346 009e D2B2     		uxtb	r2, r2
 5347 00a0 2021     		mov	r1, #32
 5348 00a2 8A43     		bic	r2, r1
 5349 00a4 D2B2     		uxtb	r2, r2
 5350 00a6 5A71     		strb	r2, [r3, #5]
1207:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1208:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select the IRC as the CLKS mux selection
1209:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 |= MCG_C1_CLKS(1) | MCG_C1_IREFS_MASK; // set IREFS and select IRC as MCGOUT
 5351              		.loc 1 1209 0
 5352 00a8 604B     		ldr	r3, .L434
 5353 00aa 604A     		ldr	r2, .L434
 5354 00ac 1278     		ldrb	r2, [r2]
 5355 00ae D2B2     		uxtb	r2, r2
 5356 00b0 4421     		mov	r1, #68
 5357 00b2 0A43     		orr	r2, r1
 5358 00b4 D2B2     		uxtb	r2, r2
 5359 00b6 1A70     		strb	r2, [r3]
1210:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  
1211:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait until internal reference switches to requested irc.
1212:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(irc_select))
 5360              		.loc 1 1212 0
 5361 00b8 FB1C     		add	r3, r7, #3
 5362 00ba 1B78     		ldrb	r3, [r3]
 5363 00bc 002B     		cmp	r3, #0
 5364 00be 24D1     		bne	.L409
1213:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1214:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 5365              		.loc 1 1214 0
 5366 00c0 3B1C     		mov	r3, r7
 5367 00c2 0E33     		add	r3, r3, #14
 5368 00c4 0022     		mov	r2, #0
 5369 00c6 1A80     		strh	r2, [r3]
 5370 00c8 0DE0     		b	.L410
 5371              	.L413:
1215:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1216:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (!(MCG_S & MCG_S_IRCST_MASK)) break; // jump out early if IRCST clears before loop finishe
 5372              		.loc 1 1216 0
 5373 00ca 584B     		ldr	r3, .L434
 5374 00cc 9B79     		ldrb	r3, [r3, #6]
 5375 00ce DBB2     		uxtb	r3, r3
 5376 00d0 1A1C     		mov	r2, r3
 5377 00d2 0123     		mov	r3, #1
 5378 00d4 1340     		and	r3, r2
 5379 00d6 0ED0     		beq	.L430
 5380              	.L411:
1214:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 5381              		.loc 1 1214 0
 5382 00d8 3B1C     		mov	r3, r7
 5383 00da 0E33     		add	r3, r3, #14
 5384 00dc 3A1C     		mov	r2, r7
 5385 00de 0E32     		add	r2, r2, #14
 5386 00e0 1288     		ldrh	r2, [r2]
 5387 00e2 0132     		add	r2, r2, #1
 5388 00e4 1A80     		strh	r2, [r3]
 5389              	.L410:
1214:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 5390              		.loc 1 1214 0 is_stmt 0
 5391 00e6 3B1C     		mov	r3, r7
 5392 00e8 0E33     		add	r3, r3, #14
 5393 00ea 0021     		mov	r1, #0
 5394 00ec 5A5E     		ldrsh	r2, [r3, r1]
 5395 00ee 544B     		ldr	r3, .L434+20
 5396 00f0 9A42     		cmp	r2, r3
 5397 00f2 EADD     		ble	.L413
 5398 00f4 00E0     		b	.L412
 5399              	.L430:
 5400              		.loc 1 1216 0 is_stmt 1
 5401 00f6 C046     		mov	r8, r8
 5402              	.L412:
1217:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1218:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_IRCST_MASK) return 0x13; // check bit is really clear and return with error i
 5403              		.loc 1 1218 0
 5404 00f8 4C4B     		ldr	r3, .L434
 5405 00fa 9B79     		ldrb	r3, [r3, #6]
 5406 00fc DBB2     		uxtb	r3, r3
 5407 00fe 1A1C     		mov	r2, r3
 5408 0100 0123     		mov	r3, #1
 5409 0102 1340     		and	r3, r2
 5410 0104 26D0     		beq	.L414
 5411              		.loc 1 1218 0 is_stmt 0
 5412 0106 1323     		mov	r3, #19
 5413 0108 8CE0     		b	.L402
 5414              	.L409:
1219:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1220:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1221:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1222:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 5415              		.loc 1 1222 0 is_stmt 1
 5416 010a 3B1C     		mov	r3, r7
 5417 010c 0E33     		add	r3, r3, #14
 5418 010e 0022     		mov	r2, #0
 5419 0110 1A80     		strh	r2, [r3]
 5420 0112 0DE0     		b	.L415
 5421              	.L418:
1223:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1224:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (MCG_S & MCG_S_IRCST_MASK) break; // jump out early if IRCST sets before loop finishes
 5422              		.loc 1 1224 0
 5423 0114 454B     		ldr	r3, .L434
 5424 0116 9B79     		ldrb	r3, [r3, #6]
 5425 0118 DBB2     		uxtb	r3, r3
 5426 011a 1A1C     		mov	r2, r3
 5427 011c 0123     		mov	r3, #1
 5428 011e 1340     		and	r3, r2
 5429 0120 0ED1     		bne	.L431
 5430              	.L416:
1222:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 5431              		.loc 1 1222 0
 5432 0122 3B1C     		mov	r3, r7
 5433 0124 0E33     		add	r3, r3, #14
 5434 0126 3A1C     		mov	r2, r7
 5435 0128 0E32     		add	r2, r2, #14
 5436 012a 1288     		ldrh	r2, [r2]
 5437 012c 0132     		add	r2, r2, #1
 5438 012e 1A80     		strh	r2, [r3]
 5439              	.L415:
1222:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 5440              		.loc 1 1222 0 is_stmt 0
 5441 0130 3B1C     		mov	r3, r7
 5442 0132 0E33     		add	r3, r3, #14
 5443 0134 0021     		mov	r1, #0
 5444 0136 5A5E     		ldrsh	r2, [r3, r1]
 5445 0138 414B     		ldr	r3, .L434+20
 5446 013a 9A42     		cmp	r2, r3
 5447 013c EADD     		ble	.L418
 5448 013e 00E0     		b	.L417
 5449              	.L431:
 5450              		.loc 1 1224 0 is_stmt 1
 5451 0140 C046     		mov	r8, r8
 5452              	.L417:
1225:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1226:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_IRCST_MASK)) return 0x14; // check bit is really set and return with error 
 5453              		.loc 1 1226 0
 5454 0142 3A4B     		ldr	r3, .L434
 5455 0144 9B79     		ldrb	r3, [r3, #6]
 5456 0146 DBB2     		uxtb	r3, r3
 5457 0148 1A1C     		mov	r2, r3
 5458 014a 0123     		mov	r3, #1
 5459 014c 1340     		and	r3, r2
 5460 014e 01D1     		bne	.L414
 5461              		.loc 1 1226 0 is_stmt 0
 5462 0150 1423     		mov	r3, #20
 5463 0152 67E0     		b	.L402
 5464              	.L414:
1227:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1228:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1229:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to update
1230:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5465              		.loc 1 1230 0 is_stmt 1
 5466 0154 3B1C     		mov	r3, r7
 5467 0156 0E33     		add	r3, r3, #14
 5468 0158 0022     		mov	r2, #0
 5469 015a 1A80     		strh	r2, [r3]
 5470 015c 0FE0     		b	.L419
 5471              	.L422:
1231:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1232:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) break; // jump out early if CLKST
 5472              		.loc 1 1232 0
 5473 015e 334B     		ldr	r3, .L434
 5474 0160 9B79     		ldrb	r3, [r3, #6]
 5475 0162 DBB2     		uxtb	r3, r3
 5476 0164 1A1C     		mov	r2, r3
 5477 0166 0C23     		mov	r3, #12
 5478 0168 1340     		and	r3, r2
 5479 016a 9B08     		lsr	r3, r3, #2
 5480 016c 012B     		cmp	r3, #1
 5481 016e 0ED0     		beq	.L432
 5482              	.L420:
1230:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5483              		.loc 1 1230 0
 5484 0170 3B1C     		mov	r3, r7
 5485 0172 0E33     		add	r3, r3, #14
 5486 0174 3A1C     		mov	r2, r7
 5487 0176 0E32     		add	r2, r2, #14
 5488 0178 1288     		ldrh	r2, [r2]
 5489 017a 0132     		add	r2, r2, #1
 5490 017c 1A80     		strh	r2, [r3]
 5491              	.L419:
1230:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5492              		.loc 1 1230 0 is_stmt 0
 5493 017e 3B1C     		mov	r3, r7
 5494 0180 0E33     		add	r3, r3, #14
 5495 0182 0021     		mov	r1, #0
 5496 0184 5A5E     		ldrsh	r2, [r3, r1]
 5497 0186 2E4B     		ldr	r3, .L434+20
 5498 0188 9A42     		cmp	r2, r3
 5499 018a E8DD     		ble	.L422
 5500 018c 00E0     		b	.L421
 5501              	.L432:
 5502              		.loc 1 1232 0 is_stmt 1
 5503 018e C046     		mov	r8, r8
 5504              	.L421:
1233:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1234:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x1) return 0x19; // check IRC is really
 5505              		.loc 1 1234 0
 5506 0190 264B     		ldr	r3, .L434
 5507 0192 9B79     		ldrb	r3, [r3, #6]
 5508 0194 DBB2     		uxtb	r3, r3
 5509 0196 1A1C     		mov	r2, r3
 5510 0198 0C23     		mov	r3, #12
 5511 019a 1340     		and	r3, r2
 5512 019c 9B08     		lsr	r3, r3, #2
 5513 019e 012B     		cmp	r3, #1
 5514 01a0 01D0     		beq	.L423
 5515              		.loc 1 1234 0 is_stmt 0
 5516 01a2 1923     		mov	r3, #25
 5517 01a4 3EE0     		b	.L402
 5518              	.L423:
1235:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1236:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for Reference clock Status bit to set
1237:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5519              		.loc 1 1237 0 is_stmt 1
 5520 01a6 3B1C     		mov	r3, r7
 5521 01a8 0E33     		add	r3, r3, #14
 5522 01aa 0022     		mov	r2, #0
 5523 01ac 1A80     		strh	r2, [r3]
 5524 01ae 0DE0     		b	.L424
 5525              	.L427:
1238:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1239:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_IREFST_MASK) break; // jump out early if IREFST sets before loop finishes
 5526              		.loc 1 1239 0
 5527 01b0 1E4B     		ldr	r3, .L434
 5528 01b2 9B79     		ldrb	r3, [r3, #6]
 5529 01b4 DBB2     		uxtb	r3, r3
 5530 01b6 1A1C     		mov	r2, r3
 5531 01b8 1023     		mov	r3, #16
 5532 01ba 1340     		and	r3, r2
 5533 01bc 0ED1     		bne	.L433
 5534              	.L425:
1237:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5535              		.loc 1 1237 0
 5536 01be 3B1C     		mov	r3, r7
 5537 01c0 0E33     		add	r3, r3, #14
 5538 01c2 3A1C     		mov	r2, r7
 5539 01c4 0E32     		add	r2, r2, #14
 5540 01c6 1288     		ldrh	r2, [r2]
 5541 01c8 0132     		add	r2, r2, #1
 5542 01ca 1A80     		strh	r2, [r3]
 5543              	.L424:
1237:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5544              		.loc 1 1237 0 is_stmt 0
 5545 01cc 3B1C     		mov	r3, r7
 5546 01ce 0E33     		add	r3, r3, #14
 5547 01d0 0021     		mov	r1, #0
 5548 01d2 5A5E     		ldrsh	r2, [r3, r1]
 5549 01d4 1A4B     		ldr	r3, .L434+20
 5550 01d6 9A42     		cmp	r2, r3
 5551 01d8 EADD     		ble	.L427
 5552 01da 00E0     		b	.L426
 5553              	.L433:
 5554              		.loc 1 1239 0 is_stmt 1
 5555 01dc C046     		mov	r8, r8
 5556              	.L426:
1240:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1241:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_IREFST_MASK)) return 0x12; // check bit is really set and return with error i
 5557              		.loc 1 1241 0
 5558 01de 134B     		ldr	r3, .L434
 5559 01e0 9B79     		ldrb	r3, [r3, #6]
 5560 01e2 DBB2     		uxtb	r3, r3
 5561 01e4 1A1C     		mov	r2, r3
 5562 01e6 1023     		mov	r3, #16
 5563 01e8 1340     		and	r3, r2
 5564 01ea 01D1     		bne	.L428
 5565              		.loc 1 1241 0 is_stmt 0
 5566 01ec 1223     		mov	r3, #18
 5567 01ee 19E0     		b	.L402
 5568              	.L428:
1242:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1243:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBI mode
1244:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select)
 5569              		.loc 1 1244 0 is_stmt 1
 5570 01f0 FB1C     		add	r3, r7, #3
 5571 01f2 1B78     		ldrb	r3, [r3]
 5572 01f4 002B     		cmp	r3, #0
 5573 01f6 14D0     		beq	.L429
1245:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1246:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fcrdiv_val = (1 << ((MCG_SC & MCG_SC_FCRDIV_MASK) >> MCG_SC_FCRDIV_SHIFT)); // calculate the fa
 5574              		.loc 1 1246 0
 5575 01f8 0C4B     		ldr	r3, .L434
 5576 01fa 1B7A     		ldrb	r3, [r3, #8]
 5577 01fc DBB2     		uxtb	r3, r3
 5578 01fe 1A1C     		mov	r2, r3
 5579 0200 0E23     		mov	r3, #14
 5580 0202 1340     		and	r3, r2
 5581 0204 5B08     		lsr	r3, r3, #1
 5582 0206 0122     		mov	r2, #1
 5583 0208 9A40     		lsl	r2, r2, r3
 5584 020a 3B1C     		mov	r3, r7
 5585 020c 0D33     		add	r3, r3, #13
 5586 020e 1A70     		strb	r2, [r3]
1247:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return (irc_freq / fcrdiv_val); // MCGOUT frequency equals fast IRC frequency divided by 2
 5587              		.loc 1 1247 0
 5588 0210 3B1C     		mov	r3, r7
 5589 0212 0D33     		add	r3, r3, #13
 5590 0214 1B78     		ldrb	r3, [r3]
 5591 0216 7868     		ldr	r0, [r7, #4]
 5592 0218 191C     		mov	r1, r3
 5593 021a FFF7FEFF 		bl	__aeabi_idiv
 5594 021e 031C     		mov	r3, r0
 5595 0220 00E0     		b	.L402
 5596              	.L429:
1248:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1249:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1250:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1251:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return irc_freq; // MCGOUT frequency equals slow IRC frequency
 5597              		.loc 1 1251 0
 5598 0222 7B68     		ldr	r3, [r7, #4]
 5599              	.L402:
1252:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1253:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fee_fbi 
 5600              		.loc 1 1253 0
 5601 0224 181C     		mov	r0, r3
 5602 0226 BD46     		mov	sp, r7
 5603 0228 04B0     		add	sp, sp, #16
 5604              		@ sp needed for prologue
 5605 022a 80BD     		pop	{r7, pc}
 5606              	.L435:
 5607              		.align	2
 5608              	.L434:
 5609 022c 00400640 		.word	1074151424
 5610 0230 117A0000 		.word	31249
 5611 0234 97980000 		.word	39063
 5612 0238 BFC62D00 		.word	2999999
 5613 023c 404B4C00 		.word	5000000
 5614 0240 CF070000 		.word	1999
 5615              		.cfi_endproc
 5616              	.LFE18:
 5618              		.section	.text.fbi_fei,"ax",%progbits
 5619              		.align	2
 5620              		.global	fbi_fei
 5621              		.code	16
 5622              		.thumb_func
 5624              	fbi_fei:
 5625              	.LFB19:
1254:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1255:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1256:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fbi_fei(int slow_irc_freq)
1257:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 5626              		.loc 1 1257 0
 5627              		.cfi_startproc
 5628 0000 80B5     		push	{r7, lr}
 5629              	.LCFI57:
 5630              		.cfi_def_cfa_offset 8
 5631              		.cfi_offset 7, -8
 5632              		.cfi_offset 14, -4
 5633 0002 86B0     		sub	sp, sp, #24
 5634              	.LCFI58:
 5635              		.cfi_def_cfa_offset 32
 5636 0004 00AF     		add	r7, sp, #0
 5637              	.LCFI59:
 5638              		.cfi_def_cfa_register 7
 5639 0006 7860     		str	r0, [r7, #4]
1258:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
1259:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
1260:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int mcg_out;
1261:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1262:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check if in FBI mode
1263:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 5640              		.loc 1 1263 0
 5641 0008 524B     		ldr	r3, .L455
 5642 000a 9B79     		ldrb	r3, [r3, #6]
 5643 000c DBB2     		uxtb	r3, r3
 5644 000e 1A1C     		mov	r2, r3
 5645 0010 0C23     		mov	r3, #12
 5646 0012 1340     		and	r3, r2
 5647 0014 9B08     		lsr	r3, r3, #2
 5648 0016 012B     		cmp	r3, #1
 5649 0018 14D1     		bne	.L437
1264:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 5650              		.loc 1 1264 0
 5651 001a 4E4B     		ldr	r3, .L455
 5652 001c 9B79     		ldrb	r3, [r3, #6]
 5653 001e DBB2     		uxtb	r3, r3
 5654 0020 1A1C     		mov	r2, r3
 5655 0022 1023     		mov	r3, #16
 5656 0024 1340     		and	r3, r2
1263:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 5657              		.loc 1 1263 0
 5658 0026 0DD0     		beq	.L437
1265:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)) &&                                // check PLLS mux has selecte
 5659              		.loc 1 1265 0
 5660 0028 4A4B     		ldr	r3, .L455
 5661 002a 9B79     		ldrb	r3, [r3, #6]
 5662 002c DBB2     		uxtb	r3, r3
 5663 002e 1A1C     		mov	r2, r3
 5664 0030 2023     		mov	r3, #32
 5665 0032 1340     		and	r3, r2
1264:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 5666              		.loc 1 1264 0
 5667 0034 06D1     		bne	.L437
1266:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_C2 & MCG_C2_LP_MASK))))                                  // check LP bit is clear
 5668              		.loc 1 1266 0
 5669 0036 474B     		ldr	r3, .L455
 5670 0038 5B78     		ldrb	r3, [r3, #1]
 5671 003a DBB2     		uxtb	r3, r3
 5672 003c 1A1C     		mov	r2, r3
 5673 003e 0223     		mov	r3, #2
 5674 0040 1340     		and	r3, r2
1263:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selcted
 5675              		.loc 1 1263 0
 5676 0042 01D0     		beq	.L438
 5677              	.L437:
1267:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {  
1268:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x3;                                                       // MCG not in correct mode re
 5678              		.loc 1 1268 0
 5679 0044 0323     		mov	r3, #3
 5680 0046 81E0     		b	.L439
 5681              	.L438:
1269:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1270:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1271:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check IRC frequency is within spec.
1272:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((slow_irc_freq < 31250) || (slow_irc_freq > 39063))
 5682              		.loc 1 1272 0
 5683 0048 7A68     		ldr	r2, [r7, #4]
 5684 004a 434B     		ldr	r3, .L455+4
 5685 004c 9A42     		cmp	r2, r3
 5686 004e 03DD     		ble	.L440
 5687              		.loc 1 1272 0 is_stmt 0
 5688 0050 7A68     		ldr	r2, [r7, #4]
 5689 0052 424B     		ldr	r3, .L455+8
 5690 0054 9A42     		cmp	r2, r3
 5691 0056 01DD     		ble	.L441
 5692              	.L440:
1273:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1274:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x31;
 5693              		.loc 1 1274 0 is_stmt 1
 5694 0058 3123     		mov	r3, #49
 5695 005a 77E0     		b	.L439
 5696              	.L441:
1275:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1276:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1277:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check resulting FLL frequency 
1278:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   mcg_out = fll_freq(slow_irc_freq); 
 5697              		.loc 1 1278 0
 5698 005c 7B68     		ldr	r3, [r7, #4]
 5699 005e 181C     		mov	r0, r3
 5700 0060 FFF7FEFF 		bl	fll_freq
 5701 0064 031C     		mov	r3, r0
 5702 0066 3B61     		str	r3, [r7, #16]
1279:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (mcg_out < 0x3C) {return mcg_out;} // If error code returned, return the code to calling funct
 5703              		.loc 1 1279 0
 5704 0068 3B69     		ldr	r3, [r7, #16]
 5705 006a 3B2B     		cmp	r3, #59
 5706 006c 01DC     		bgt	.L442
 5707              		.loc 1 1279 0 is_stmt 0
 5708 006e 3B69     		ldr	r3, [r7, #16]
 5709 0070 6CE0     		b	.L439
 5710              	.L442:
1280:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1281:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Change the CLKS mux to select the FLL output as MCGOUT  
1282:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 5711              		.loc 1 1282 0 is_stmt 1
 5712 0072 384A     		ldr	r2, .L455
 5713 0074 3B1C     		mov	r3, r7
 5714 0076 0F33     		add	r3, r3, #15
 5715 0078 1278     		ldrb	r2, [r2]
 5716 007a 1A70     		strb	r2, [r3]
1283:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C1_CLKS_MASK; // clear CLKS field
 5717              		.loc 1 1283 0
 5718 007c 3B1C     		mov	r3, r7
 5719 007e 0F33     		add	r3, r3, #15
 5720 0080 3A1C     		mov	r2, r7
 5721 0082 0F32     		add	r2, r2, #15
 5722 0084 1178     		ldrb	r1, [r2]
 5723 0086 3F22     		mov	r2, #63
 5724 0088 0A40     		and	r2, r1
 5725 008a 1A70     		strb	r2, [r3]
1284:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C1_CLKS(0); // select FLL as MCGOUT
 5726              		.loc 1 1284 0
 5727 008c 3B1C     		mov	r3, r7
 5728 008e 0F33     		add	r3, r3, #15
 5729 0090 3A1C     		mov	r2, r7
 5730 0092 0F32     		add	r2, r2, #15
 5731 0094 1278     		ldrb	r2, [r2]
 5732 0096 1A70     		strb	r2, [r3]
1285:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C1_IREFS_MASK; // make sure IRC is FLL reference
 5733              		.loc 1 1285 0
 5734 0098 3B1C     		mov	r3, r7
 5735 009a 0F33     		add	r3, r3, #15
 5736 009c 3A1C     		mov	r2, r7
 5737 009e 0F32     		add	r2, r2, #15
 5738 00a0 1278     		ldrb	r2, [r2]
 5739 00a2 0421     		mov	r1, #4
 5740 00a4 0A43     		orr	r2, r1
 5741 00a6 1A70     		strb	r2, [r3]
1286:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg; // update MCG_C1
 5742              		.loc 1 1286 0
 5743 00a8 2A4B     		ldr	r3, .L455
 5744 00aa 3A1C     		mov	r2, r7
 5745 00ac 0F32     		add	r2, r2, #15
 5746 00ae 1278     		ldrb	r2, [r2]
 5747 00b0 1A70     		strb	r2, [r3]
1287:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1288:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for Reference clock Status bit to clear
1289:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5748              		.loc 1 1289 0
 5749 00b2 3B1C     		mov	r3, r7
 5750 00b4 1633     		add	r3, r3, #22
 5751 00b6 0022     		mov	r2, #0
 5752 00b8 1A80     		strh	r2, [r3]
 5753 00ba 0DE0     		b	.L443
 5754              	.L446:
1290:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1291:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_IREFST_MASK) break; // jump out early if IREFST clears before loop finishes
 5755              		.loc 1 1291 0
 5756 00bc 254B     		ldr	r3, .L455
 5757 00be 9B79     		ldrb	r3, [r3, #6]
 5758 00c0 DBB2     		uxtb	r3, r3
 5759 00c2 1A1C     		mov	r2, r3
 5760 00c4 1023     		mov	r3, #16
 5761 00c6 1340     		and	r3, r2
 5762 00c8 0ED1     		bne	.L453
 5763              	.L444:
1289:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5764              		.loc 1 1289 0
 5765 00ca 3B1C     		mov	r3, r7
 5766 00cc 1633     		add	r3, r3, #22
 5767 00ce 3A1C     		mov	r2, r7
 5768 00d0 1632     		add	r2, r2, #22
 5769 00d2 1288     		ldrh	r2, [r2]
 5770 00d4 0132     		add	r2, r2, #1
 5771 00d6 1A80     		strh	r2, [r3]
 5772              	.L443:
1289:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5773              		.loc 1 1289 0 is_stmt 0
 5774 00d8 3B1C     		mov	r3, r7
 5775 00da 1633     		add	r3, r3, #22
 5776 00dc 0021     		mov	r1, #0
 5777 00de 5A5E     		ldrsh	r2, [r3, r1]
 5778 00e0 1F4B     		ldr	r3, .L455+12
 5779 00e2 9A42     		cmp	r2, r3
 5780 00e4 EADD     		ble	.L446
 5781 00e6 00E0     		b	.L445
 5782              	.L453:
 5783              		.loc 1 1291 0 is_stmt 1
 5784 00e8 C046     		mov	r8, r8
 5785              	.L445:
1292:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1293:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_IREFST_MASK)) return 0x12; // check bit is really set and return with error i
 5786              		.loc 1 1293 0
 5787 00ea 1A4B     		ldr	r3, .L455
 5788 00ec 9B79     		ldrb	r3, [r3, #6]
 5789 00ee DBB2     		uxtb	r3, r3
 5790 00f0 1A1C     		mov	r2, r3
 5791 00f2 1023     		mov	r3, #16
 5792 00f4 1340     		and	r3, r2
 5793 00f6 01D1     		bne	.L447
 5794              		.loc 1 1293 0 is_stmt 0
 5795 00f8 1223     		mov	r3, #18
 5796 00fa 27E0     		b	.L439
 5797              	.L447:
1294:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1295:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to show clock source is ext ref clk
1296:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5798              		.loc 1 1296 0 is_stmt 1
 5799 00fc 3B1C     		mov	r3, r7
 5800 00fe 1633     		add	r3, r3, #22
 5801 0100 0022     		mov	r2, #0
 5802 0102 1A80     		strh	r2, [r3]
 5803 0104 0EE0     		b	.L448
 5804              	.L451:
1297:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1298:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) break; // jump out early if CLKST
 5805              		.loc 1 1298 0
 5806 0106 134B     		ldr	r3, .L455
 5807 0108 9B79     		ldrb	r3, [r3, #6]
 5808 010a DBB2     		uxtb	r3, r3
 5809 010c 1A1C     		mov	r2, r3
 5810 010e 0C23     		mov	r3, #12
 5811 0110 1340     		and	r3, r2
 5812 0112 9B08     		lsr	r3, r3, #2
 5813 0114 0ED0     		beq	.L454
 5814              	.L449:
1296:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5815              		.loc 1 1296 0
 5816 0116 3B1C     		mov	r3, r7
 5817 0118 1633     		add	r3, r3, #22
 5818 011a 3A1C     		mov	r2, r7
 5819 011c 1632     		add	r2, r2, #22
 5820 011e 1288     		ldrh	r2, [r2]
 5821 0120 0132     		add	r2, r2, #1
 5822 0122 1A80     		strh	r2, [r3]
 5823              	.L448:
1296:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 5824              		.loc 1 1296 0 is_stmt 0
 5825 0124 3B1C     		mov	r3, r7
 5826 0126 1633     		add	r3, r3, #22
 5827 0128 0021     		mov	r1, #0
 5828 012a 5A5E     		ldrsh	r2, [r3, r1]
 5829 012c 0C4B     		ldr	r3, .L455+12
 5830 012e 9A42     		cmp	r2, r3
 5831 0130 E9DD     		ble	.L451
 5832 0132 00E0     		b	.L450
 5833              	.L454:
 5834              		.loc 1 1298 0 is_stmt 1
 5835 0134 C046     		mov	r8, r8
 5836              	.L450:
1299:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1300:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x0) return 0x18; // check FLL is really
 5837              		.loc 1 1300 0
 5838 0136 074B     		ldr	r3, .L455
 5839 0138 9B79     		ldrb	r3, [r3, #6]
 5840 013a DBB2     		uxtb	r3, r3
 5841 013c 1A1C     		mov	r2, r3
 5842 013e 0C23     		mov	r3, #12
 5843 0140 1340     		and	r3, r2
 5844 0142 9B08     		lsr	r3, r3, #2
 5845 0144 01D0     		beq	.L452
 5846              		.loc 1 1300 0 is_stmt 0
 5847 0146 1823     		mov	r3, #24
 5848 0148 00E0     		b	.L439
 5849              	.L452:
1301:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1302:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FEI mode
1303:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return mcg_out;  
 5850              		.loc 1 1303 0 is_stmt 1
 5851 014a 3B69     		ldr	r3, [r7, #16]
 5852              	.L439:
1304:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fbi_fei
 5853              		.loc 1 1304 0
 5854 014c 181C     		mov	r0, r3
 5855 014e BD46     		mov	sp, r7
 5856 0150 06B0     		add	sp, sp, #24
 5857              		@ sp needed for prologue
 5858 0152 80BD     		pop	{r7, pc}
 5859              	.L456:
 5860              		.align	2
 5861              	.L455:
 5862 0154 00400640 		.word	1074151424
 5863 0158 117A0000 		.word	31249
 5864 015c 97980000 		.word	39063
 5865 0160 CF070000 		.word	1999
 5866              		.cfi_endproc
 5867              	.LFE19:
 5869              		.section	.text.fei_fbi,"ax",%progbits
 5870              		.align	2
 5871              		.global	fei_fbi
 5872              		.code	16
 5873              		.thumb_func
 5875              	fei_fbi:
 5876              	.LFB20:
1305:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1306:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1307:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fei_fbi(int irc_freq, unsigned char irc_select)
1308:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 5877              		.loc 1 1308 0
 5878              		.cfi_startproc
 5879 0000 80B5     		push	{r7, lr}
 5880              	.LCFI60:
 5881              		.cfi_def_cfa_offset 8
 5882              		.cfi_offset 7, -8
 5883              		.cfi_offset 14, -4
 5884 0002 84B0     		sub	sp, sp, #16
 5885              	.LCFI61:
 5886              		.cfi_def_cfa_offset 24
 5887 0004 00AF     		add	r7, sp, #0
 5888              	.LCFI62:
 5889              		.cfi_def_cfa_register 7
 5890 0006 7860     		str	r0, [r7, #4]
 5891 0008 0A1C     		mov	r2, r1
 5892 000a FB1C     		add	r3, r7, #3
 5893 000c 1A70     		strb	r2, [r3]
1309:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
1310:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char fcrdiv_val;
1311:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
1312:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1313:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FEI mode
1314:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 5894              		.loc 1 1314 0
 5895 000e 7A4B     		ldr	r3, .L486
 5896 0010 9B79     		ldrb	r3, [r3, #6]
 5897 0012 DBB2     		uxtb	r3, r3
 5898 0014 1A1C     		mov	r2, r3
 5899 0016 0C23     		mov	r3, #12
 5900 0018 1340     		and	r3, r2
 5901 001a 9B08     		lsr	r3, r3, #2
 5902 001c 0DD1     		bne	.L458
1315:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 5903              		.loc 1 1315 0
 5904 001e 764B     		ldr	r3, .L486
 5905 0020 9B79     		ldrb	r3, [r3, #6]
 5906 0022 DBB2     		uxtb	r3, r3
 5907 0024 1A1C     		mov	r2, r3
 5908 0026 1023     		mov	r3, #16
 5909 0028 1340     		and	r3, r2
1314:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 5910              		.loc 1 1314 0
 5911 002a 06D0     		beq	.L458
1316:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK))))                                 // check PLLS mux has selecte
 5912              		.loc 1 1316 0
 5913 002c 724B     		ldr	r3, .L486
 5914 002e 9B79     		ldrb	r3, [r3, #6]
 5915 0030 DBB2     		uxtb	r3, r3
 5916 0032 1A1C     		mov	r2, r3
 5917 0034 2023     		mov	r3, #32
 5918 0036 1340     		and	r3, r2
1314:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 5919              		.loc 1 1314 0
 5920 0038 01D0     		beq	.L459
 5921              	.L458:
1317:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1318:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x1;                                                       // return error code
 5922              		.loc 1 1318 0
 5923 003a 0123     		mov	r3, #1
 5924 003c D7E0     		b	.L460
 5925              	.L459:
1319:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   } 
1320:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1321:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check that the irc frequency matches the selected IRC 
1322:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(irc_select))
 5926              		.loc 1 1322 0
 5927 003e FB1C     		add	r3, r7, #3
 5928 0040 1B78     		ldrb	r3, [r3]
 5929 0042 002B     		cmp	r3, #0
 5930 0044 09D1     		bne	.L461
1323:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {    
1324:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((irc_freq < 31250) || (irc_freq > 39063)) {return 0x31;}
 5931              		.loc 1 1324 0
 5932 0046 7A68     		ldr	r2, [r7, #4]
 5933 0048 6C4B     		ldr	r3, .L486+4
 5934 004a 9A42     		cmp	r2, r3
 5935 004c 03DD     		ble	.L462
 5936              		.loc 1 1324 0 is_stmt 0
 5937 004e 7A68     		ldr	r2, [r7, #4]
 5938 0050 6B4B     		ldr	r3, .L486+8
 5939 0052 9A42     		cmp	r2, r3
 5940 0054 0BDD     		ble	.L463
 5941              	.L462:
 5942              		.loc 1 1324 0
 5943 0056 3123     		mov	r3, #49
 5944 0058 C9E0     		b	.L460
 5945              	.L461:
1325:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1326:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1327:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1328:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((irc_freq < 3000000) || (irc_freq > 5000000)) {return 0x32;} // Fast IRC freq
 5946              		.loc 1 1328 0 is_stmt 1
 5947 005a 7A68     		ldr	r2, [r7, #4]
 5948 005c 694B     		ldr	r3, .L486+12
 5949 005e 9A42     		cmp	r2, r3
 5950 0060 03DD     		ble	.L464
 5951              		.loc 1 1328 0 is_stmt 0
 5952 0062 7A68     		ldr	r2, [r7, #4]
 5953 0064 684B     		ldr	r3, .L486+16
 5954 0066 9A42     		cmp	r2, r3
 5955 0068 01DD     		ble	.L463
 5956              	.L464:
 5957              		.loc 1 1328 0
 5958 006a 3223     		mov	r3, #50
 5959 006c BFE0     		b	.L460
 5960              	.L463:
1329:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1330:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1331:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select the desired IRC
1332:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select)
 5961              		.loc 1 1332 0 is_stmt 1
 5962 006e FB1C     		add	r3, r7, #3
 5963 0070 1B78     		ldrb	r3, [r3]
 5964 0072 002B     		cmp	r3, #0
 5965 0074 08D0     		beq	.L465
1333:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1334:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     MCG_C2 |= MCG_C2_IRCS_MASK; // select fast IRCS
 5966              		.loc 1 1334 0
 5967 0076 604B     		ldr	r3, .L486
 5968 0078 5F4A     		ldr	r2, .L486
 5969 007a 5278     		ldrb	r2, [r2, #1]
 5970 007c D2B2     		uxtb	r2, r2
 5971 007e 0121     		mov	r1, #1
 5972 0080 0A43     		orr	r2, r1
 5973 0082 D2B2     		uxtb	r2, r2
 5974 0084 5A70     		strb	r2, [r3, #1]
 5975 0086 07E0     		b	.L466
 5976              	.L465:
1335:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1336:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1337:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1338:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     MCG_C2 &= ~MCG_C2_IRCS_MASK; // select slow IRCS
 5977              		.loc 1 1338 0
 5978 0088 5B4B     		ldr	r3, .L486
 5979 008a 5B4A     		ldr	r2, .L486
 5980 008c 5278     		ldrb	r2, [r2, #1]
 5981 008e D2B2     		uxtb	r2, r2
 5982 0090 0121     		mov	r1, #1
 5983 0092 8A43     		bic	r2, r1
 5984 0094 D2B2     		uxtb	r2, r2
 5985 0096 5A70     		strb	r2, [r3, #1]
 5986              	.L466:
1339:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1340:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1341:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Change the CLKS mux to select the IRC as the MCGOUT
1342:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 5987              		.loc 1 1342 0
 5988 0098 574A     		ldr	r2, .L486
 5989 009a 3B1C     		mov	r3, r7
 5990 009c 0D33     		add	r3, r3, #13
 5991 009e 1278     		ldrb	r2, [r2]
 5992 00a0 1A70     		strb	r2, [r3]
1343:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~MCG_C1_CLKS_MASK; // clear CLKS
 5993              		.loc 1 1343 0
 5994 00a2 3B1C     		mov	r3, r7
 5995 00a4 0D33     		add	r3, r3, #13
 5996 00a6 3A1C     		mov	r2, r7
 5997 00a8 0D32     		add	r2, r2, #13
 5998 00aa 1178     		ldrb	r1, [r2]
 5999 00ac 3F22     		mov	r2, #63
 6000 00ae 0A40     		and	r2, r1
 6001 00b0 1A70     		strb	r2, [r3]
1344:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= MCG_C1_CLKS(1); // select IRC as the MCG clock sourse
 6002              		.loc 1 1344 0
 6003 00b2 3B1C     		mov	r3, r7
 6004 00b4 0D33     		add	r3, r3, #13
 6005 00b6 3A1C     		mov	r2, r7
 6006 00b8 0D32     		add	r2, r2, #13
 6007 00ba 1278     		ldrb	r2, [r2]
 6008 00bc 4021     		mov	r1, #64
 6009 00be 0A43     		orr	r2, r1
 6010 00c0 1A70     		strb	r2, [r3]
1345:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg;
 6011              		.loc 1 1345 0
 6012 00c2 4D4B     		ldr	r3, .L486
 6013 00c4 3A1C     		mov	r2, r7
 6014 00c6 0D32     		add	r2, r2, #13
 6015 00c8 1278     		ldrb	r2, [r2]
 6016 00ca 1A70     		strb	r2, [r3]
1346:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1347:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait until internal reference switches to requested irc.
1348:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(irc_select))
 6017              		.loc 1 1348 0
 6018 00cc FB1C     		add	r3, r7, #3
 6019 00ce 1B78     		ldrb	r3, [r3]
 6020 00d0 002B     		cmp	r3, #0
 6021 00d2 24D1     		bne	.L467
1349:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1350:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 6022              		.loc 1 1350 0
 6023 00d4 3B1C     		mov	r3, r7
 6024 00d6 0E33     		add	r3, r3, #14
 6025 00d8 0022     		mov	r2, #0
 6026 00da 1A80     		strh	r2, [r3]
 6027 00dc 0DE0     		b	.L468
 6028              	.L471:
1351:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1352:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (!(MCG_S & MCG_S_IRCST_MASK)) break; // jump out early if IRCST clears before loop finishe
 6029              		.loc 1 1352 0
 6030 00de 464B     		ldr	r3, .L486
 6031 00e0 9B79     		ldrb	r3, [r3, #6]
 6032 00e2 DBB2     		uxtb	r3, r3
 6033 00e4 1A1C     		mov	r2, r3
 6034 00e6 0123     		mov	r3, #1
 6035 00e8 1340     		and	r3, r2
 6036 00ea 0ED0     		beq	.L483
 6037              	.L469:
1350:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 6038              		.loc 1 1350 0
 6039 00ec 3B1C     		mov	r3, r7
 6040 00ee 0E33     		add	r3, r3, #14
 6041 00f0 3A1C     		mov	r2, r7
 6042 00f2 0E32     		add	r2, r2, #14
 6043 00f4 1288     		ldrh	r2, [r2]
 6044 00f6 0132     		add	r2, r2, #1
 6045 00f8 1A80     		strh	r2, [r3]
 6046              	.L468:
1350:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 6047              		.loc 1 1350 0 is_stmt 0
 6048 00fa 3B1C     		mov	r3, r7
 6049 00fc 0E33     		add	r3, r3, #14
 6050 00fe 0021     		mov	r1, #0
 6051 0100 5A5E     		ldrsh	r2, [r3, r1]
 6052 0102 424B     		ldr	r3, .L486+20
 6053 0104 9A42     		cmp	r2, r3
 6054 0106 EADD     		ble	.L471
 6055 0108 00E0     		b	.L470
 6056              	.L483:
 6057              		.loc 1 1352 0 is_stmt 1
 6058 010a C046     		mov	r8, r8
 6059              	.L470:
1353:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1354:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_IRCST_MASK) return 0x13; // check bit is really clear and return with error i
 6060              		.loc 1 1354 0
 6061 010c 3A4B     		ldr	r3, .L486
 6062 010e 9B79     		ldrb	r3, [r3, #6]
 6063 0110 DBB2     		uxtb	r3, r3
 6064 0112 1A1C     		mov	r2, r3
 6065 0114 0123     		mov	r3, #1
 6066 0116 1340     		and	r3, r2
 6067 0118 26D0     		beq	.L472
 6068              		.loc 1 1354 0 is_stmt 0
 6069 011a 1323     		mov	r3, #19
 6070 011c 67E0     		b	.L460
 6071              	.L467:
1355:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1356:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1357:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1358:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 6072              		.loc 1 1358 0 is_stmt 1
 6073 011e 3B1C     		mov	r3, r7
 6074 0120 0E33     		add	r3, r3, #14
 6075 0122 0022     		mov	r2, #0
 6076 0124 1A80     		strh	r2, [r3]
 6077 0126 0DE0     		b	.L473
 6078              	.L476:
1359:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1360:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (MCG_S & MCG_S_IRCST_MASK) break; // jump out early if IRCST sets before loop finishes
 6079              		.loc 1 1360 0
 6080 0128 334B     		ldr	r3, .L486
 6081 012a 9B79     		ldrb	r3, [r3, #6]
 6082 012c DBB2     		uxtb	r3, r3
 6083 012e 1A1C     		mov	r2, r3
 6084 0130 0123     		mov	r3, #1
 6085 0132 1340     		and	r3, r2
 6086 0134 0ED1     		bne	.L484
 6087              	.L474:
1358:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 6088              		.loc 1 1358 0
 6089 0136 3B1C     		mov	r3, r7
 6090 0138 0E33     		add	r3, r3, #14
 6091 013a 3A1C     		mov	r2, r7
 6092 013c 0E32     		add	r2, r2, #14
 6093 013e 1288     		ldrh	r2, [r2]
 6094 0140 0132     		add	r2, r2, #1
 6095 0142 1A80     		strh	r2, [r3]
 6096              	.L473:
1358:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 2000 ; i++)
 6097              		.loc 1 1358 0 is_stmt 0
 6098 0144 3B1C     		mov	r3, r7
 6099 0146 0E33     		add	r3, r3, #14
 6100 0148 0021     		mov	r1, #0
 6101 014a 5A5E     		ldrsh	r2, [r3, r1]
 6102 014c 2F4B     		ldr	r3, .L486+20
 6103 014e 9A42     		cmp	r2, r3
 6104 0150 EADD     		ble	.L476
 6105 0152 00E0     		b	.L475
 6106              	.L484:
 6107              		.loc 1 1360 0 is_stmt 1
 6108 0154 C046     		mov	r8, r8
 6109              	.L475:
1361:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1362:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_IRCST_MASK)) return 0x14; // check bit is really set and return with error 
 6110              		.loc 1 1362 0
 6111 0156 284B     		ldr	r3, .L486
 6112 0158 9B79     		ldrb	r3, [r3, #6]
 6113 015a DBB2     		uxtb	r3, r3
 6114 015c 1A1C     		mov	r2, r3
 6115 015e 0123     		mov	r3, #1
 6116 0160 1340     		and	r3, r2
 6117 0162 01D1     		bne	.L472
 6118              		.loc 1 1362 0 is_stmt 0
 6119 0164 1423     		mov	r3, #20
 6120 0166 42E0     		b	.L460
 6121              	.L472:
1363:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1364:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1365:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Wait for clock status bits to update
1366:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6122              		.loc 1 1366 0 is_stmt 1
 6123 0168 3B1C     		mov	r3, r7
 6124 016a 0E33     		add	r3, r3, #14
 6125 016c 0022     		mov	r2, #0
 6126 016e 1A80     		strh	r2, [r3]
 6127 0170 0FE0     		b	.L477
 6128              	.L480:
1367:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1368:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) break; // jump out early if CLKST
 6129              		.loc 1 1368 0
 6130 0172 214B     		ldr	r3, .L486
 6131 0174 9B79     		ldrb	r3, [r3, #6]
 6132 0176 DBB2     		uxtb	r3, r3
 6133 0178 1A1C     		mov	r2, r3
 6134 017a 0C23     		mov	r3, #12
 6135 017c 1340     		and	r3, r2
 6136 017e 9B08     		lsr	r3, r3, #2
 6137 0180 012B     		cmp	r3, #1
 6138 0182 0ED0     		beq	.L485
 6139              	.L478:
1366:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6140              		.loc 1 1366 0
 6141 0184 3B1C     		mov	r3, r7
 6142 0186 0E33     		add	r3, r3, #14
 6143 0188 3A1C     		mov	r2, r7
 6144 018a 0E32     		add	r2, r2, #14
 6145 018c 1288     		ldrh	r2, [r2]
 6146 018e 0132     		add	r2, r2, #1
 6147 0190 1A80     		strh	r2, [r3]
 6148              	.L477:
1366:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6149              		.loc 1 1366 0 is_stmt 0
 6150 0192 3B1C     		mov	r3, r7
 6151 0194 0E33     		add	r3, r3, #14
 6152 0196 0021     		mov	r1, #0
 6153 0198 5A5E     		ldrsh	r2, [r3, r1]
 6154 019a 1C4B     		ldr	r3, .L486+20
 6155 019c 9A42     		cmp	r2, r3
 6156 019e E8DD     		ble	.L480
 6157 01a0 00E0     		b	.L479
 6158              	.L485:
 6159              		.loc 1 1368 0 is_stmt 1
 6160 01a2 C046     		mov	r8, r8
 6161              	.L479:
1369:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1370:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) != 0x1) return 0x19; // check IRC is really
 6162              		.loc 1 1370 0
 6163 01a4 144B     		ldr	r3, .L486
 6164 01a6 9B79     		ldrb	r3, [r3, #6]
 6165 01a8 DBB2     		uxtb	r3, r3
 6166 01aa 1A1C     		mov	r2, r3
 6167 01ac 0C23     		mov	r3, #12
 6168 01ae 1340     		and	r3, r2
 6169 01b0 9B08     		lsr	r3, r3, #2
 6170 01b2 012B     		cmp	r3, #1
 6171 01b4 01D0     		beq	.L481
 6172              		.loc 1 1370 0 is_stmt 0
 6173 01b6 1923     		mov	r3, #25
 6174 01b8 19E0     		b	.L460
 6175              	.L481:
1371:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1372:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBI mode
1373:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select)
 6176              		.loc 1 1373 0 is_stmt 1
 6177 01ba FB1C     		add	r3, r7, #3
 6178 01bc 1B78     		ldrb	r3, [r3]
 6179 01be 002B     		cmp	r3, #0
 6180 01c0 14D0     		beq	.L482
1374:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1375:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fcrdiv_val = (1 << ((MCG_SC & MCG_SC_FCRDIV_MASK) >> MCG_SC_FCRDIV_SHIFT)); // calculate the fa
 6181              		.loc 1 1375 0
 6182 01c2 0D4B     		ldr	r3, .L486
 6183 01c4 1B7A     		ldrb	r3, [r3, #8]
 6184 01c6 DBB2     		uxtb	r3, r3
 6185 01c8 1A1C     		mov	r2, r3
 6186 01ca 0E23     		mov	r3, #14
 6187 01cc 1340     		and	r3, r2
 6188 01ce 5B08     		lsr	r3, r3, #1
 6189 01d0 0122     		mov	r2, #1
 6190 01d2 9A40     		lsl	r2, r2, r3
 6191 01d4 3B1C     		mov	r3, r7
 6192 01d6 0C33     		add	r3, r3, #12
 6193 01d8 1A70     		strb	r2, [r3]
1376:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return (irc_freq / fcrdiv_val); // MCGOUT frequency equals fast IRC frequency divided by 2
 6194              		.loc 1 1376 0
 6195 01da 3B1C     		mov	r3, r7
 6196 01dc 0C33     		add	r3, r3, #12
 6197 01de 1B78     		ldrb	r3, [r3]
 6198 01e0 7868     		ldr	r0, [r7, #4]
 6199 01e2 191C     		mov	r1, r3
 6200 01e4 FFF7FEFF 		bl	__aeabi_idiv
 6201 01e8 031C     		mov	r3, r0
 6202 01ea 00E0     		b	.L460
 6203              	.L482:
1377:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1378:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1379:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1380:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return irc_freq; // MCGOUT frequency equals slow IRC frequency
 6204              		.loc 1 1380 0
 6205 01ec 7B68     		ldr	r3, [r7, #4]
 6206              	.L460:
1381:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }   
1382:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fei_fbi
 6207              		.loc 1 1382 0
 6208 01ee 181C     		mov	r0, r3
 6209 01f0 BD46     		mov	sp, r7
 6210 01f2 04B0     		add	sp, sp, #16
 6211              		@ sp needed for prologue
 6212 01f4 80BD     		pop	{r7, pc}
 6213              	.L487:
 6214 01f6 C046     		.align	2
 6215              	.L486:
 6216 01f8 00400640 		.word	1074151424
 6217 01fc 117A0000 		.word	31249
 6218 0200 97980000 		.word	39063
 6219 0204 BFC62D00 		.word	2999999
 6220 0208 404B4C00 		.word	5000000
 6221 020c CF070000 		.word	1999
 6222              		.cfi_endproc
 6223              	.LFE20:
 6225              		.section	.text.fei_fee,"ax",%progbits
 6226              		.align	2
 6227              		.global	fei_fee
 6228              		.code	16
 6229              		.thumb_func
 6231              	fei_fee:
 6232              	.LFB21:
1383:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1384:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1385:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /********************************************************************/
1386:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /* Functon name : fei_fee
1387:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1388:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Mode transition: FEI to FEE mode
1389:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1390:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * This function transitions the MCG from FEI mode to FEE mode. This is
1391:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * achieved by setting the MCG_C2[LP] bit. There is no status bit to 
1392:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * check so 0 is always returned if the function was called with the MCG
1393:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * in FBI mode. The MCGCLKOUT frequency does not change
1394:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1395:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Parameters: crystal_val - external clock frequency in Hz
1396:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             hgo_val     - selects whether low power or high gain mode is selected
1397:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           for the crystal oscillator. This has no meaning if an 
1398:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *                           external clock is used.
1399:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *             erefs_val   - selects external clock (=0) or crystal osc (=1)
1400:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1401:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Return value : MCGCLKOUT frequency (Hz) or error code
1402:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  */
1403:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fei_fee(int crystal_val, unsigned char hgo_val, unsigned char erefs_val)
1404:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 6233              		.loc 1 1404 0
 6234              		.cfi_startproc
 6235 0000 80B5     		push	{r7, lr}
 6236              	.LCFI63:
 6237              		.cfi_def_cfa_offset 8
 6238              		.cfi_offset 7, -8
 6239              		.cfi_offset 14, -4
 6240 0002 86B0     		sub	sp, sp, #24
 6241              	.LCFI64:
 6242              		.cfi_def_cfa_offset 32
 6243 0004 00AF     		add	r7, sp, #0
 6244              	.LCFI65:
 6245              		.cfi_def_cfa_register 7
 6246 0006 7860     		str	r0, [r7, #4]
 6247 0008 FB1C     		add	r3, r7, #3
 6248 000a 1970     		strb	r1, [r3]
 6249 000c BB1C     		add	r3, r7, #2
 6250 000e 1A70     		strb	r2, [r3]
1405:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char frdiv_val;
1406:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char temp_reg;
1407:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  // short i;
1408:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int mcg_out, fll_ref_freq, i;
1409:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1410:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check if in FEI mode
1411:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 6251              		.loc 1 1411 0
 6252 0010 AC4B     		ldr	r3, .L521
 6253 0012 9B79     		ldrb	r3, [r3, #6]
 6254 0014 DBB2     		uxtb	r3, r3
 6255 0016 1A1C     		mov	r2, r3
 6256 0018 0C23     		mov	r3, #12
 6257 001a 1340     		and	r3, r2
 6258 001c 9B08     		lsr	r3, r3, #2
 6259 001e 0DD1     		bne	.L489
1412:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                  // check FLL ref is internal 
 6260              		.loc 1 1412 0
 6261 0020 A84B     		ldr	r3, .L521
 6262 0022 9B79     		ldrb	r3, [r3, #6]
 6263 0024 DBB2     		uxtb	r3, r3
 6264 0026 1A1C     		mov	r2, r3
 6265 0028 1023     		mov	r3, #16
 6266 002a 1340     		and	r3, r2
1411:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 6267              		.loc 1 1411 0
 6268 002c 06D0     		beq	.L489
1413:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK))))                                 // check PLLS mux has selecte
 6269              		.loc 1 1413 0
 6270 002e A54B     		ldr	r3, .L521
 6271 0030 9B79     		ldrb	r3, [r3, #6]
 6272 0032 DBB2     		uxtb	r3, r3
 6273 0034 1A1C     		mov	r2, r3
 6274 0036 2023     		mov	r3, #32
 6275 0038 1340     		and	r3, r2
1411:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 6276              		.loc 1 1411 0
 6277 003a 01D0     		beq	.L490
 6278              	.L489:
1414:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1415:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x1;                                                     // return error code
 6279              		.loc 1 1415 0
 6280 003c 0123     		mov	r3, #1
 6281 003e 3CE1     		b	.L491
 6282              	.L490:
1416:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1417:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1418:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check external frequency is less than the maximum frequency
1419:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if  (crystal_val > 50000000) {return 0x21;}
 6283              		.loc 1 1419 0
 6284 0040 7A68     		ldr	r2, [r7, #4]
 6285 0042 A14B     		ldr	r3, .L521+4
 6286 0044 9A42     		cmp	r2, r3
 6287 0046 01DD     		ble	.L492
 6288              		.loc 1 1419 0 is_stmt 0
 6289 0048 2123     		mov	r3, #33
 6290 004a 36E1     		b	.L491
 6291              	.L492:
1420:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1421:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // check crystal frequency is within spec. if crystal osc is being used
1422:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 6292              		.loc 1 1422 0 is_stmt 1
 6293 004c BB1C     		add	r3, r7, #2
 6294 004e 1B78     		ldrb	r3, [r3]
 6295 0050 002B     		cmp	r3, #0
 6296 0052 11D0     		beq	.L493
1423:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1424:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if ((crystal_val < 30000) ||
 6297              		.loc 1 1424 0
 6298 0054 7A68     		ldr	r2, [r7, #4]
 6299 0056 9D4B     		ldr	r3, .L521+8
 6300 0058 9A42     		cmp	r2, r3
 6301 005a 0BDD     		ble	.L494
 6302              		.loc 1 1424 0 is_stmt 0
 6303 005c 7A68     		ldr	r2, [r7, #4]
 6304 005e 9C4B     		ldr	r3, .L521+12
 6305 0060 9A42     		cmp	r2, r3
 6306 0062 03DD     		ble	.L495
1425:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         ((crystal_val > 40000) && (crystal_val < 3000000)) ||
 6307              		.loc 1 1425 0 is_stmt 1
 6308 0064 7A68     		ldr	r2, [r7, #4]
 6309 0066 9B4B     		ldr	r3, .L521+16
 6310 0068 9A42     		cmp	r2, r3
 6311 006a 03DD     		ble	.L494
 6312              	.L495:
 6313              		.loc 1 1425 0 is_stmt 0
 6314 006c 7A68     		ldr	r2, [r7, #4]
 6315 006e 9A4B     		ldr	r3, .L521+20
 6316 0070 9A42     		cmp	r2, r3
 6317 0072 01DD     		ble	.L493
 6318              	.L494:
1426:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         (crystal_val > 32000000)) {return 0x22;} // return error if one of the available crystal op
 6319              		.loc 1 1426 0 is_stmt 1
 6320 0074 2223     		mov	r3, #34
 6321 0076 20E1     		b	.L491
 6322              	.L493:
1427:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1428:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1429:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // make sure HGO will never be greater than 1. Could return an error instead if desired.  
1430:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (hgo_val > 0)
 6323              		.loc 1 1430 0
 6324 0078 FB1C     		add	r3, r7, #3
 6325 007a 1B78     		ldrb	r3, [r3]
 6326 007c 002B     		cmp	r3, #0
 6327 007e 02D0     		beq	.L496
1431:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1432:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     hgo_val = 1; // force hgo_val to 1 if > 0
 6328              		.loc 1 1432 0
 6329 0080 FB1C     		add	r3, r7, #3
 6330 0082 0122     		mov	r2, #1
 6331 0084 1A70     		strb	r2, [r3]
 6332              	.L496:
1433:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1434:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1435:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // configure the MCG_C2 register
1436:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // the RANGE value is determined by the external frequency. Since the RANGE parameter affects the F
1437:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // it still needs to be set correctly even if the oscillator is not being used
1438:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C2;
 6333              		.loc 1 1438 0
 6334 0086 8F4A     		ldr	r2, .L521
 6335 0088 3B1C     		mov	r3, r7
 6336 008a 1633     		add	r3, r3, #22
 6337 008c 5278     		ldrb	r2, [r2, #1]
 6338 008e 1A70     		strb	r2, [r3]
1439:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C2_RANGE0_MASK | MCG_C2_HGO0_MASK | MCG_C2_EREFS0_MASK); // clear fields before
 6339              		.loc 1 1439 0
 6340 0090 3B1C     		mov	r3, r7
 6341 0092 1633     		add	r3, r3, #22
 6342 0094 3A1C     		mov	r2, r7
 6343 0096 1632     		add	r2, r2, #22
 6344 0098 1278     		ldrb	r2, [r2]
 6345 009a 3C21     		mov	r1, #60
 6346 009c 8A43     		bic	r2, r1
 6347 009e 1A70     		strb	r2, [r3]
1440:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 40000)
 6348              		.loc 1 1440 0
 6349 00a0 7A68     		ldr	r2, [r7, #4]
 6350 00a2 8B4B     		ldr	r3, .L521+12
 6351 00a4 9A42     		cmp	r2, r3
 6352 00a6 11DC     		bgt	.L497
1441:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1442:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(0) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 6353              		.loc 1 1442 0
 6354 00a8 FB1C     		add	r3, r7, #3
 6355 00aa 1B78     		ldrb	r3, [r3]
 6356 00ac DB00     		lsl	r3, r3, #3
 6357 00ae DAB2     		uxtb	r2, r3
 6358 00b0 BB1C     		add	r3, r7, #2
 6359 00b2 1B78     		ldrb	r3, [r3]
 6360 00b4 9B00     		lsl	r3, r3, #2
 6361 00b6 DBB2     		uxtb	r3, r3
 6362 00b8 1343     		orr	r3, r2
 6363 00ba D9B2     		uxtb	r1, r3
 6364 00bc 3B1C     		mov	r3, r7
 6365 00be 1633     		add	r3, r3, #22
 6366 00c0 3A1C     		mov	r2, r7
 6367 00c2 1632     		add	r2, r2, #22
 6368 00c4 1278     		ldrb	r2, [r2]
 6369 00c6 0A43     		orr	r2, r1
 6370 00c8 1A70     		strb	r2, [r3]
 6371 00ca 2CE0     		b	.L498
 6372              	.L497:
1443:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1444:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 8000000)
 6373              		.loc 1 1444 0
 6374 00cc 7A68     		ldr	r2, [r7, #4]
 6375 00ce 834B     		ldr	r3, .L521+24
 6376 00d0 9A42     		cmp	r2, r3
 6377 00d2 14DC     		bgt	.L499
1445:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1446:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(1) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 6378              		.loc 1 1446 0
 6379 00d4 FB1C     		add	r3, r7, #3
 6380 00d6 1B78     		ldrb	r3, [r3]
 6381 00d8 DB00     		lsl	r3, r3, #3
 6382 00da DAB2     		uxtb	r2, r3
 6383 00dc BB1C     		add	r3, r7, #2
 6384 00de 1B78     		ldrb	r3, [r3]
 6385 00e0 9B00     		lsl	r3, r3, #2
 6386 00e2 DBB2     		uxtb	r3, r3
 6387 00e4 1343     		orr	r3, r2
 6388 00e6 DAB2     		uxtb	r2, r3
 6389 00e8 3B1C     		mov	r3, r7
 6390 00ea 1633     		add	r3, r3, #22
 6391 00ec 1B78     		ldrb	r3, [r3]
 6392 00ee 1343     		orr	r3, r2
 6393 00f0 DAB2     		uxtb	r2, r3
 6394 00f2 3B1C     		mov	r3, r7
 6395 00f4 1633     		add	r3, r3, #22
 6396 00f6 1021     		mov	r1, #16
 6397 00f8 0A43     		orr	r2, r1
 6398 00fa 1A70     		strb	r2, [r3]
 6399 00fc 13E0     		b	.L498
 6400              	.L499:
1447:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1448:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1449:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1450:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     temp_reg |= (MCG_C2_RANGE0(2) | (hgo_val << MCG_C2_HGO0_SHIFT) | (erefs_val << MCG_C2_EREFS0_SH
 6401              		.loc 1 1450 0
 6402 00fe FB1C     		add	r3, r7, #3
 6403 0100 1B78     		ldrb	r3, [r3]
 6404 0102 DB00     		lsl	r3, r3, #3
 6405 0104 DAB2     		uxtb	r2, r3
 6406 0106 BB1C     		add	r3, r7, #2
 6407 0108 1B78     		ldrb	r3, [r3]
 6408 010a 9B00     		lsl	r3, r3, #2
 6409 010c DBB2     		uxtb	r3, r3
 6410 010e 1343     		orr	r3, r2
 6411 0110 DAB2     		uxtb	r2, r3
 6412 0112 3B1C     		mov	r3, r7
 6413 0114 1633     		add	r3, r3, #22
 6414 0116 1B78     		ldrb	r3, [r3]
 6415 0118 1343     		orr	r3, r2
 6416 011a DAB2     		uxtb	r2, r3
 6417 011c 3B1C     		mov	r3, r7
 6418 011e 1633     		add	r3, r3, #22
 6419 0120 2021     		mov	r1, #32
 6420 0122 0A43     		orr	r2, r1
 6421 0124 1A70     		strb	r2, [r3]
 6422              	.L498:
1451:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1452:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C2 = temp_reg;
 6423              		.loc 1 1452 0
 6424 0126 674B     		ldr	r3, .L521
 6425 0128 3A1C     		mov	r2, r7
 6426 012a 1632     		add	r2, r2, #22
 6427 012c 1278     		ldrb	r2, [r2]
 6428 012e 5A70     		strb	r2, [r3, #1]
1453:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1454:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // determine FRDIV based on reference clock frequency
1455:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // since the external frequency has already been checked only the maximum frequency for each FRDIV 
1456:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (crystal_val <= 1250000) {frdiv_val = 0;}
 6429              		.loc 1 1456 0
 6430 0130 7A68     		ldr	r2, [r7, #4]
 6431 0132 6B4B     		ldr	r3, .L521+28
 6432 0134 9A42     		cmp	r2, r3
 6433 0136 04DC     		bgt	.L500
 6434              		.loc 1 1456 0 is_stmt 0
 6435 0138 3B1C     		mov	r3, r7
 6436 013a 1733     		add	r3, r3, #23
 6437 013c 0022     		mov	r2, #0
 6438 013e 1A70     		strb	r2, [r3]
 6439 0140 27E0     		b	.L501
 6440              	.L500:
1457:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 2500000) {frdiv_val = 1;}
 6441              		.loc 1 1457 0 is_stmt 1
 6442 0142 7A68     		ldr	r2, [r7, #4]
 6443 0144 674B     		ldr	r3, .L521+32
 6444 0146 9A42     		cmp	r2, r3
 6445 0148 04DC     		bgt	.L502
 6446              		.loc 1 1457 0 is_stmt 0
 6447 014a 3B1C     		mov	r3, r7
 6448 014c 1733     		add	r3, r3, #23
 6449 014e 0122     		mov	r2, #1
 6450 0150 1A70     		strb	r2, [r3]
 6451 0152 1EE0     		b	.L501
 6452              	.L502:
1458:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 5000000) {frdiv_val = 2;}
 6453              		.loc 1 1458 0 is_stmt 1
 6454 0154 7A68     		ldr	r2, [r7, #4]
 6455 0156 644B     		ldr	r3, .L521+36
 6456 0158 9A42     		cmp	r2, r3
 6457 015a 04DC     		bgt	.L503
 6458              		.loc 1 1458 0 is_stmt 0
 6459 015c 3B1C     		mov	r3, r7
 6460 015e 1733     		add	r3, r3, #23
 6461 0160 0222     		mov	r2, #2
 6462 0162 1A70     		strb	r2, [r3]
 6463 0164 15E0     		b	.L501
 6464              	.L503:
1459:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 10000000) {frdiv_val = 3;}
 6465              		.loc 1 1459 0 is_stmt 1
 6466 0166 7A68     		ldr	r2, [r7, #4]
 6467 0168 604B     		ldr	r3, .L521+40
 6468 016a 9A42     		cmp	r2, r3
 6469 016c 04DC     		bgt	.L504
 6470              		.loc 1 1459 0 is_stmt 0
 6471 016e 3B1C     		mov	r3, r7
 6472 0170 1733     		add	r3, r3, #23
 6473 0172 0322     		mov	r2, #3
 6474 0174 1A70     		strb	r2, [r3]
 6475 0176 0CE0     		b	.L501
 6476              	.L504:
1460:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if (crystal_val <= 20000000) {frdiv_val = 4;}
 6477              		.loc 1 1460 0 is_stmt 1
 6478 0178 7A68     		ldr	r2, [r7, #4]
 6479 017a 5D4B     		ldr	r3, .L521+44
 6480 017c 9A42     		cmp	r2, r3
 6481 017e 04DC     		bgt	.L505
 6482              		.loc 1 1460 0 is_stmt 0
 6483 0180 3B1C     		mov	r3, r7
 6484 0182 1733     		add	r3, r3, #23
 6485 0184 0422     		mov	r2, #4
 6486 0186 1A70     		strb	r2, [r3]
 6487 0188 03E0     		b	.L501
 6488              	.L505:
1461:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else {frdiv_val = 5;}
 6489              		.loc 1 1461 0 is_stmt 1
 6490 018a 3B1C     		mov	r3, r7
 6491 018c 1733     		add	r3, r3, #23
 6492 018e 0522     		mov	r2, #5
 6493 0190 1A70     		strb	r2, [r3]
 6494              	.L501:
1462:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****    
1463:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // The FLL ref clk divide value depends on FRDIV and the RANGE value
1464:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_C2 & MCG_C2_RANGE0_MASK) >> MCG_C2_RANGE0_SHIFT) > 0)
 6495              		.loc 1 1464 0
 6496 0192 4C4B     		ldr	r3, .L521
 6497 0194 5B78     		ldrb	r3, [r3, #1]
 6498 0196 DBB2     		uxtb	r3, r3
 6499 0198 1A1C     		mov	r2, r3
 6500 019a 3023     		mov	r3, #48
 6501 019c 1340     		and	r3, r2
 6502 019e 1B09     		lsr	r3, r3, #4
 6503 01a0 0DD0     		beq	.L506
1465:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1466:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fll_ref_freq = ((crystal_val) / (32 << frdiv_val));
 6504              		.loc 1 1466 0
 6505 01a2 3B1C     		mov	r3, r7
 6506 01a4 1733     		add	r3, r3, #23
 6507 01a6 1B78     		ldrb	r3, [r3]
 6508 01a8 2022     		mov	r2, #32
 6509 01aa 111C     		mov	r1, r2
 6510 01ac 9940     		lsl	r1, r1, r3
 6511 01ae 0B1C     		mov	r3, r1
 6512 01b0 7868     		ldr	r0, [r7, #4]
 6513 01b2 191C     		mov	r1, r3
 6514 01b4 FFF7FEFF 		bl	__aeabi_idiv
 6515 01b8 031C     		mov	r3, r0
 6516 01ba 3B61     		str	r3, [r7, #16]
 6517 01bc 0CE0     		b	.L507
 6518              	.L506:
1467:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1468:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1469:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1470:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     fll_ref_freq = ((crystal_val) / (1 << frdiv_val));
 6519              		.loc 1 1470 0
 6520 01be 3B1C     		mov	r3, r7
 6521 01c0 1733     		add	r3, r3, #23
 6522 01c2 1B78     		ldrb	r3, [r3]
 6523 01c4 0122     		mov	r2, #1
 6524 01c6 111C     		mov	r1, r2
 6525 01c8 9940     		lsl	r1, r1, r3
 6526 01ca 0B1C     		mov	r3, r1
 6527 01cc 7868     		ldr	r0, [r7, #4]
 6528 01ce 191C     		mov	r1, r3
 6529 01d0 FFF7FEFF 		bl	__aeabi_idiv
 6530 01d4 031C     		mov	r3, r0
 6531 01d6 3B61     		str	r3, [r7, #16]
 6532              	.L507:
1471:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1472:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1473:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check resulting FLL frequency 
1474:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   mcg_out = fll_freq(fll_ref_freq); // FLL reference frequency calculated from ext ref freq and FRD
 6533              		.loc 1 1474 0
 6534 01d8 3B69     		ldr	r3, [r7, #16]
 6535 01da 181C     		mov	r0, r3
 6536 01dc FFF7FEFF 		bl	fll_freq
 6537 01e0 031C     		mov	r3, r0
 6538 01e2 BB60     		str	r3, [r7, #8]
1475:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (mcg_out < 0x3C) {return mcg_out;} // If error code returned, return the code to calling funct
 6539              		.loc 1 1475 0
 6540 01e4 BB68     		ldr	r3, [r7, #8]
 6541 01e6 3B2B     		cmp	r3, #59
 6542 01e8 01DC     		bgt	.L508
 6543              		.loc 1 1475 0 is_stmt 0
 6544 01ea BB68     		ldr	r3, [r7, #8]
 6545 01ec 65E0     		b	.L491
 6546              	.L508:
1476:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1477:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Select external oscilator and Reference Divider and clear IREFS to start ext osc
1478:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // If IRCLK is required it must be enabled outside of this driver, existing state will be maintaine
1479:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // CLKS=0, FRDIV=frdiv_val, IREFS=0, IRCLKEN=0, IREFSTEN=0
1480:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = MCG_C1;
 6547              		.loc 1 1480 0 is_stmt 1
 6548 01ee 354A     		ldr	r2, .L521
 6549 01f0 3B1C     		mov	r3, r7
 6550 01f2 1633     		add	r3, r3, #22
 6551 01f4 1278     		ldrb	r2, [r2]
 6552 01f6 1A70     		strb	r2, [r3]
1481:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~(MCG_C1_CLKS_MASK | MCG_C1_FRDIV_MASK | MCG_C1_IREFS_MASK); // Clear values in these
 6553              		.loc 1 1481 0
 6554 01f8 3B1C     		mov	r3, r7
 6555 01fa 1633     		add	r3, r3, #22
 6556 01fc 3A1C     		mov	r2, r7
 6557 01fe 1632     		add	r2, r2, #22
 6558 0200 1178     		ldrb	r1, [r2]
 6559 0202 0322     		mov	r2, #3
 6560 0204 0A40     		and	r2, r1
 6561 0206 1A70     		strb	r2, [r3]
1482:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= (MCG_C1_CLKS(0) | MCG_C1_FRDIV(frdiv_val)); // Set the required CLKS and FRDIV values
 6562              		.loc 1 1482 0
 6563 0208 3B1C     		mov	r3, r7
 6564 020a 1733     		add	r3, r3, #23
 6565 020c 1B78     		ldrb	r3, [r3]
 6566 020e DB00     		lsl	r3, r3, #3
 6567 0210 DAB2     		uxtb	r2, r3
 6568 0212 3823     		mov	r3, #56
 6569 0214 1340     		and	r3, r2
 6570 0216 D9B2     		uxtb	r1, r3
 6571 0218 3B1C     		mov	r3, r7
 6572 021a 1633     		add	r3, r3, #22
 6573 021c 3A1C     		mov	r2, r7
 6574 021e 1632     		add	r2, r2, #22
 6575 0220 1278     		ldrb	r2, [r2]
 6576 0222 0A43     		orr	r2, r1
 6577 0224 1A70     		strb	r2, [r3]
1483:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 = temp_reg;
 6578              		.loc 1 1483 0
 6579 0226 274B     		ldr	r3, .L521
 6580 0228 3A1C     		mov	r2, r7
 6581 022a 1632     		add	r2, r2, #22
 6582 022c 1278     		ldrb	r2, [r2]
 6583 022e 1A70     		strb	r2, [r3]
1484:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1485:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // if the external oscillator is used need to wait for OSCINIT to set
1486:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (erefs_val)
 6584              		.loc 1 1486 0
 6585 0230 BB1C     		add	r3, r7, #2
 6586 0232 1B78     		ldrb	r3, [r3]
 6587 0234 002B     		cmp	r3, #0
 6588 0236 1BD0     		beq	.L509
1487:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1488:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 20000000 ; i++)
 6589              		.loc 1 1488 0
 6590 0238 0023     		mov	r3, #0
 6591 023a FB60     		str	r3, [r7, #12]
 6592 023c 09E0     		b	.L510
 6593              	.L513:
1489:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1490:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (MCG_S & MCG_S_OSCINIT0_MASK) break; // jump out early if OSCINIT sets before loop finishe
 6594              		.loc 1 1490 0
 6595 023e 214B     		ldr	r3, .L521
 6596 0240 9B79     		ldrb	r3, [r3, #6]
 6597 0242 DBB2     		uxtb	r3, r3
 6598 0244 1A1C     		mov	r2, r3
 6599 0246 0223     		mov	r3, #2
 6600 0248 1340     		and	r3, r2
 6601 024a 07D1     		bne	.L519
 6602              	.L511:
1488:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 20000000 ; i++)
 6603              		.loc 1 1488 0
 6604 024c FB68     		ldr	r3, [r7, #12]
 6605 024e 0133     		add	r3, r3, #1
 6606 0250 FB60     		str	r3, [r7, #12]
 6607              	.L510:
1488:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     for (i = 0 ; i < 20000000 ; i++)
 6608              		.loc 1 1488 0 is_stmt 0
 6609 0252 FA68     		ldr	r2, [r7, #12]
 6610 0254 274B     		ldr	r3, .L521+48
 6611 0256 9A42     		cmp	r2, r3
 6612 0258 F1DD     		ble	.L513
 6613 025a 00E0     		b	.L512
 6614              	.L519:
 6615              		.loc 1 1490 0 is_stmt 1
 6616 025c C046     		mov	r8, r8
 6617              	.L512:
1491:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1492:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_OSCINIT0_MASK)) return 0x23; // check bit is really set and return with err
 6618              		.loc 1 1492 0
 6619 025e 194B     		ldr	r3, .L521
 6620 0260 9B79     		ldrb	r3, [r3, #6]
 6621 0262 DBB2     		uxtb	r3, r3
 6622 0264 1A1C     		mov	r2, r3
 6623 0266 0223     		mov	r3, #2
 6624 0268 1340     		and	r3, r2
 6625 026a 01D1     		bne	.L509
 6626              		.loc 1 1492 0 is_stmt 0
 6627 026c 2323     		mov	r3, #35
 6628 026e 24E0     		b	.L491
 6629              	.L509:
1493:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1494:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1495:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for Reference clock Status bit to clear
1496:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6630              		.loc 1 1496 0 is_stmt 1
 6631 0270 0023     		mov	r3, #0
 6632 0272 FB60     		str	r3, [r7, #12]
 6633 0274 09E0     		b	.L514
 6634              	.L517:
1497:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1498:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!(MCG_S & MCG_S_IREFST_MASK)) break; // jump out early if IREFST clears before loop finishe
 6635              		.loc 1 1498 0
 6636 0276 134B     		ldr	r3, .L521
 6637 0278 9B79     		ldrb	r3, [r3, #6]
 6638 027a DBB2     		uxtb	r3, r3
 6639 027c 1A1C     		mov	r2, r3
 6640 027e 1023     		mov	r3, #16
 6641 0280 1340     		and	r3, r2
 6642 0282 07D0     		beq	.L520
 6643              	.L515:
1496:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6644              		.loc 1 1496 0
 6645 0284 FB68     		ldr	r3, [r7, #12]
 6646 0286 0133     		add	r3, r3, #1
 6647 0288 FB60     		str	r3, [r7, #12]
 6648              	.L514:
1496:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6649              		.loc 1 1496 0 is_stmt 0
 6650 028a FA68     		ldr	r2, [r7, #12]
 6651 028c 1A4B     		ldr	r3, .L521+52
 6652 028e 9A42     		cmp	r2, r3
 6653 0290 F1DD     		ble	.L517
 6654 0292 00E0     		b	.L516
 6655              	.L520:
 6656              		.loc 1 1498 0 is_stmt 1
 6657 0294 C046     		mov	r8, r8
 6658              	.L516:
1499:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1500:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_S & MCG_S_IREFST_MASK) return 0x11; // check bit is really clear and return with error if
 6659              		.loc 1 1500 0
 6660 0296 0B4B     		ldr	r3, .L521
 6661 0298 9B79     		ldrb	r3, [r3, #6]
 6662 029a DBB2     		uxtb	r3, r3
 6663 029c 1A1C     		mov	r2, r3
 6664 029e 1023     		mov	r3, #16
 6665 02a0 1340     		and	r3, r2
 6666 02a2 01D0     		beq	.L518
 6667              		.loc 1 1500 0 is_stmt 0
 6668 02a4 1123     		mov	r3, #17
 6669 02a6 08E0     		b	.L491
 6670              	.L518:
1501:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1502:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FBE  
1503:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // It is recommended that the clock monitor is enabled when using an external clock as the clock so
1504:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // It is enabled here but can be removed if this is not required.
1505:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 |= MCG_C6_CME0_MASK;
 6671              		.loc 1 1505 0 is_stmt 1
 6672 02a8 064B     		ldr	r3, .L521
 6673 02aa 064A     		ldr	r2, .L521
 6674 02ac 5279     		ldrb	r2, [r2, #5]
 6675 02ae D2B2     		uxtb	r2, r2
 6676 02b0 2021     		mov	r1, #32
 6677 02b2 0A43     		orr	r2, r1
 6678 02b4 D2B2     		uxtb	r2, r2
 6679 02b6 5A71     		strb	r2, [r3, #5]
1506:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1507:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return mcg_out; // MCGOUT frequency equals FLL frequency
 6680              		.loc 1 1507 0
 6681 02b8 BB68     		ldr	r3, [r7, #8]
 6682              	.L491:
1508:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fei_fee
 6683              		.loc 1 1508 0
 6684 02ba 181C     		mov	r0, r3
 6685 02bc BD46     		mov	sp, r7
 6686 02be 06B0     		add	sp, sp, #24
 6687              		@ sp needed for prologue
 6688 02c0 80BD     		pop	{r7, pc}
 6689              	.L522:
 6690 02c2 C046     		.align	2
 6691              	.L521:
 6692 02c4 00400640 		.word	1074151424
 6693 02c8 80F0FA02 		.word	50000000
 6694 02cc 2F750000 		.word	29999
 6695 02d0 409C0000 		.word	40000
 6696 02d4 BFC62D00 		.word	2999999
 6697 02d8 0048E801 		.word	32000000
 6698 02dc 00127A00 		.word	8000000
 6699 02e0 D0121300 		.word	1250000
 6700 02e4 A0252600 		.word	2500000
 6701 02e8 404B4C00 		.word	5000000
 6702 02ec 80969800 		.word	10000000
 6703 02f0 002D3101 		.word	20000000
 6704 02f4 FF2C3101 		.word	19999999
 6705 02f8 CF070000 		.word	1999
 6706              		.cfi_endproc
 6707              	.LFE21:
 6709              		.section	.text.fee_fei,"ax",%progbits
 6710              		.align	2
 6711              		.global	fee_fei
 6712              		.code	16
 6713              		.thumb_func
 6715              	fee_fei:
 6716              	.LFB22:
1509:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1510:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1511:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fee_fei(int slow_irc_freq)
1512:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 6717              		.loc 1 1512 0
 6718              		.cfi_startproc
 6719 0000 80B5     		push	{r7, lr}
 6720              	.LCFI66:
 6721              		.cfi_def_cfa_offset 8
 6722              		.cfi_offset 7, -8
 6723              		.cfi_offset 14, -4
 6724 0002 84B0     		sub	sp, sp, #16
 6725              	.LCFI67:
 6726              		.cfi_def_cfa_offset 24
 6727 0004 00AF     		add	r7, sp, #0
 6728              	.LCFI68:
 6729              		.cfi_def_cfa_register 7
 6730 0006 7860     		str	r0, [r7, #4]
1513:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   short i;
1514:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int mcg_out;
1515:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1516:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check MCG is in FEE mode
1517:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 6731              		.loc 1 1517 0
 6732 0008 334B     		ldr	r3, .L536
 6733 000a 9B79     		ldrb	r3, [r3, #6]
 6734 000c DBB2     		uxtb	r3, r3
 6735 000e 1A1C     		mov	r2, r3
 6736 0010 0C23     		mov	r3, #12
 6737 0012 1340     		and	r3, r2
 6738 0014 9B08     		lsr	r3, r3, #2
 6739 0016 0DD1     		bne	.L524
1518:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_IREFST_MASK)) &&                             // check FLL ref is external re
 6740              		.loc 1 1518 0
 6741 0018 2F4B     		ldr	r3, .L536
 6742 001a 9B79     		ldrb	r3, [r3, #6]
 6743 001c DBB2     		uxtb	r3, r3
 6744 001e 1A1C     		mov	r2, r3
 6745 0020 1023     		mov	r3, #16
 6746 0022 1340     		and	r3, r2
1517:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 6747              		.loc 1 1517 0
 6748 0024 06D1     		bne	.L524
1519:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK))))                               // check PLLS mux has selected 
 6749              		.loc 1 1519 0
 6750 0026 2C4B     		ldr	r3, .L536
 6751 0028 9B79     		ldrb	r3, [r3, #6]
 6752 002a DBB2     		uxtb	r3, r3
 6753 002c 1A1C     		mov	r2, r3
 6754 002e 2023     		mov	r3, #32
 6755 0030 1340     		and	r3, r2
1517:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selcted
 6756              		.loc 1 1517 0
 6757 0032 01D0     		beq	.L525
 6758              	.L524:
1520:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1521:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x2;                                                     // return error code
 6759              		.loc 1 1521 0
 6760 0034 0223     		mov	r3, #2
 6761 0036 4AE0     		b	.L526
 6762              	.L525:
1522:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   } 
1523:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       
1524:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Check IRC frequency is within spec.
1525:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((slow_irc_freq < 31250) || (slow_irc_freq > 39063))
 6763              		.loc 1 1525 0
 6764 0038 7A68     		ldr	r2, [r7, #4]
 6765 003a 284B     		ldr	r3, .L536+4
 6766 003c 9A42     		cmp	r2, r3
 6767 003e 03DD     		ble	.L527
 6768              		.loc 1 1525 0 is_stmt 0
 6769 0040 7A68     		ldr	r2, [r7, #4]
 6770 0042 274B     		ldr	r3, .L536+8
 6771 0044 9A42     		cmp	r2, r3
 6772 0046 01DD     		ble	.L528
 6773              	.L527:
1526:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1527:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x31;
 6774              		.loc 1 1527 0 is_stmt 1
 6775 0048 3123     		mov	r3, #49
 6776 004a 40E0     		b	.L526
 6777              	.L528:
1528:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1529:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1530:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check resulting FLL frequency 
1531:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   mcg_out = fll_freq(slow_irc_freq); 
 6778              		.loc 1 1531 0
 6779 004c 7B68     		ldr	r3, [r7, #4]
 6780 004e 181C     		mov	r0, r3
 6781 0050 FFF7FEFF 		bl	fll_freq
 6782 0054 031C     		mov	r3, r0
 6783 0056 BB60     		str	r3, [r7, #8]
1532:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (mcg_out < 0x3C) {return mcg_out;} // If error code returned, return the code to calling funct
 6784              		.loc 1 1532 0
 6785 0058 BB68     		ldr	r3, [r7, #8]
 6786 005a 3B2B     		cmp	r3, #59
 6787 005c 01DC     		bgt	.L529
 6788              		.loc 1 1532 0 is_stmt 0
 6789 005e BB68     		ldr	r3, [r7, #8]
 6790 0060 35E0     		b	.L526
 6791              	.L529:
1533:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1534:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Ensure clock monitor is disabled before switching to FEI otherwise a loss of clock will trigger
1535:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C6 &= ~MCG_C6_CME0_MASK;
 6792              		.loc 1 1535 0 is_stmt 1
 6793 0062 1D4B     		ldr	r3, .L536
 6794 0064 1C4A     		ldr	r2, .L536
 6795 0066 5279     		ldrb	r2, [r2, #5]
 6796 0068 D2B2     		uxtb	r2, r2
 6797 006a 2021     		mov	r1, #32
 6798 006c 8A43     		bic	r2, r1
 6799 006e D2B2     		uxtb	r2, r2
 6800 0070 5A71     		strb	r2, [r3, #5]
1536:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1537:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Change FLL reference clock from external to internal by setting IREFS bit
1538:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_C1 |= MCG_C1_IREFS_MASK; // select internal reference
 6801              		.loc 1 1538 0
 6802 0072 194B     		ldr	r3, .L536
 6803 0074 184A     		ldr	r2, .L536
 6804 0076 1278     		ldrb	r2, [r2]
 6805 0078 D2B2     		uxtb	r2, r2
 6806 007a 0421     		mov	r1, #4
 6807 007c 0A43     		orr	r2, r1
 6808 007e D2B2     		uxtb	r2, r2
 6809 0080 1A70     		strb	r2, [r3]
1539:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1540:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // wait for Reference clock to switch to internal reference 
1541:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6810              		.loc 1 1541 0
 6811 0082 3B1C     		mov	r3, r7
 6812 0084 0E33     		add	r3, r3, #14
 6813 0086 0022     		mov	r2, #0
 6814 0088 1A80     		strh	r2, [r3]
 6815 008a 0DE0     		b	.L530
 6816              	.L533:
1542:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1543:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (MCG_S & MCG_S_IREFST_MASK) break; // jump out early if IREFST sets before loop finishes
 6817              		.loc 1 1543 0
 6818 008c 124B     		ldr	r3, .L536
 6819 008e 9B79     		ldrb	r3, [r3, #6]
 6820 0090 DBB2     		uxtb	r3, r3
 6821 0092 1A1C     		mov	r2, r3
 6822 0094 1023     		mov	r3, #16
 6823 0096 1340     		and	r3, r2
 6824 0098 0ED1     		bne	.L535
 6825              	.L531:
1541:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6826              		.loc 1 1541 0
 6827 009a 3B1C     		mov	r3, r7
 6828 009c 0E33     		add	r3, r3, #14
 6829 009e 3A1C     		mov	r2, r7
 6830 00a0 0E32     		add	r2, r2, #14
 6831 00a2 1288     		ldrh	r2, [r2]
 6832 00a4 0132     		add	r2, r2, #1
 6833 00a6 1A80     		strh	r2, [r3]
 6834              	.L530:
1541:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   for (i = 0 ; i < 2000 ; i++)
 6835              		.loc 1 1541 0 is_stmt 0
 6836 00a8 3B1C     		mov	r3, r7
 6837 00aa 0E33     		add	r3, r3, #14
 6838 00ac 0021     		mov	r1, #0
 6839 00ae 5A5E     		ldrsh	r2, [r3, r1]
 6840 00b0 0C4B     		ldr	r3, .L536+12
 6841 00b2 9A42     		cmp	r2, r3
 6842 00b4 EADD     		ble	.L533
 6843 00b6 00E0     		b	.L532
 6844              	.L535:
 6845              		.loc 1 1543 0 is_stmt 1
 6846 00b8 C046     		mov	r8, r8
 6847              	.L532:
1544:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1545:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (!(MCG_S & MCG_S_IREFST_MASK)) return 0x12; // check bit is really set and return with error i
 6848              		.loc 1 1545 0
 6849 00ba 074B     		ldr	r3, .L536
 6850 00bc 9B79     		ldrb	r3, [r3, #6]
 6851 00be DBB2     		uxtb	r3, r3
 6852 00c0 1A1C     		mov	r2, r3
 6853 00c2 1023     		mov	r3, #16
 6854 00c4 1340     		and	r3, r2
 6855 00c6 01D1     		bne	.L534
 6856              		.loc 1 1545 0 is_stmt 0
 6857 00c8 1223     		mov	r3, #18
 6858 00ca 00E0     		b	.L526
 6859              	.L534:
1546:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1547:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Now in FEI mode  
1548:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return mcg_out;  
 6860              		.loc 1 1548 0 is_stmt 1
 6861 00cc BB68     		ldr	r3, [r7, #8]
 6862              	.L526:
1549:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fee_fei
 6863              		.loc 1 1549 0
 6864 00ce 181C     		mov	r0, r3
 6865 00d0 BD46     		mov	sp, r7
 6866 00d2 04B0     		add	sp, sp, #16
 6867              		@ sp needed for prologue
 6868 00d4 80BD     		pop	{r7, pc}
 6869              	.L537:
 6870 00d6 C046     		.align	2
 6871              	.L536:
 6872 00d8 00400640 		.word	1074151424
 6873 00dc 117A0000 		.word	31249
 6874 00e0 97980000 		.word	39063
 6875 00e4 CF070000 		.word	1999
 6876              		.cfi_endproc
 6877              	.LFE22:
 6879              		.global	__aeabi_uidiv
 6880              		.global	__aeabi_i2f
 6881              		.global	__aeabi_fdiv
 6882              		.global	__aeabi_fmul
 6883              		.global	__aeabi_f2uiz
 6884              		.section	.text.atc,"ax",%progbits
 6885              		.align	2
 6886              		.global	atc
 6887              		.code	16
 6888              		.thumb_func
 6890              	atc:
 6891              	.LFB23:
1550:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1551:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1552:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1553:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** unsigned char atc(unsigned char irc_select, int irc_freq, int mcg_out_freq)
1554:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 6892              		.loc 1 1554 0
 6893              		.cfi_startproc
 6894 0000 90B5     		push	{r4, r7, lr}
 6895              	.LCFI69:
 6896              		.cfi_def_cfa_offset 12
 6897              		.cfi_offset 4, -12
 6898              		.cfi_offset 7, -8
 6899              		.cfi_offset 14, -4
 6900 0002 8BB0     		sub	sp, sp, #44
 6901              	.LCFI70:
 6902              		.cfi_def_cfa_offset 56
 6903 0004 00AF     		add	r7, sp, #0
 6904              	.LCFI71:
 6905              		.cfi_def_cfa_register 7
 6906 0006 B960     		str	r1, [r7, #8]
 6907 0008 7A60     		str	r2, [r7, #4]
 6908 000a 3B1C     		mov	r3, r7
 6909 000c 0F33     		add	r3, r3, #15
 6910 000e 021C     		add	r2, r0, #0
 6911 0010 1A70     		strb	r2, [r3]
1555:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned char mcg_mode;
1556:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   unsigned short atcv;
1557:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int bus_clock_freq;
1558:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int  bus_clk_div_val;
1559:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int orig_div;
1560:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int temp_reg;
1561:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1562:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select > 0) // force irc to 1 if greater than 0
 6912              		.loc 1 1562 0
 6913 0012 3B1C     		mov	r3, r7
 6914 0014 0F33     		add	r3, r3, #15
 6915 0016 1B78     		ldrb	r3, [r3]
 6916 0018 002B     		cmp	r3, #0
 6917 001a 03D0     		beq	.L539
1563:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1564:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     irc_select = 1;
 6918              		.loc 1 1564 0
 6919 001c 3B1C     		mov	r3, r7
 6920 001e 0F33     		add	r3, r3, #15
 6921 0020 0122     		mov	r2, #1
 6922 0022 1A70     		strb	r2, [r3]
 6923              	.L539:
1565:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1566:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1567:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   mcg_mode = what_mcg_mode(); // get present MCG mode
 6924              		.loc 1 1567 0
 6925 0024 3C1C     		mov	r4, r7
 6926 0026 2534     		add	r4, r4, #37
 6927 0028 FFF7FEFF 		bl	what_mcg_mode
 6928 002c 031C     		mov	r3, r0
 6929 002e 2370     		strb	r3, [r4]
1568:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((mcg_mode != PEE) && (mcg_mode != PBE) && (mcg_mode != FBE))
 6930              		.loc 1 1568 0
 6931 0030 3B1C     		mov	r3, r7
 6932 0032 2533     		add	r3, r3, #37
 6933 0034 1B78     		ldrb	r3, [r3]
 6934 0036 082B     		cmp	r3, #8
 6935 0038 0BD0     		beq	.L540
 6936              		.loc 1 1568 0 is_stmt 0
 6937 003a 3B1C     		mov	r3, r7
 6938 003c 2533     		add	r3, r3, #37
 6939 003e 1B78     		ldrb	r3, [r3]
 6940 0040 072B     		cmp	r3, #7
 6941 0042 06D0     		beq	.L540
 6942 0044 3B1C     		mov	r3, r7
 6943 0046 2533     		add	r3, r3, #37
 6944 0048 1B78     		ldrb	r3, [r3]
 6945 004a 052B     		cmp	r3, #5
 6946 004c 01D0     		beq	.L540
1569:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1570:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 1; // return error code if not in PEE, PBE or FBE modes
 6947              		.loc 1 1570 0 is_stmt 1
 6948 004e 0123     		mov	r3, #1
 6949 0050 11E1     		b	.L541
 6950              	.L540:
1571:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1572:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1573:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   orig_div = SIM_CLKDIV1; //store present clock divider values
 6951              		.loc 1 1573 0
 6952 0052 8B4A     		ldr	r2, .L556
 6953 0054 8B4B     		ldr	r3, .L556+4
 6954 0056 D358     		ldr	r3, [r2, r3]
 6955 0058 3B62     		str	r3, [r7, #32]
1574:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1575:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   bus_clk_div_val = mcg_out_freq / 16000000; // calculate bus clock divider to generate fastest all
 6956              		.loc 1 1575 0
 6957 005a 7B68     		ldr	r3, [r7, #4]
 6958 005c 181C     		mov	r0, r3
 6959 005e 8A49     		ldr	r1, .L556+8
 6960 0060 FFF7FEFF 		bl	__aeabi_idiv
 6961 0064 031C     		mov	r3, r0
 6962 0066 FB61     		str	r3, [r7, #28]
1576:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = SIM_CLKDIV1;
 6963              		.loc 1 1576 0
 6964 0068 854A     		ldr	r2, .L556
 6965 006a 864B     		ldr	r3, .L556+4
 6966 006c D358     		ldr	r3, [r2, r3]
 6967 006e BB61     		str	r3, [r7, #24]
1577:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg &= ~SIM_CLKDIV1_OUTDIV4_MASK; // clear dividers except core
 6968              		.loc 1 1577 0
 6969 0070 BA69     		ldr	r2, [r7, #24]
 6970 0072 864B     		ldr	r3, .L556+12
 6971 0074 1340     		and	r3, r2
 6972 0076 BB61     		str	r3, [r7, #24]
1578:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // set all bus and flash dividers to same value to ensure clocking restrictions are met
1579:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg |= SIM_CLKDIV1_OUTDIV4(bus_clk_div_val);
 6973              		.loc 1 1579 0
 6974 0078 FB69     		ldr	r3, [r7, #28]
 6975 007a 1A04     		lsl	r2, r3, #16
 6976 007c E023     		mov	r3, #224
 6977 007e DB02     		lsl	r3, r3, #11
 6978 0080 1A40     		and	r2, r3
 6979 0082 BB69     		ldr	r3, [r7, #24]
 6980 0084 1343     		orr	r3, r2
 6981 0086 BB61     		str	r3, [r7, #24]
1580:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   SIM_CLKDIV1 = temp_reg; // set actual dividers
 6982              		.loc 1 1580 0
 6983 0088 7D4A     		ldr	r2, .L556
 6984 008a B969     		ldr	r1, [r7, #24]
 6985 008c 7D4B     		ldr	r3, .L556+4
 6986 008e D150     		str	r1, [r2, r3]
1581:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1582:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   bus_clock_freq = mcg_out_freq / (((SIM_CLKDIV1) >> 16)+ 1);//For KL25, flash and bus use the same
 6987              		.loc 1 1582 0
 6988 0090 7A68     		ldr	r2, [r7, #4]
 6989 0092 7B49     		ldr	r1, .L556
 6990 0094 7B4B     		ldr	r3, .L556+4
 6991 0096 CB58     		ldr	r3, [r1, r3]
 6992 0098 1B0C     		lsr	r3, r3, #16
 6993 009a 0133     		add	r3, r3, #1
 6994 009c 101C     		mov	r0, r2
 6995 009e 191C     		mov	r1, r3
 6996 00a0 FFF7FEFF 		bl	__aeabi_uidiv
 6997 00a4 031C     		mov	r3, r0
 6998 00a6 7B61     		str	r3, [r7, #20]
1583:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((bus_clock_freq < 8000000) || (bus_clock_freq > 16000000))
 6999              		.loc 1 1583 0
 7000 00a8 7A69     		ldr	r2, [r7, #20]
 7001 00aa 794B     		ldr	r3, .L556+16
 7002 00ac 9A42     		cmp	r2, r3
 7003 00ae 03DD     		ble	.L542
 7004              		.loc 1 1583 0 is_stmt 0
 7005 00b0 7A69     		ldr	r2, [r7, #20]
 7006 00b2 754B     		ldr	r3, .L556+8
 7007 00b4 9A42     		cmp	r2, r3
 7008 00b6 05DD     		ble	.L543
 7009              	.L542:
1584:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1585:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7010              		.loc 1 1585 0 is_stmt 1
 7011 00b8 714A     		ldr	r2, .L556
 7012 00ba 396A     		ldr	r1, [r7, #32]
 7013 00bc 714B     		ldr	r3, .L556+4
 7014 00be D150     		str	r1, [r2, r3]
1586:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 3; // error, bus clock frequency is not within 8MHz to 16MHz
 7015              		.loc 1 1586 0
 7016 00c0 0323     		mov	r3, #3
 7017 00c2 D8E0     		b	.L541
 7018              	.L543:
1587:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1588:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****                 
1589:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if(!irc_select) //determine if slow or fast IRC to be trimmed
 7019              		.loc 1 1589 0
 7020 00c4 3B1C     		mov	r3, r7
 7021 00c6 0F33     		add	r3, r3, #15
 7022 00c8 1B78     		ldrb	r3, [r3]
 7023 00ca 002B     		cmp	r3, #0
 7024 00cc 13D1     		bne	.L544
1590:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1591:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (irc_freq < 31250) // check frequency is above min spec.
 7025              		.loc 1 1591 0
 7026 00ce BA68     		ldr	r2, [r7, #8]
 7027 00d0 704B     		ldr	r3, .L556+20
 7028 00d2 9A42     		cmp	r2, r3
 7029 00d4 05DC     		bgt	.L545
1592:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1593:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7030              		.loc 1 1593 0
 7031 00d6 6A4A     		ldr	r2, .L556
 7032 00d8 396A     		ldr	r1, [r7, #32]
 7033 00da 6A4B     		ldr	r3, .L556+4
 7034 00dc D150     		str	r1, [r2, r3]
1594:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       return 4;
 7035              		.loc 1 1594 0
 7036 00de 0423     		mov	r3, #4
 7037 00e0 C9E0     		b	.L541
 7038              	.L545:
1595:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1596:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (irc_freq > 39062) // check frequency is below max spec.
 7039              		.loc 1 1596 0
 7040 00e2 BA68     		ldr	r2, [r7, #8]
 7041 00e4 6C4B     		ldr	r3, .L556+24
 7042 00e6 9A42     		cmp	r2, r3
 7043 00e8 19DD     		ble	.L546
1597:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1598:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7044              		.loc 1 1598 0
 7045 00ea 654A     		ldr	r2, .L556
 7046 00ec 396A     		ldr	r1, [r7, #32]
 7047 00ee 654B     		ldr	r3, .L556+4
 7048 00f0 D150     		str	r1, [r2, r3]
1599:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       return 5;
 7049              		.loc 1 1599 0
 7050 00f2 0523     		mov	r3, #5
 7051 00f4 BFE0     		b	.L541
 7052              	.L544:
1600:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }         
1601:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1602:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1603:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1604:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (irc_freq < 3000000) // check frequency is above min spec.
 7053              		.loc 1 1604 0
 7054 00f6 BA68     		ldr	r2, [r7, #8]
 7055 00f8 684B     		ldr	r3, .L556+28
 7056 00fa 9A42     		cmp	r2, r3
 7057 00fc 05DC     		bgt	.L547
1605:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1606:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7058              		.loc 1 1606 0
 7059 00fe 604A     		ldr	r2, .L556
 7060 0100 396A     		ldr	r1, [r7, #32]
 7061 0102 604B     		ldr	r3, .L556+4
 7062 0104 D150     		str	r1, [r2, r3]
1607:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       return 6;
 7063              		.loc 1 1607 0
 7064 0106 0623     		mov	r3, #6
 7065 0108 B5E0     		b	.L541
 7066              	.L547:
1608:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1609:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (irc_freq > 5000000) // check frequency is below max spec.
 7067              		.loc 1 1609 0
 7068 010a BA68     		ldr	r2, [r7, #8]
 7069 010c 644B     		ldr	r3, .L556+32
 7070 010e 9A42     		cmp	r2, r3
 7071 0110 05DD     		ble	.L546
1610:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1611:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7072              		.loc 1 1611 0
 7073 0112 5B4A     		ldr	r2, .L556
 7074 0114 396A     		ldr	r1, [r7, #32]
 7075 0116 5B4B     		ldr	r3, .L556+4
 7076 0118 D150     		str	r1, [r2, r3]
1612:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       return 7;
 7077              		.loc 1 1612 0
 7078 011a 0723     		mov	r3, #7
 7079 011c ABE0     		b	.L541
 7080              	.L546:
1613:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }            
1614:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   } // if
1615:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         
1616:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Set up autocal registers, must use floating point calculation
1617:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (irc_select) 
 7081              		.loc 1 1617 0
 7082 011e 3B1C     		mov	r3, r7
 7083 0120 0F33     		add	r3, r3, #15
 7084 0122 1B78     		ldrb	r3, [r3]
 7085 0124 002B     		cmp	r3, #0
 7086 0126 1FD0     		beq	.L548
1618:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     atcv = (unsigned short)(128.0f * (21.0f * (bus_clock_freq / (float)irc_freq)));
 7087              		.loc 1 1618 0
 7088 0128 7869     		ldr	r0, [r7, #20]
 7089 012a FFF7FEFF 		bl	__aeabi_i2f
 7090 012e 041C     		add	r4, r0, #0
 7091 0130 B868     		ldr	r0, [r7, #8]
 7092 0132 FFF7FEFF 		bl	__aeabi_i2f
 7093 0136 031C     		add	r3, r0, #0
 7094 0138 201C     		add	r0, r4, #0
 7095 013a 191C     		add	r1, r3, #0
 7096 013c FFF7FEFF 		bl	__aeabi_fdiv
 7097 0140 031C     		add	r3, r0, #0
 7098 0142 181C     		add	r0, r3, #0
 7099 0144 5749     		ldr	r1, .L556+36
 7100 0146 FFF7FEFF 		bl	__aeabi_fmul
 7101 014a 031C     		add	r3, r0, #0
 7102 014c 181C     		add	r0, r3, #0
 7103 014e 8621     		mov	r1, #134
 7104 0150 C905     		lsl	r1, r1, #23
 7105 0152 FFF7FEFF 		bl	__aeabi_fmul
 7106 0156 031C     		add	r3, r0, #0
 7107 0158 3C1C     		mov	r4, r7
 7108 015a 2634     		add	r4, r4, #38
 7109 015c 181C     		add	r0, r3, #0
 7110 015e FFF7FEFF 		bl	__aeabi_f2uiz
 7111 0162 031C     		mov	r3, r0
 7112 0164 2380     		strh	r3, [r4]
 7113 0166 18E0     		b	.L549
 7114              	.L548:
1619:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1620:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     atcv = (unsigned short)(21.0f * (bus_clock_freq / (float)irc_freq));
 7115              		.loc 1 1620 0
 7116 0168 7869     		ldr	r0, [r7, #20]
 7117 016a FFF7FEFF 		bl	__aeabi_i2f
 7118 016e 041C     		add	r4, r0, #0
 7119 0170 B868     		ldr	r0, [r7, #8]
 7120 0172 FFF7FEFF 		bl	__aeabi_i2f
 7121 0176 031C     		add	r3, r0, #0
 7122 0178 201C     		add	r0, r4, #0
 7123 017a 191C     		add	r1, r3, #0
 7124 017c FFF7FEFF 		bl	__aeabi_fdiv
 7125 0180 031C     		add	r3, r0, #0
 7126 0182 181C     		add	r0, r3, #0
 7127 0184 4749     		ldr	r1, .L556+36
 7128 0186 FFF7FEFF 		bl	__aeabi_fmul
 7129 018a 031C     		add	r3, r0, #0
 7130 018c 3C1C     		mov	r4, r7
 7131 018e 2634     		add	r4, r4, #38
 7132 0190 181C     		add	r0, r3, #0
 7133 0192 FFF7FEFF 		bl	__aeabi_f2uiz
 7134 0196 031C     		mov	r3, r0
 7135 0198 2380     		strh	r3, [r4]
 7136              	.L549:
1621:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         
1622:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_ATCVL = (atcv & 0xFF); //Set ATCVL to lower 8 bits of count value
 7137              		.loc 1 1622 0
 7138 019a 434B     		ldr	r3, .L556+40
 7139 019c 3A1C     		mov	r2, r7
 7140 019e 2632     		add	r2, r2, #38
 7141 01a0 1288     		ldrh	r2, [r2]
 7142 01a2 D2B2     		uxtb	r2, r2
 7143 01a4 DA72     		strb	r2, [r3, #11]
1623:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_ATCVH = ((atcv & 0xFF00) >> 8); // Set ATCVH to upper 8 bits of count value
 7144              		.loc 1 1623 0
 7145 01a6 404B     		ldr	r3, .L556+40
 7146 01a8 3A1C     		mov	r2, r7
 7147 01aa 2632     		add	r2, r2, #38
 7148 01ac 1288     		ldrh	r2, [r2]
 7149 01ae 120A     		lsr	r2, r2, #8
 7150 01b0 92B2     		uxth	r2, r2
 7151 01b2 D2B2     		uxtb	r2, r2
 7152 01b4 9A72     		strb	r2, [r3, #10]
1624:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1625:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** // Enable autocal
1626:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_SC &= ~(MCG_SC_ATME_MASK | MCG_SC_ATMS_MASK |MCG_SC_ATMF_MASK); // clear auto trim settings
 7153              		.loc 1 1626 0
 7154 01b6 3C4B     		ldr	r3, .L556+40
 7155 01b8 3B4A     		ldr	r2, .L556+40
 7156 01ba 127A     		ldrb	r2, [r2, #8]
 7157 01bc D1B2     		uxtb	r1, r2
 7158 01be 1F22     		mov	r2, #31
 7159 01c0 0A40     		and	r2, r1
 7160 01c2 D2B2     		uxtb	r2, r2
 7161 01c4 1A72     		strb	r2, [r3, #8]
1627:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   temp_reg = (MCG_SC_ATME_MASK | (irc_select << MCG_SC_ATMS_SHIFT)); //Select IRC to trim and enabl
 7162              		.loc 1 1627 0
 7163 01c6 3B1C     		mov	r3, r7
 7164 01c8 0F33     		add	r3, r3, #15
 7165 01ca 1B78     		ldrb	r3, [r3]
 7166 01cc 9B01     		lsl	r3, r3, #6
 7167 01ce 8022     		mov	r2, #128
 7168 01d0 1343     		orr	r3, r2
 7169 01d2 BB61     		str	r3, [r7, #24]
1628:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   MCG_SC |= temp_reg;
 7170              		.loc 1 1628 0
 7171 01d4 344B     		ldr	r3, .L556+40
 7172 01d6 344A     		ldr	r2, .L556+40
 7173 01d8 127A     		ldrb	r2, [r2, #8]
 7174 01da D2B2     		uxtb	r2, r2
 7175 01dc D1B2     		uxtb	r1, r2
 7176 01de BA69     		ldr	r2, [r7, #24]
 7177 01e0 D2B2     		uxtb	r2, r2
 7178 01e2 0A43     		orr	r2, r1
 7179 01e4 D2B2     		uxtb	r2, r2
 7180 01e6 D2B2     		uxtb	r2, r2
 7181 01e8 1A72     		strb	r2, [r3, #8]
1629:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         
1630:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   while (MCG_SC & MCG_SC_ATME_MASK) {}; //poll for ATME bit to clear
 7182              		.loc 1 1630 0
 7183 01ea C046     		mov	r8, r8
 7184              	.L550:
 7185              		.loc 1 1630 0 is_stmt 0
 7186 01ec 2E4B     		ldr	r3, .L556+40
 7187 01ee 1B7A     		ldrb	r3, [r3, #8]
 7188 01f0 DBB2     		uxtb	r3, r3
 7189 01f2 DBB2     		uxtb	r3, r3
 7190 01f4 5BB2     		sxtb	r3, r3
 7191 01f6 002B     		cmp	r3, #0
 7192 01f8 F8DB     		blt	.L550
1631:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         
1632:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_SC & MCG_SC_ATMF_MASK) // check if error flag set
 7193              		.loc 1 1632 0 is_stmt 1
 7194 01fa 2B4B     		ldr	r3, .L556+40
 7195 01fc 1B7A     		ldrb	r3, [r3, #8]
 7196 01fe DBB2     		uxtb	r3, r3
 7197 0200 1A1C     		mov	r2, r3
 7198 0202 2023     		mov	r3, #32
 7199 0204 1340     		and	r3, r2
 7200 0206 05D0     		beq	.L551
1633:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1634:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7201              		.loc 1 1634 0
 7202 0208 1D4A     		ldr	r2, .L556
 7203 020a 396A     		ldr	r1, [r7, #32]
 7204 020c 1D4B     		ldr	r3, .L556+4
 7205 020e D150     		str	r1, [r2, r3]
1635:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 8;
 7206              		.loc 1 1635 0
 7207 0210 0823     		mov	r3, #8
 7208 0212 30E0     		b	.L541
 7209              	.L551:
1636:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   } 
1637:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else 
1638:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {      
1639:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     if (!irc_select)
 7210              		.loc 1 1639 0
 7211 0214 3B1C     		mov	r3, r7
 7212 0216 0F33     		add	r3, r3, #15
 7213 0218 1B78     		ldrb	r3, [r3]
 7214 021a 002B     		cmp	r3, #0
 7215 021c 0FD1     		bne	.L552
1640:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1641:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if ((MCG_C3 == 0xFF) || (MCG_C3 == 0))
 7216              		.loc 1 1641 0
 7217 021e 224B     		ldr	r3, .L556+40
 7218 0220 9B78     		ldrb	r3, [r3, #2]
 7219 0222 DBB2     		uxtb	r3, r3
 7220 0224 FF2B     		cmp	r3, #255
 7221 0226 04D0     		beq	.L553
 7222              		.loc 1 1641 0 is_stmt 0
 7223 0228 1F4B     		ldr	r3, .L556+40
 7224 022a 9B78     		ldrb	r3, [r3, #2]
 7225 022c DBB2     		uxtb	r3, r3
 7226 022e 002B     		cmp	r3, #0
 7227 0230 1CD1     		bne	.L554
 7228              	.L553:
1642:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       {
1643:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7229              		.loc 1 1643 0 is_stmt 1
 7230 0232 134A     		ldr	r2, .L556
 7231 0234 396A     		ldr	r1, [r7, #32]
 7232 0236 134B     		ldr	r3, .L556+4
 7233 0238 D150     		str	r1, [r2, r3]
1644:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         return 9;
 7234              		.loc 1 1644 0
 7235 023a 0923     		mov	r3, #9
 7236 023c 1BE0     		b	.L541
 7237              	.L552:
1645:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       }
1646:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1647:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     else
1648:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1649:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if ((((MCG_C4 & MCG_C4_FCTRIM_MASK) >> MCG_C4_FCTRIM_SHIFT) == 0xF) ||
 7238              		.loc 1 1649 0
 7239 023e 1A4B     		ldr	r3, .L556+40
 7240 0240 DB78     		ldrb	r3, [r3, #3]
 7241 0242 DBB2     		uxtb	r3, r3
 7242 0244 1A1C     		mov	r2, r3
 7243 0246 1E23     		mov	r3, #30
 7244 0248 1340     		and	r3, r2
 7245 024a 5B08     		lsr	r3, r3, #1
 7246 024c 0F2B     		cmp	r3, #15
 7247 024e 07D0     		beq	.L555
1650:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (((MCG_C4 & MCG_C4_FCTRIM_MASK) >> MCG_C4_FCTRIM_SHIFT) == 0))
 7248              		.loc 1 1650 0
 7249 0250 154B     		ldr	r3, .L556+40
 7250 0252 DB78     		ldrb	r3, [r3, #3]
 7251 0254 DBB2     		uxtb	r3, r3
 7252 0256 1A1C     		mov	r2, r3
 7253 0258 1E23     		mov	r3, #30
 7254 025a 1340     		and	r3, r2
 7255 025c 5B08     		lsr	r3, r3, #1
1649:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if ((((MCG_C4 & MCG_C4_FCTRIM_MASK) >> MCG_C4_FCTRIM_SHIFT) == 0xF) ||
 7256              		.loc 1 1649 0
 7257 025e 05D1     		bne	.L554
 7258              	.L555:
1651:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       {
1652:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7259              		.loc 1 1652 0
 7260 0260 074A     		ldr	r2, .L556
 7261 0262 396A     		ldr	r1, [r7, #32]
 7262 0264 074B     		ldr	r3, .L556+4
 7263 0266 D150     		str	r1, [r2, r3]
1653:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****         return 10;
 7264              		.loc 1 1653 0
 7265 0268 0A23     		mov	r3, #10
 7266 026a 04E0     		b	.L541
 7267              	.L554:
1654:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       }
1655:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1656:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1657:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   SIM_CLKDIV1 = orig_div; // set SIM_CLKDIV1 back to original value
 7268              		.loc 1 1657 0
 7269 026c 044A     		ldr	r2, .L556
 7270 026e 396A     		ldr	r1, [r7, #32]
 7271 0270 044B     		ldr	r3, .L556+4
 7272 0272 D150     		str	r1, [r2, r3]
1658:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return 0;
 7273              		.loc 1 1658 0
 7274 0274 0023     		mov	r3, #0
 7275              	.L541:
1659:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** }// atc
 7276              		.loc 1 1659 0
 7277 0276 181C     		mov	r0, r3
 7278 0278 BD46     		mov	sp, r7
 7279 027a 0BB0     		add	sp, sp, #44
 7280              		@ sp needed for prologue
 7281 027c 90BD     		pop	{r4, r7, pc}
 7282              	.L557:
 7283 027e C046     		.align	2
 7284              	.L556:
 7285 0280 00700440 		.word	1074032640
 7286 0284 44100000 		.word	4164
 7287 0288 0024F400 		.word	16000000
 7288 028c FFFFF8FF 		.word	-458753
 7289 0290 FF117A00 		.word	7999999
 7290 0294 117A0000 		.word	31249
 7291 0298 96980000 		.word	39062
 7292 029c BFC62D00 		.word	2999999
 7293 02a0 404B4C00 		.word	5000000
 7294 02a4 0000A841 		.word	1101529088
 7295 02a8 00400640 		.word	1074151424
 7296              		.cfi_endproc
 7297              	.LFE23:
 7299              		.section	.text.fll_freq,"ax",%progbits
 7300              		.align	2
 7301              		.global	fll_freq
 7302              		.code	16
 7303              		.thumb_func
 7305              	fll_freq:
 7306              	.LFB24:
1660:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1661:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1662:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1663:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1664:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** int fll_freq(int fll_ref)
1665:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 7307              		.loc 1 1665 0
 7308              		.cfi_startproc
 7309 0000 80B5     		push	{r7, lr}
 7310              	.LCFI72:
 7311              		.cfi_def_cfa_offset 8
 7312              		.cfi_offset 7, -8
 7313              		.cfi_offset 14, -4
 7314 0002 84B0     		sub	sp, sp, #16
 7315              	.LCFI73:
 7316              		.cfi_def_cfa_offset 24
 7317 0004 00AF     		add	r7, sp, #0
 7318              	.LCFI74:
 7319              		.cfi_def_cfa_register 7
 7320 0006 7860     		str	r0, [r7, #4]
1666:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   int fll_freq_hz;
1667:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1668:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check that only allowed ranges have been selected
1669:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (((MCG_C4 & MCG_C4_DRST_DRS_MASK) >> MCG_C4_DRST_DRS_SHIFT) > 0x1) 
 7321              		.loc 1 1669 0
 7322 0008 684B     		ldr	r3, .L596
 7323 000a DB78     		ldrb	r3, [r3, #3]
 7324 000c DBB2     		uxtb	r3, r3
 7325 000e 1A1C     		mov	r2, r3
 7326 0010 6023     		mov	r3, #96
 7327 0012 1340     		and	r3, r2
 7328 0014 5B09     		lsr	r3, r3, #5
 7329 0016 012B     		cmp	r3, #1
 7330 0018 01D9     		bls	.L559
1670:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1671:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0x3B; // return error code if DRS range 2 or 3 selected
 7331              		.loc 1 1671 0
 7332 001a 3B23     		mov	r3, #59
 7333 001c C2E0     		b	.L560
 7334              	.L559:
1672:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1673:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   
1674:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (MCG_C4 & MCG_C4_DMX32_MASK) // if DMX32 set
 7335              		.loc 1 1674 0
 7336 001e 634B     		ldr	r3, .L596
 7337 0020 DB78     		ldrb	r3, [r3, #3]
 7338 0022 DBB2     		uxtb	r3, r3
 7339 0024 DBB2     		uxtb	r3, r3
 7340 0026 5BB2     		sxtb	r3, r3
 7341 0028 002B     		cmp	r3, #0
 7342 002a 54DA     		bge	.L561
1675:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1676:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     switch ((MCG_C4 & MCG_C4_DRST_DRS_MASK) >> MCG_C4_DRST_DRS_SHIFT) // determine multiplier based
 7343              		.loc 1 1676 0
 7344 002c 5F4B     		ldr	r3, .L596
 7345 002e DB78     		ldrb	r3, [r3, #3]
 7346 0030 DBB2     		uxtb	r3, r3
 7347 0032 1A1C     		mov	r2, r3
 7348 0034 6023     		mov	r3, #96
 7349 0036 1340     		and	r3, r2
 7350 0038 5B09     		lsr	r3, r3, #5
 7351 003a 012B     		cmp	r3, #1
 7352 003c 17D0     		beq	.L564
 7353 003e 04D3     		bcc	.L563
 7354 0040 022B     		cmp	r3, #2
 7355 0042 26D0     		beq	.L565
 7356 0044 032B     		cmp	r3, #3
 7357 0046 35D0     		beq	.L566
 7358 0048 ABE0     		b	.L575
 7359              	.L563:
1677:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1678:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     case 0:
1679:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       fll_freq_hz = (fll_ref * 732);
 7360              		.loc 1 1679 0
 7361 004a 7B68     		ldr	r3, [r7, #4]
 7362 004c B722     		mov	r2, #183
 7363 004e 9200     		lsl	r2, r2, #2
 7364 0050 5343     		mul	r3, r2
 7365 0052 FB60     		str	r3, [r7, #12]
1680:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (fll_freq_hz < 20000000) {return 0x33;}
 7366              		.loc 1 1680 0
 7367 0054 FA68     		ldr	r2, [r7, #12]
 7368 0056 564B     		ldr	r3, .L596+4
 7369 0058 9A42     		cmp	r2, r3
 7370 005a 01DC     		bgt	.L567
 7371              		.loc 1 1680 0 is_stmt 0
 7372 005c 3323     		mov	r3, #51
 7373 005e A1E0     		b	.L560
 7374              	.L567:
1681:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       else if (fll_freq_hz > 25000000) {return 0x34;}
 7375              		.loc 1 1681 0 is_stmt 1
 7376 0060 FA68     		ldr	r2, [r7, #12]
 7377 0062 544B     		ldr	r3, .L596+8
 7378 0064 9A42     		cmp	r2, r3
 7379 0066 00DC     		bgt	.LCB7131
 7380 0068 8CE0     		b	.L588	@long jump
 7381              	.LCB7131:
 7382              		.loc 1 1681 0 is_stmt 0
 7383 006a 3423     		mov	r3, #52
 7384 006c 9AE0     		b	.L560
 7385              	.L564:
1682:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
1683:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     case 1:
1684:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       fll_freq_hz = (fll_ref * 1464);
 7386              		.loc 1 1684 0 is_stmt 1
 7387 006e 7B68     		ldr	r3, [r7, #4]
 7388 0070 B722     		mov	r2, #183
 7389 0072 D200     		lsl	r2, r2, #3
 7390 0074 5343     		mul	r3, r2
 7391 0076 FB60     		str	r3, [r7, #12]
1685:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (fll_freq_hz < 40000000) {return 0x35;}
 7392              		.loc 1 1685 0
 7393 0078 FA68     		ldr	r2, [r7, #12]
 7394 007a 4F4B     		ldr	r3, .L596+12
 7395 007c 9A42     		cmp	r2, r3
 7396 007e 01DC     		bgt	.L569
 7397              		.loc 1 1685 0 is_stmt 0
 7398 0080 3523     		mov	r3, #53
 7399 0082 8FE0     		b	.L560
 7400              	.L569:
1686:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       else if (fll_freq_hz > 50000000) {return 0x36;}
 7401              		.loc 1 1686 0 is_stmt 1
 7402 0084 FA68     		ldr	r2, [r7, #12]
 7403 0086 4D4B     		ldr	r3, .L596+16
 7404 0088 9A42     		cmp	r2, r3
 7405 008a 00DC     		bgt	.LCB7154
 7406 008c 7CE0     		b	.L589	@long jump
 7407              	.LCB7154:
 7408              		.loc 1 1686 0 is_stmt 0
 7409 008e 3623     		mov	r3, #54
 7410 0090 88E0     		b	.L560
 7411              	.L565:
1687:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
1688:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     case 2:
1689:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       fll_freq_hz = (fll_ref * 2197);
 7412              		.loc 1 1689 0 is_stmt 1
 7413 0092 7B68     		ldr	r3, [r7, #4]
 7414 0094 4A4A     		ldr	r2, .L596+20
 7415 0096 5343     		mul	r3, r2
 7416 0098 FB60     		str	r3, [r7, #12]
1690:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (fll_freq_hz < 60000000) {return 0x37;}
 7417              		.loc 1 1690 0
 7418 009a FA68     		ldr	r2, [r7, #12]
 7419 009c 494B     		ldr	r3, .L596+24
 7420 009e 9A42     		cmp	r2, r3
 7421 00a0 01DC     		bgt	.L571
 7422              		.loc 1 1690 0 is_stmt 0
 7423 00a2 3723     		mov	r3, #55
 7424 00a4 7EE0     		b	.L560
 7425              	.L571:
1691:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       else if (fll_freq_hz > 75000000) {return 0x38;}
 7426              		.loc 1 1691 0 is_stmt 1
 7427 00a6 FA68     		ldr	r2, [r7, #12]
 7428 00a8 474B     		ldr	r3, .L596+28
 7429 00aa 9A42     		cmp	r2, r3
 7430 00ac 00DC     		bgt	.LCB7176
 7431 00ae 6DE0     		b	.L590	@long jump
 7432              	.LCB7176:
 7433              		.loc 1 1691 0 is_stmt 0
 7434 00b0 3823     		mov	r3, #56
 7435 00b2 77E0     		b	.L560
 7436              	.L566:
1692:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
1693:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     case 3:
1694:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       fll_freq_hz = (fll_ref * 2929);
 7437              		.loc 1 1694 0 is_stmt 1
 7438 00b4 7B68     		ldr	r3, [r7, #4]
 7439 00b6 454A     		ldr	r2, .L596+32
 7440 00b8 5343     		mul	r3, r2
 7441 00ba FB60     		str	r3, [r7, #12]
1695:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (fll_freq_hz < 80000000) {return 0x39;}
 7442              		.loc 1 1695 0
 7443 00bc FA68     		ldr	r2, [r7, #12]
 7444 00be 444B     		ldr	r3, .L596+36
 7445 00c0 9A42     		cmp	r2, r3
 7446 00c2 01DC     		bgt	.L573
 7447              		.loc 1 1695 0 is_stmt 0
 7448 00c4 3923     		mov	r3, #57
 7449 00c6 6DE0     		b	.L560
 7450              	.L573:
1696:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       else if (fll_freq_hz > 100000000) {return 0x3A;}
 7451              		.loc 1 1696 0 is_stmt 1
 7452 00c8 FA68     		ldr	r2, [r7, #12]
 7453 00ca 424B     		ldr	r3, .L596+40
 7454 00cc 9A42     		cmp	r2, r3
 7455 00ce 00DC     		bgt	.LCB7198
 7456 00d0 5EE0     		b	.L591	@long jump
 7457              	.LCB7198:
 7458              		.loc 1 1696 0 is_stmt 0
 7459 00d2 3A23     		mov	r3, #58
 7460 00d4 66E0     		b	.L560
 7461              	.L561:
1697:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
1698:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1699:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1700:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else // if DMX32 = 0
1701:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1702:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     switch ((MCG_C4 & MCG_C4_DRST_DRS_MASK) >> MCG_C4_DRST_DRS_SHIFT) // determine multiplier based
 7462              		.loc 1 1702 0 is_stmt 1
 7463 00d6 354B     		ldr	r3, .L596
 7464 00d8 DB78     		ldrb	r3, [r3, #3]
 7465 00da DBB2     		uxtb	r3, r3
 7466 00dc 1A1C     		mov	r2, r3
 7467 00de 6023     		mov	r3, #96
 7468 00e0 1340     		and	r3, r2
 7469 00e2 5B09     		lsr	r3, r3, #5
 7470 00e4 012B     		cmp	r3, #1
 7471 00e6 17D0     		beq	.L577
 7472 00e8 04D3     		bcc	.L576
 7473 00ea 022B     		cmp	r3, #2
 7474 00ec 26D0     		beq	.L578
 7475 00ee 032B     		cmp	r3, #3
 7476 00f0 36D0     		beq	.L579
 7477 00f2 56E0     		b	.L575
 7478              	.L576:
1703:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     {
1704:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     case 0:
1705:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       fll_freq_hz = (fll_ref * 640);
 7479              		.loc 1 1705 0
 7480 00f4 7A68     		ldr	r2, [r7, #4]
 7481 00f6 131C     		mov	r3, r2
 7482 00f8 9B00     		lsl	r3, r3, #2
 7483 00fa 9B18     		add	r3, r3, r2
 7484 00fc DB01     		lsl	r3, r3, #7
 7485 00fe FB60     		str	r3, [r7, #12]
1706:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (fll_freq_hz < 20000000) {return 0x33;}
 7486              		.loc 1 1706 0
 7487 0100 FA68     		ldr	r2, [r7, #12]
 7488 0102 2B4B     		ldr	r3, .L596+4
 7489 0104 9A42     		cmp	r2, r3
 7490 0106 01DC     		bgt	.L580
 7491              		.loc 1 1706 0 is_stmt 0
 7492 0108 3323     		mov	r3, #51
 7493 010a 4BE0     		b	.L560
 7494              	.L580:
1707:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       else if (fll_freq_hz > 25000000) {return 0x34;}
 7495              		.loc 1 1707 0 is_stmt 1
 7496 010c FA68     		ldr	r2, [r7, #12]
 7497 010e 294B     		ldr	r3, .L596+8
 7498 0110 9A42     		cmp	r2, r3
 7499 0112 3FDD     		ble	.L592
 7500              		.loc 1 1707 0 is_stmt 0
 7501 0114 3423     		mov	r3, #52
 7502 0116 45E0     		b	.L560
 7503              	.L577:
1708:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
1709:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     case 1:
1710:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       fll_freq_hz = (fll_ref * 1280);
 7504              		.loc 1 1710 0 is_stmt 1
 7505 0118 7A68     		ldr	r2, [r7, #4]
 7506 011a 131C     		mov	r3, r2
 7507 011c 9B00     		lsl	r3, r3, #2
 7508 011e 9B18     		add	r3, r3, r2
 7509 0120 1B02     		lsl	r3, r3, #8
 7510 0122 FB60     		str	r3, [r7, #12]
1711:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (fll_freq_hz < 40000000) {return 0x35;}
 7511              		.loc 1 1711 0
 7512 0124 FA68     		ldr	r2, [r7, #12]
 7513 0126 244B     		ldr	r3, .L596+12
 7514 0128 9A42     		cmp	r2, r3
 7515 012a 01DC     		bgt	.L582
 7516              		.loc 1 1711 0 is_stmt 0
 7517 012c 3523     		mov	r3, #53
 7518 012e 39E0     		b	.L560
 7519              	.L582:
1712:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       else if (fll_freq_hz > 50000000) {return 0x36;}
 7520              		.loc 1 1712 0 is_stmt 1
 7521 0130 FA68     		ldr	r2, [r7, #12]
 7522 0132 224B     		ldr	r3, .L596+16
 7523 0134 9A42     		cmp	r2, r3
 7524 0136 2FDD     		ble	.L593
 7525              		.loc 1 1712 0 is_stmt 0
 7526 0138 3623     		mov	r3, #54
 7527 013a 33E0     		b	.L560
 7528              	.L578:
1713:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
1714:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     case 2:
1715:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       fll_freq_hz = (fll_ref * 1920);
 7529              		.loc 1 1715 0 is_stmt 1
 7530 013c 7A68     		ldr	r2, [r7, #4]
 7531 013e 131C     		mov	r3, r2
 7532 0140 1B01     		lsl	r3, r3, #4
 7533 0142 9B1A     		sub	r3, r3, r2
 7534 0144 DB01     		lsl	r3, r3, #7
 7535 0146 FB60     		str	r3, [r7, #12]
1716:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (fll_freq_hz < 60000000) {return 0x37;}
 7536              		.loc 1 1716 0
 7537 0148 FA68     		ldr	r2, [r7, #12]
 7538 014a 1E4B     		ldr	r3, .L596+24
 7539 014c 9A42     		cmp	r2, r3
 7540 014e 01DC     		bgt	.L584
 7541              		.loc 1 1716 0 is_stmt 0
 7542 0150 3723     		mov	r3, #55
 7543 0152 27E0     		b	.L560
 7544              	.L584:
1717:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       else if (fll_freq_hz > 75000000) {return 0x38;}
 7545              		.loc 1 1717 0 is_stmt 1
 7546 0154 FA68     		ldr	r2, [r7, #12]
 7547 0156 1C4B     		ldr	r3, .L596+28
 7548 0158 9A42     		cmp	r2, r3
 7549 015a 1FDD     		ble	.L594
 7550              		.loc 1 1717 0 is_stmt 0
 7551 015c 3823     		mov	r3, #56
 7552 015e 21E0     		b	.L560
 7553              	.L579:
1718:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
1719:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     case 3:
1720:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       fll_freq_hz = (fll_ref * 2560);
 7554              		.loc 1 1720 0 is_stmt 1
 7555 0160 7A68     		ldr	r2, [r7, #4]
 7556 0162 131C     		mov	r3, r2
 7557 0164 9B00     		lsl	r3, r3, #2
 7558 0166 9B18     		add	r3, r3, r2
 7559 0168 5B02     		lsl	r3, r3, #9
 7560 016a FB60     		str	r3, [r7, #12]
1721:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       if (fll_freq_hz < 80000000) {return 0x39;}
 7561              		.loc 1 1721 0
 7562 016c FA68     		ldr	r2, [r7, #12]
 7563 016e 184B     		ldr	r3, .L596+36
 7564 0170 9A42     		cmp	r2, r3
 7565 0172 01DC     		bgt	.L586
 7566              		.loc 1 1721 0 is_stmt 0
 7567 0174 3923     		mov	r3, #57
 7568 0176 15E0     		b	.L560
 7569              	.L586:
1722:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       else if (fll_freq_hz > 100000000) {return 0x3A;}
 7570              		.loc 1 1722 0 is_stmt 1
 7571 0178 FA68     		ldr	r2, [r7, #12]
 7572 017a 164B     		ldr	r3, .L596+40
 7573 017c 9A42     		cmp	r2, r3
 7574 017e 0FDD     		ble	.L595
 7575              		.loc 1 1722 0 is_stmt 0
 7576 0180 3A23     		mov	r3, #58
 7577 0182 0FE0     		b	.L560
 7578              	.L588:
1682:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
 7579              		.loc 1 1682 0 is_stmt 1
 7580 0184 C046     		mov	r8, r8
 7581 0186 0CE0     		b	.L575
 7582              	.L589:
1687:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
 7583              		.loc 1 1687 0
 7584 0188 C046     		mov	r8, r8
 7585 018a 0AE0     		b	.L575
 7586              	.L590:
1692:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
 7587              		.loc 1 1692 0
 7588 018c C046     		mov	r8, r8
 7589 018e 08E0     		b	.L575
 7590              	.L591:
1697:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
 7591              		.loc 1 1697 0
 7592 0190 C046     		mov	r8, r8
 7593 0192 06E0     		b	.L575
 7594              	.L592:
1708:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
 7595              		.loc 1 1708 0
 7596 0194 C046     		mov	r8, r8
 7597 0196 04E0     		b	.L575
 7598              	.L593:
1713:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
 7599              		.loc 1 1713 0
 7600 0198 C046     		mov	r8, r8
 7601 019a 02E0     		b	.L575
 7602              	.L594:
1718:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
 7603              		.loc 1 1718 0
 7604 019c C046     		mov	r8, r8
 7605 019e 00E0     		b	.L575
 7606              	.L595:
1723:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       break;
 7607              		.loc 1 1723 0
 7608 01a0 C046     		mov	r8, r8
 7609              	.L575:
1724:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     }
1725:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }    
1726:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   return fll_freq_hz;
 7610              		.loc 1 1726 0
 7611 01a2 FB68     		ldr	r3, [r7, #12]
 7612              	.L560:
1727:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // fll_freq
 7613              		.loc 1 1727 0
 7614 01a4 181C     		mov	r0, r3
 7615 01a6 BD46     		mov	sp, r7
 7616 01a8 04B0     		add	sp, sp, #16
 7617              		@ sp needed for prologue
 7618 01aa 80BD     		pop	{r7, pc}
 7619              	.L597:
 7620              		.align	2
 7621              	.L596:
 7622 01ac 00400640 		.word	1074151424
 7623 01b0 FF2C3101 		.word	19999999
 7624 01b4 40787D01 		.word	25000000
 7625 01b8 FF596202 		.word	39999999
 7626 01bc 80F0FA02 		.word	50000000
 7627 01c0 95080000 		.word	2197
 7628 01c4 FF869303 		.word	59999999
 7629 01c8 C0687804 		.word	75000000
 7630 01cc 710B0000 		.word	2929
 7631 01d0 FFB3C404 		.word	79999999
 7632 01d4 00E1F505 		.word	100000000
 7633              		.cfi_endproc
 7634              	.LFE24:
 7636              		.section	.text.what_mcg_mode,"ax",%progbits
 7637              		.align	2
 7638              		.global	what_mcg_mode
 7639              		.code	16
 7640              		.thumb_func
 7642              	what_mcg_mode:
 7643              	.LFB25:
1728:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1729:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1730:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** unsigned char what_mcg_mode(void)
1731:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {
 7644              		.loc 1 1731 0
 7645              		.cfi_startproc
 7646 0000 80B5     		push	{r7, lr}
 7647              	.LCFI75:
 7648              		.cfi_def_cfa_offset 8
 7649              		.cfi_offset 7, -8
 7650              		.cfi_offset 14, -4
 7651 0002 00AF     		add	r7, sp, #0
 7652              	.LCFI76:
 7653              		.cfi_def_cfa_register 7
1732:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // check if in FEI mode
1733:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) &&      // check CLKS mux has selc
 7654              		.loc 1 1733 0
 7655 0004 724B     		ldr	r3, .L608
 7656 0006 9B79     		ldrb	r3, [r3, #6]
 7657 0008 DBB2     		uxtb	r3, r3
 7658 000a 1A1C     		mov	r2, r3
 7659 000c 0C23     		mov	r3, #12
 7660 000e 1340     		and	r3, r2
 7661 0010 9B08     		lsr	r3, r3, #2
 7662 0012 0FD1     		bne	.L599
1734:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                     // check FLL ref is intern
 7663              		.loc 1 1734 0
 7664 0014 6E4B     		ldr	r3, .L608
 7665 0016 9B79     		ldrb	r3, [r3, #6]
 7666 0018 DBB2     		uxtb	r3, r3
 7667 001a 1A1C     		mov	r2, r3
 7668 001c 1023     		mov	r3, #16
 7669 001e 1340     		and	r3, r2
1733:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) &&      // check CLKS mux has selc
 7670              		.loc 1 1733 0
 7671 0020 08D0     		beq	.L599
1735:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (!(MCG_S & MCG_S_PLLST_MASK)))                                     // check PLLS mux has sele
 7672              		.loc 1 1735 0
 7673 0022 6B4B     		ldr	r3, .L608
 7674 0024 9B79     		ldrb	r3, [r3, #6]
 7675 0026 DBB2     		uxtb	r3, r3
 7676 0028 1A1C     		mov	r2, r3
 7677 002a 2023     		mov	r3, #32
 7678 002c 1340     		and	r3, r2
1734:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****       (MCG_S & MCG_S_IREFST_MASK) &&                                     // check FLL ref is intern
 7679              		.loc 1 1734 0
 7680 002e 01D1     		bne	.L599
1736:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1737:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return FEI;                                                          // return FEI code
 7681              		.loc 1 1737 0
 7682 0030 0323     		mov	r3, #3
 7683 0032 CAE0     		b	.L600
 7684              	.L599:
1738:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1739:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check MCG is in PEE mode
1740:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) && // check CLKS mux has selc
 7685              		.loc 1 1740 0
 7686 0034 664B     		ldr	r3, .L608
 7687 0036 9B79     		ldrb	r3, [r3, #6]
 7688 0038 DBB2     		uxtb	r3, r3
 7689 003a 1A1C     		mov	r2, r3
 7690 003c 0C23     		mov	r3, #12
 7691 003e 1340     		and	r3, r2
 7692 0040 9B08     		lsr	r3, r3, #2
 7693 0042 032B     		cmp	r3, #3
 7694 0044 0FD1     		bne	.L601
1741:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7695              		.loc 1 1741 0
 7696 0046 624B     		ldr	r3, .L608
 7697 0048 9B79     		ldrb	r3, [r3, #6]
 7698 004a DBB2     		uxtb	r3, r3
 7699 004c 1A1C     		mov	r2, r3
 7700 004e 1023     		mov	r3, #16
 7701 0050 1340     		and	r3, r2
1740:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x3) && // check CLKS mux has selc
 7702              		.loc 1 1740 0
 7703 0052 08D1     		bne	.L601
1742:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_S & MCG_S_PLLST_MASK))                                    // check PLLS mux has sele
 7704              		.loc 1 1742 0
 7705 0054 5E4B     		ldr	r3, .L608
 7706 0056 9B79     		ldrb	r3, [r3, #6]
 7707 0058 DBB2     		uxtb	r3, r3
 7708 005a 1A1C     		mov	r2, r3
 7709 005c 2023     		mov	r3, #32
 7710 005e 1340     		and	r3, r2
1741:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7711              		.loc 1 1741 0
 7712 0060 01D0     		beq	.L601
1743:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1744:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return PEE;                                                          // return PEE code
 7713              		.loc 1 1744 0
 7714 0062 0823     		mov	r3, #8
 7715 0064 B1E0     		b	.L600
 7716              	.L601:
1745:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1746:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check MCG is in PBE mode
1747:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selc
 7717              		.loc 1 1747 0
 7718 0066 5A4B     		ldr	r3, .L608
 7719 0068 9B79     		ldrb	r3, [r3, #6]
 7720 006a DBB2     		uxtb	r3, r3
 7721 006c 1A1C     		mov	r2, r3
 7722 006e 0C23     		mov	r3, #12
 7723 0070 1340     		and	r3, r2
 7724 0072 9B08     		lsr	r3, r3, #2
 7725 0074 022B     		cmp	r3, #2
 7726 0076 16D1     		bne	.L602
1748:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7727              		.loc 1 1748 0
 7728 0078 554B     		ldr	r3, .L608
 7729 007a 9B79     		ldrb	r3, [r3, #6]
 7730 007c DBB2     		uxtb	r3, r3
 7731 007e 1A1C     		mov	r2, r3
 7732 0080 1023     		mov	r3, #16
 7733 0082 1340     		and	r3, r2
1747:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selc
 7734              		.loc 1 1747 0
 7735 0084 0FD1     		bne	.L602
1749:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_S & MCG_S_PLLST_MASK) &&                                  // check PLLS mux has sele
 7736              		.loc 1 1749 0
 7737 0086 524B     		ldr	r3, .L608
 7738 0088 9B79     		ldrb	r3, [r3, #6]
 7739 008a DBB2     		uxtb	r3, r3
 7740 008c 1A1C     		mov	r2, r3
 7741 008e 2023     		mov	r3, #32
 7742 0090 1340     		and	r3, r2
1748:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7743              		.loc 1 1748 0
 7744 0092 08D0     		beq	.L602
1750:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_C2 & MCG_C2_LP_MASK)))                                  // check MCG_C2[LP] bit is
 7745              		.loc 1 1750 0
 7746 0094 4E4B     		ldr	r3, .L608
 7747 0096 5B78     		ldrb	r3, [r3, #1]
 7748 0098 DBB2     		uxtb	r3, r3
 7749 009a 1A1C     		mov	r2, r3
 7750 009c 0223     		mov	r3, #2
 7751 009e 1340     		and	r3, r2
1749:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_S & MCG_S_PLLST_MASK) &&                                  // check PLLS mux has sele
 7752              		.loc 1 1749 0
 7753 00a0 01D1     		bne	.L602
1751:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1752:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return PBE;                                                          // return PBE code
 7754              		.loc 1 1752 0
 7755 00a2 0723     		mov	r3, #7
 7756 00a4 91E0     		b	.L600
 7757              	.L602:
1753:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1754:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check MCG is in FBE mode
1755:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selc
 7758              		.loc 1 1755 0
 7759 00a6 4A4B     		ldr	r3, .L608
 7760 00a8 9B79     		ldrb	r3, [r3, #6]
 7761 00aa DBB2     		uxtb	r3, r3
 7762 00ac 1A1C     		mov	r2, r3
 7763 00ae 0C23     		mov	r3, #12
 7764 00b0 1340     		and	r3, r2
 7765 00b2 9B08     		lsr	r3, r3, #2
 7766 00b4 022B     		cmp	r3, #2
 7767 00b6 16D1     		bne	.L603
1756:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7768              		.loc 1 1756 0
 7769 00b8 454B     		ldr	r3, .L608
 7770 00ba 9B79     		ldrb	r3, [r3, #6]
 7771 00bc DBB2     		uxtb	r3, r3
 7772 00be 1A1C     		mov	r2, r3
 7773 00c0 1023     		mov	r3, #16
 7774 00c2 1340     		and	r3, r2
1755:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selc
 7775              		.loc 1 1755 0
 7776 00c4 0FD1     		bne	.L603
1757:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_PLLST_MASK)) &&                               // check PLLS mux has sele
 7777              		.loc 1 1757 0
 7778 00c6 424B     		ldr	r3, .L608
 7779 00c8 9B79     		ldrb	r3, [r3, #6]
 7780 00ca DBB2     		uxtb	r3, r3
 7781 00cc 1A1C     		mov	r2, r3
 7782 00ce 2023     		mov	r3, #32
 7783 00d0 1340     		and	r3, r2
1756:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7784              		.loc 1 1756 0
 7785 00d2 08D1     		bne	.L603
1758:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_C2 & MCG_C2_LP_MASK)))                                  // check MCG_C2[LP] bit is
 7786              		.loc 1 1758 0
 7787 00d4 3E4B     		ldr	r3, .L608
 7788 00d6 5B78     		ldrb	r3, [r3, #1]
 7789 00d8 DBB2     		uxtb	r3, r3
 7790 00da 1A1C     		mov	r2, r3
 7791 00dc 0223     		mov	r3, #2
 7792 00de 1340     		and	r3, r2
1757:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_PLLST_MASK)) &&                               // check PLLS mux has sele
 7793              		.loc 1 1757 0
 7794 00e0 01D1     		bne	.L603
1759:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1760:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return FBE;                                                          // return FBE code
 7795              		.loc 1 1760 0
 7796 00e2 0523     		mov	r3, #5
 7797 00e4 71E0     		b	.L600
 7798              	.L603:
1761:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1762:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check MCG is in BLPE mode
1763:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selc
 7799              		.loc 1 1763 0
 7800 00e6 3A4B     		ldr	r3, .L608
 7801 00e8 9B79     		ldrb	r3, [r3, #6]
 7802 00ea DBB2     		uxtb	r3, r3
 7803 00ec 1A1C     		mov	r2, r3
 7804 00ee 0C23     		mov	r3, #12
 7805 00f0 1340     		and	r3, r2
 7806 00f2 9B08     		lsr	r3, r3, #2
 7807 00f4 022B     		cmp	r3, #2
 7808 00f6 0FD1     		bne	.L604
1764:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7809              		.loc 1 1764 0
 7810 00f8 354B     		ldr	r3, .L608
 7811 00fa 9B79     		ldrb	r3, [r3, #6]
 7812 00fc DBB2     		uxtb	r3, r3
 7813 00fe 1A1C     		mov	r2, r3
 7814 0100 1023     		mov	r3, #16
 7815 0102 1340     		and	r3, r2
1763:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x2) && // check CLKS mux has selc
 7816              		.loc 1 1763 0
 7817 0104 08D1     		bne	.L604
1765:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_C2 & MCG_C2_LP_MASK))                                     // check MCG_C2[LP] bit is
 7818              		.loc 1 1765 0
 7819 0106 324B     		ldr	r3, .L608
 7820 0108 5B78     		ldrb	r3, [r3, #1]
 7821 010a DBB2     		uxtb	r3, r3
 7822 010c 1A1C     		mov	r2, r3
 7823 010e 0223     		mov	r3, #2
 7824 0110 1340     		and	r3, r2
1764:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7825              		.loc 1 1764 0
 7826 0112 01D0     		beq	.L604
1766:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1767:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return BLPE;                                                         // return BLPE code
 7827              		.loc 1 1767 0
 7828 0114 0623     		mov	r3, #6
 7829 0116 58E0     		b	.L600
 7830              	.L604:
1768:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1769:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // check if in BLPI mode
1770:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selc
 7831              		.loc 1 1770 0
 7832 0118 2D4B     		ldr	r3, .L608
 7833 011a 9B79     		ldrb	r3, [r3, #6]
 7834 011c DBB2     		uxtb	r3, r3
 7835 011e 1A1C     		mov	r2, r3
 7836 0120 0C23     		mov	r3, #12
 7837 0122 1340     		and	r3, r2
 7838 0124 9B08     		lsr	r3, r3, #2
 7839 0126 012B     		cmp	r3, #1
 7840 0128 16D1     		bne	.L605
1771:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_S & MCG_S_IREFST_MASK) &&                                 // check FLL ref is intern
 7841              		.loc 1 1771 0
 7842 012a 294B     		ldr	r3, .L608
 7843 012c 9B79     		ldrb	r3, [r3, #6]
 7844 012e DBB2     		uxtb	r3, r3
 7845 0130 1A1C     		mov	r2, r3
 7846 0132 1023     		mov	r3, #16
 7847 0134 1340     		and	r3, r2
1770:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selc
 7848              		.loc 1 1770 0
 7849 0136 0FD0     		beq	.L605
1772:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_PLLST_MASK)) &&                               // check PLLS mux has sele
 7850              		.loc 1 1772 0
 7851 0138 254B     		ldr	r3, .L608
 7852 013a 9B79     		ldrb	r3, [r3, #6]
 7853 013c DBB2     		uxtb	r3, r3
 7854 013e 1A1C     		mov	r2, r3
 7855 0140 2023     		mov	r3, #32
 7856 0142 1340     		and	r3, r2
1771:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_S & MCG_S_IREFST_MASK) &&                                 // check FLL ref is intern
 7857              		.loc 1 1771 0
 7858 0144 08D1     		bne	.L605
1773:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_C2 & MCG_C2_LP_MASK))                                     // check LP bit is set
 7859              		.loc 1 1773 0
 7860 0146 224B     		ldr	r3, .L608
 7861 0148 5B78     		ldrb	r3, [r3, #1]
 7862 014a DBB2     		uxtb	r3, r3
 7863 014c 1A1C     		mov	r2, r3
 7864 014e 0223     		mov	r3, #2
 7865 0150 1340     		and	r3, r2
1772:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_PLLST_MASK)) &&                               // check PLLS mux has sele
 7866              		.loc 1 1772 0
 7867 0152 01D0     		beq	.L605
1774:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1775:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return BLPI;                                                         // return BLPI code
 7868              		.loc 1 1775 0
 7869 0154 0123     		mov	r3, #1
 7870 0156 38E0     		b	.L600
 7871              	.L605:
1776:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1777:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // check if in FBI mode
1778:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selc
 7872              		.loc 1 1778 0
 7873 0158 1D4B     		ldr	r3, .L608
 7874 015a 9B79     		ldrb	r3, [r3, #6]
 7875 015c DBB2     		uxtb	r3, r3
 7876 015e 1A1C     		mov	r2, r3
 7877 0160 0C23     		mov	r3, #12
 7878 0162 1340     		and	r3, r2
 7879 0164 9B08     		lsr	r3, r3, #2
 7880 0166 012B     		cmp	r3, #1
 7881 0168 16D1     		bne	.L606
1779:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_S & MCG_S_IREFST_MASK) &&                                 // check FLL ref is intern
 7882              		.loc 1 1779 0
 7883 016a 194B     		ldr	r3, .L608
 7884 016c 9B79     		ldrb	r3, [r3, #6]
 7885 016e DBB2     		uxtb	r3, r3
 7886 0170 1A1C     		mov	r2, r3
 7887 0172 1023     		mov	r3, #16
 7888 0174 1340     		and	r3, r2
1778:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x1) && // check CLKS mux has selc
 7889              		.loc 1 1778 0
 7890 0176 0FD0     		beq	.L606
1780:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_PLLST_MASK)) &&                               // check PLLS mux has sele
 7891              		.loc 1 1780 0
 7892 0178 154B     		ldr	r3, .L608
 7893 017a 9B79     		ldrb	r3, [r3, #6]
 7894 017c DBB2     		uxtb	r3, r3
 7895 017e 1A1C     		mov	r2, r3
 7896 0180 2023     		mov	r3, #32
 7897 0182 1340     		and	r3, r2
1779:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (MCG_S & MCG_S_IREFST_MASK) &&                                 // check FLL ref is intern
 7898              		.loc 1 1779 0
 7899 0184 08D1     		bne	.L606
1781:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_C2 & MCG_C2_LP_MASK)))                                  // check LP bit is clear
 7900              		.loc 1 1781 0
 7901 0186 124B     		ldr	r3, .L608
 7902 0188 5B78     		ldrb	r3, [r3, #1]
 7903 018a DBB2     		uxtb	r3, r3
 7904 018c 1A1C     		mov	r2, r3
 7905 018e 0223     		mov	r3, #2
 7906 0190 1340     		and	r3, r2
1780:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_PLLST_MASK)) &&                               // check PLLS mux has sele
 7907              		.loc 1 1780 0
 7908 0192 01D1     		bne	.L606
1782:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {  
1783:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return FBI;                                                          // return FBI code 
 7909              		.loc 1 1783 0
 7910 0194 0223     		mov	r3, #2
 7911 0196 18E0     		b	.L600
 7912              	.L606:
1784:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1785:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   // Check MCG is in FEE mode
1786:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selc
 7913              		.loc 1 1786 0
 7914 0198 0D4B     		ldr	r3, .L608
 7915 019a 9B79     		ldrb	r3, [r3, #6]
 7916 019c DBB2     		uxtb	r3, r3
 7917 019e 1A1C     		mov	r2, r3
 7918 01a0 0C23     		mov	r3, #12
 7919 01a2 1340     		and	r3, r2
 7920 01a4 9B08     		lsr	r3, r3, #2
 7921 01a6 0FD1     		bne	.L607
1787:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7922              		.loc 1 1787 0
 7923 01a8 094B     		ldr	r3, .L608
 7924 01aa 9B79     		ldrb	r3, [r3, #6]
 7925 01ac DBB2     		uxtb	r3, r3
 7926 01ae 1A1C     		mov	r2, r3
 7927 01b0 1023     		mov	r3, #16
 7928 01b2 1340     		and	r3, r2
1786:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else if ((((MCG_S & MCG_S_CLKST_MASK) >> MCG_S_CLKST_SHIFT) == 0x0) && // check CLKS mux has selc
 7929              		.loc 1 1786 0
 7930 01b4 08D1     		bne	.L607
1788:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_PLLST_MASK)))                                 // check PLLS mux has sele
 7931              		.loc 1 1788 0
 7932 01b6 064B     		ldr	r3, .L608
 7933 01b8 9B79     		ldrb	r3, [r3, #6]
 7934 01ba DBB2     		uxtb	r3, r3
 7935 01bc 1A1C     		mov	r2, r3
 7936 01be 2023     		mov	r3, #32
 7937 01c0 1340     		and	r3, r2
1787:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****           (!(MCG_S & MCG_S_IREFST_MASK)) &&                              // check FLL ref is extern
 7938              		.loc 1 1787 0
 7939 01c2 01D1     		bne	.L607
1789:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1790:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return FEE;                                                          // return FEE code
 7940              		.loc 1 1790 0
 7941 01c4 0423     		mov	r3, #4
 7942 01c6 00E0     		b	.L600
 7943              	.L607:
1791:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1792:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1793:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1794:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     return 0;                                                            // error condition
 7944              		.loc 1 1794 0
 7945 01c8 0023     		mov	r3, #0
 7946              	.L600:
1795:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1796:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** } // what_mcg_mode
 7947              		.loc 1 1796 0
 7948 01ca 181C     		mov	r0, r3
 7949 01cc BD46     		mov	sp, r7
 7950              		@ sp needed for prologue
 7951 01ce 80BD     		pop	{r7, pc}
 7952              	.L609:
 7953              		.align	2
 7954              	.L608:
 7955 01d0 00400640 		.word	1074151424
 7956              		.cfi_endproc
 7957              	.LFE25:
 7959              		.section	.text.clk_monitor_0,"ax",%progbits
 7960              		.align	2
 7961              		.global	clk_monitor_0
 7962              		.code	16
 7963              		.thumb_func
 7965              	clk_monitor_0:
 7966              	.LFB26:
1797:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1798:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** 
1799:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /********************************************************************/
1800:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** /* Functon name : clk_monitor_0
1801:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1802:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * This function simply enables or disables the OSC 0 clock monitor. This is
1803:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * achieved by setting or clearing the MCG_C6[CME] bit. It is recommended to  
1804:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * enable this monitor in external clock modes (FEE, FBE, BLPE, PBE and PEE.
1805:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * It MUST be disabled in all other modes or a reset may be generated. It must
1806:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * also be disabled if it is desired to enter VLPR from BLPE mode.
1807:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1808:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Parameters: en_dis - enables (= 1) or disables (= 0) the OSC 0 clock monitor
1809:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  *
1810:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  * Return value : none
1811:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****  */
1812:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** void clk_monitor_0(unsigned char en_dis)
1813:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** {         
 7967              		.loc 1 1813 0
 7968              		.cfi_startproc
 7969 0000 80B5     		push	{r7, lr}
 7970              	.LCFI77:
 7971              		.cfi_def_cfa_offset 8
 7972              		.cfi_offset 7, -8
 7973              		.cfi_offset 14, -4
 7974 0002 82B0     		sub	sp, sp, #8
 7975              	.LCFI78:
 7976              		.cfi_def_cfa_offset 16
 7977 0004 00AF     		add	r7, sp, #0
 7978              	.LCFI79:
 7979              		.cfi_def_cfa_register 7
 7980 0006 021C     		mov	r2, r0
 7981 0008 FB1D     		add	r3, r7, #7
 7982 000a 1A70     		strb	r2, [r3]
1814:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   if (en_dis)
 7983              		.loc 1 1814 0
 7984 000c FB1D     		add	r3, r7, #7
 7985 000e 1B78     		ldrb	r3, [r3]
 7986 0010 002B     		cmp	r3, #0
 7987 0012 08D0     		beq	.L611
1815:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1816:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     MCG_C6 |= MCG_C6_CME0_MASK;   
 7988              		.loc 1 1816 0
 7989 0014 094B     		ldr	r3, .L613
 7990 0016 094A     		ldr	r2, .L613
 7991 0018 5279     		ldrb	r2, [r2, #5]
 7992 001a D2B2     		uxtb	r2, r2
 7993 001c 2021     		mov	r1, #32
 7994 001e 0A43     		orr	r2, r1
 7995 0020 D2B2     		uxtb	r2, r2
 7996 0022 5A71     		strb	r2, [r3, #5]
 7997 0024 07E0     		b	.L610
 7998              	.L611:
1817:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1818:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   else
1819:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   {
1820:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****     MCG_C6 &= ~MCG_C6_CME0_MASK;
 7999              		.loc 1 1820 0
 8000 0026 054B     		ldr	r3, .L613
 8001 0028 044A     		ldr	r2, .L613
 8002 002a 5279     		ldrb	r2, [r2, #5]
 8003 002c D2B2     		uxtb	r2, r2
 8004 002e 2021     		mov	r1, #32
 8005 0030 8A43     		bic	r2, r1
 8006 0032 D2B2     		uxtb	r2, r2
 8007 0034 5A71     		strb	r2, [r3, #5]
 8008              	.L610:
1821:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c ****   }
1822:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/mcg\mcg.c **** }    // end clk_monitor_0
 8009              		.loc 1 1822 0
 8010 0036 BD46     		mov	sp, r7
 8011 0038 02B0     		add	sp, sp, #8
 8012              		@ sp needed for prologue
 8013 003a 80BD     		pop	{r7, pc}
 8014              	.L614:
 8015              		.align	2
 8016              	.L613:
 8017 003c 00400640 		.word	1074151424
 8018              		.cfi_endproc
 8019              	.LFE26:
 8021              		.text
 8022              	.Letext0:
 8023              		.file 2 "C:/Freescale/CW MCU v10.4/MCU/ARM_GCC_Support/ewl/EWL_C/include/cstdint"
 8024              		.file 3 "C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/cpu/headers/MKL46Z4.
DEFINED SYMBOLS
                            *ABS*:00000000 mcg.c
                            *COM*:00000001 drs_val
                            *COM*:00000001 dmx32_val
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:21     .text.pll_init:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:26     .text.pll_init:00000000 pll_init
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:551    .text.pll_init:00000324 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:569    .text.pll_init:00000364 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:860    .text.pll_init:0000053c $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:867    .text.pee_pbe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:872    .text.pee_pbe:00000000 pee_pbe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:997    .text.pee_pbe:000000a8 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1003   .text.pbe_pee:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1008   .text.pbe_pee:00000000 pbe_pee
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1223   .text.pbe_pee:0000013c $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1229   .text.pbe_fbe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1234   .text.pbe_fbe:00000000 pbe_fbe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1363   .text.pbe_fbe:000000ac $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1369   .text.fbe_pbe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1374   .text.fbe_pbe:00000000 fbe_pbe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1714   .text.fbe_pbe:00000208 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1724   .text.pbe_blpe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1729   .text.pbe_blpe:00000000 pbe_blpe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1808   .text.pbe_blpe:00000064 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1813   .text.blpe_pbe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:1818   .text.blpe_pbe:00000000 blpe_pbe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2130   .text.blpe_pbe:000001dc $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2138   .text.blpe_fbe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2143   .text.blpe_fbe:00000000 blpe_fbe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2272   .text.blpe_fbe:000000b0 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2278   .text.fbe_blpe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2283   .text.fbe_blpe:00000000 fbe_blpe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2362   .text.fbe_blpe:00000064 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2367   .text.fbe_fei:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2372   .text.fbe_fei:00000000 fbe_fei
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7305   .text.fll_freq:00000000 fll_freq
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2612   .text.fbe_fei:00000158 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2620   .text.fei_fbe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:2625   .text.fei_fbe:00000000 fei_fbe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3110   .text.fei_fbe:000002e4 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3128   .text.fbe_fee:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3133   .text.fbe_fee:00000000 fbe_fee
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3333   .text.fbe_fee:00000130 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3339   .text.fee_fbe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3344   .text.fee_fbe:00000000 fee_fbe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3468   .text.fee_fbe:000000a8 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3474   .text.fbe_fbi:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3479   .text.fbe_fbi:00000000 fbe_fbi
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3889   .text.fbe_fbi:00000260 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3899   .text.fbi_fbe:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:3904   .text.fbi_fbe:00000000 fbi_fbe
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4399   .text.fbi_fbe:000002f4 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4417   .text.fbi_blpi:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4422   .text.fbi_blpi:00000000 fbi_blpi
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4532   .text.fbi_blpi:0000009c $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4537   .text.blpi_fbi:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4542   .text.blpi_fbi:00000000 blpi_fbi
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4652   .text.blpi_fbi:0000009c $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4657   .text.fbi_fee:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:4662   .text.fbi_fee:00000000 fbi_fee
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5184   .text.fbi_fee:0000032c $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5200   .text.fbi_fee:00000364 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5220   .text.fbi_fee:00000380 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5225   .text.fee_fbi:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5230   .text.fee_fbi:00000000 fee_fbi
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5609   .text.fee_fbi:0000022c $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5619   .text.fbi_fei:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5624   .text.fbi_fei:00000000 fbi_fei
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5862   .text.fbi_fei:00000154 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5870   .text.fei_fbi:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:5875   .text.fei_fbi:00000000 fei_fbi
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6216   .text.fei_fbi:000001f8 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6226   .text.fei_fee:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6231   .text.fei_fee:00000000 fei_fee
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6692   .text.fei_fee:000002c4 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6710   .text.fee_fei:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6715   .text.fee_fei:00000000 fee_fei
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6872   .text.fee_fei:000000d8 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6885   .text.atc:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:6890   .text.atc:00000000 atc
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7642   .text.what_mcg_mode:00000000 what_mcg_mode
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7285   .text.atc:00000280 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7300   .text.fll_freq:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7622   .text.fll_freq:000001ac $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7637   .text.what_mcg_mode:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7955   .text.what_mcg_mode:000001d0 $d
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7960   .text.clk_monitor_0:00000000 $t
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:7965   .text.clk_monitor_0:00000000 clk_monitor_0
C:\Users\b01252\AppData\Local\Temp\ccIPYyMh.s:8017   .text.clk_monitor_0:0000003c $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
__aeabi_idiv
__aeabi_uidiv
__aeabi_i2f
__aeabi_fdiv
__aeabi_fmul
__aeabi_f2uiz
