   1              		.cpu cortex-m0
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 6
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.code	16
  13              		.file	"uart.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.global	__aeabi_idiv
  18              		.section	.text.uart_init,"ax",%progbits
  19              		.align	2
  20              		.global	uart_init
  21              		.code	16
  22              		.thumb_func
  24              	uart_init:
  25              	.LFB0:
  26              		.file 1 "C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart/uart.c"
   1:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
   2:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * File:        uart.c
   3:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Purpose:     Provide common uart routines for serial IO
   4:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
   5:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Notes:       
   6:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *              
   7:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */
   8:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
   9:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** #include "common.h"
  10:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** #include "uart.h"
  11:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** #include <stdarg.h>
  12:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
  13:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
  14:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
  15:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Initialize the uart for 8N1 operation, interrupts disabled, and
  16:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * no hardware flow-control
  17:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
  18:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * NOTE: Since the uarts are pinned out in multiple locations on most
  19:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *       Kinetis devices, this driver does not enable uart pin functions.
  20:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *       The desired pins should be enabled before calling this init function.
  21:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
  22:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Parameters:
  23:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  uartch      uart channel to initialize
  24:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  sysclk      uart module Clock in kHz(used to calculate baud)
  25:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  baud        uart baud rate
  26:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */
  27:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** void uart_init (UART_MemMapPtr uartch, int sysclk, int baud)
  28:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
  27              		.loc 1 28 0
  28              		.cfi_startproc
  29 0000 90B5     		push	{r4, r7, lr}
  30              	.LCFI0:
  31              		.cfi_def_cfa_offset 12
  32              		.cfi_offset 4, -12
  33              		.cfi_offset 7, -8
  34              		.cfi_offset 14, -4
  35 0002 87B0     		sub	sp, sp, #28
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 40
  38 0004 00AF     		add	r7, sp, #0
  39              	.LCFI2:
  40              		.cfi_def_cfa_register 7
  41 0006 F860     		str	r0, [r7, #12]
  42 0008 B960     		str	r1, [r7, #8]
  43 000a 7A60     		str	r2, [r7, #4]
  29:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     register uint16 sbr;
  30:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint8 temp;
  31:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****                                 
  32:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****          
  33:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       if (uartch == UART1_BASE_PTR)
  44              		.loc 1 33 0
  45 000c FA68     		ldr	r2, [r7, #12]
  46 000e 294B     		ldr	r3, .L4
  47 0010 9A42     		cmp	r2, r3
  48 0012 09D1     		bne	.L2
  34:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         SIM_SCGC4 |= SIM_SCGC4_UART1_MASK;
  49              		.loc 1 34 0
  50 0014 284A     		ldr	r2, .L4+4
  51 0016 2849     		ldr	r1, .L4+4
  52 0018 284B     		ldr	r3, .L4+8
  53 001a CB58     		ldr	r3, [r1, r3]
  54 001c 8021     		mov	r1, #128
  55 001e 0901     		lsl	r1, r1, #4
  56 0020 1943     		orr	r1, r3
  57 0022 264B     		ldr	r3, .L4+8
  58 0024 D150     		str	r1, [r2, r3]
  59 0026 08E0     		b	.L3
  60              	.L2:
  35:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       else
  36:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     	SIM_SCGC4 |= SIM_SCGC4_UART2_MASK;
  61              		.loc 1 36 0
  62 0028 234A     		ldr	r2, .L4+4
  63 002a 2349     		ldr	r1, .L4+4
  64 002c 234B     		ldr	r3, .L4+8
  65 002e CB58     		ldr	r3, [r1, r3]
  66 0030 8021     		mov	r1, #128
  67 0032 4901     		lsl	r1, r1, #5
  68 0034 1943     		orr	r1, r3
  69 0036 214B     		ldr	r3, .L4+8
  70 0038 D150     		str	r1, [r2, r3]
  71              	.L3:
  37:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Make sure that the transmitter and receiver are disabled while we 
  38:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****        * change settings.
  39:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****        */
  40:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       UART_C2_REG(uartch) &= ~(UART_C2_TE_MASK
  72              		.loc 1 40 0
  73 003a FB68     		ldr	r3, [r7, #12]
  74 003c DB78     		ldrb	r3, [r3, #3]
  75 003e DBB2     		uxtb	r3, r3
  76 0040 0C22     		mov	r2, #12
  77 0042 9343     		bic	r3, r2
  78 0044 DAB2     		uxtb	r2, r3
  79 0046 FB68     		ldr	r3, [r7, #12]
  80 0048 DA70     		strb	r2, [r3, #3]
  41:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 				| UART_C2_RE_MASK );
  42:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
  43:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Configure the uart for 8-bit mode, no parity */
  44:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       UART_C1_REG(uartch) = 0;	/* We need all default settings, so entire register is cleared */
  81              		.loc 1 44 0
  82 004a FB68     		ldr	r3, [r7, #12]
  83 004c 0022     		mov	r2, #0
  84 004e 9A70     		strb	r2, [r3, #2]
  45:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
  46:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Calculate baud settings */
  47:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       sbr = (uint16)((sysclk*1000)/(baud * 16));
  85              		.loc 1 47 0
  86 0050 BB68     		ldr	r3, [r7, #8]
  87 0052 FA22     		mov	r2, #250
  88 0054 9200     		lsl	r2, r2, #2
  89 0056 5A43     		mul	r2, r3
  90 0058 7B68     		ldr	r3, [r7, #4]
  91 005a 1B01     		lsl	r3, r3, #4
  92 005c 101C     		mov	r0, r2
  93 005e 191C     		mov	r1, r3
  94 0060 FFF7FEFF 		bl	__aeabi_idiv
  95 0064 031C     		mov	r3, r0
  96 0066 9CB2     		uxth	r4, r3
  48:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
  49:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Save off the current value of the uartx_BDH except for the SBR field */
  50:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       temp = UART_BDH_REG(uartch) & ~(UART_BDH_SBR(0x1F));
  97              		.loc 1 50 0
  98 0068 FB68     		ldr	r3, [r7, #12]
  99 006a 1B78     		ldrb	r3, [r3]
 100 006c DAB2     		uxtb	r2, r3
 101 006e 3B1C     		mov	r3, r7
 102 0070 1733     		add	r3, r3, #23
 103 0072 1F21     		mov	r1, #31
 104 0074 8A43     		bic	r2, r1
 105 0076 1A70     		strb	r2, [r3]
  51:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
  52:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       UART_BDH_REG(uartch) = temp |  UART_BDH_SBR(((sbr & 0x1F00) >> 8));
 106              		.loc 1 52 0
 107 0078 221C     		mov	r2, r4
 108 007a F823     		mov	r3, #248
 109 007c 5B01     		lsl	r3, r3, #5
 110 007e 1340     		and	r3, r2
 111 0080 1B12     		asr	r3, r3, #8
 112 0082 DAB2     		uxtb	r2, r3
 113 0084 1F23     		mov	r3, #31
 114 0086 1340     		and	r3, r2
 115 0088 DAB2     		uxtb	r2, r3
 116 008a 3B1C     		mov	r3, r7
 117 008c 1733     		add	r3, r3, #23
 118 008e 1B78     		ldrb	r3, [r3]
 119 0090 1343     		orr	r3, r2
 120 0092 DAB2     		uxtb	r2, r3
 121 0094 FB68     		ldr	r3, [r7, #12]
 122 0096 1A70     		strb	r2, [r3]
  53:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       UART_BDL_REG(uartch) = (uint8)(sbr & UART_BDL_SBR_MASK);
 123              		.loc 1 53 0
 124 0098 E2B2     		uxtb	r2, r4
 125 009a FB68     		ldr	r3, [r7, #12]
 126 009c 5A70     		strb	r2, [r3, #1]
  54:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   
  55:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Enable receiver and transmitter */
  56:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       UART_C2_REG(uartch) |= (UART_C2_TE_MASK
 127              		.loc 1 56 0
 128 009e FB68     		ldr	r3, [r7, #12]
 129 00a0 DB78     		ldrb	r3, [r3, #3]
 130 00a2 DBB2     		uxtb	r3, r3
 131 00a4 0C22     		mov	r2, #12
 132 00a6 1343     		orr	r3, r2
 133 00a8 DAB2     		uxtb	r2, r3
 134 00aa FB68     		ldr	r3, [r7, #12]
 135 00ac DA70     		strb	r2, [r3, #3]
  57:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 	    		  | UART_C2_RE_MASK );
  58:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
  59:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 136              		.loc 1 59 0
 137 00ae BD46     		mov	sp, r7
 138 00b0 07B0     		add	sp, sp, #28
 139              		@ sp needed for prologue
 140 00b2 90BD     		pop	{r4, r7, pc}
 141              	.L5:
 142              		.align	2
 143              	.L4:
 144 00b4 00B00640 		.word	1074180096
 145 00b8 00700440 		.word	1074032640
 146 00bc 34100000 		.word	4148
 147              		.cfi_endproc
 148              	.LFE0:
 150              		.section	.text.uart_getchar,"ax",%progbits
 151              		.align	2
 152              		.global	uart_getchar
 153              		.code	16
 154              		.thumb_func
 156              	uart_getchar:
 157              	.LFB1:
  60:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
  61:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
  62:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Wait for a character to be received on the specified uart
  63:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
  64:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Parameters:
  65:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  channel      uart channel to read from
  66:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
  67:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Return Values:
  68:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  the received character
  69:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */
  70:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** char uart_getchar (UART_MemMapPtr channel)
  71:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 158              		.loc 1 71 0
 159              		.cfi_startproc
 160 0000 80B5     		push	{r7, lr}
 161              	.LCFI3:
 162              		.cfi_def_cfa_offset 8
 163              		.cfi_offset 7, -8
 164              		.cfi_offset 14, -4
 165 0002 82B0     		sub	sp, sp, #8
 166              	.LCFI4:
 167              		.cfi_def_cfa_offset 16
 168 0004 00AF     		add	r7, sp, #0
 169              	.LCFI5:
 170              		.cfi_def_cfa_register 7
 171 0006 7860     		str	r0, [r7, #4]
  72:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Wait until character has been received */
  73:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       while (!(UART_S1_REG(channel) & UART_S1_RDRF_MASK));
 172              		.loc 1 73 0
 173 0008 C046     		mov	r8, r8
 174              	.L7:
 175              		.loc 1 73 0 is_stmt 0
 176 000a 7B68     		ldr	r3, [r7, #4]
 177 000c 1B79     		ldrb	r3, [r3, #4]
 178 000e DBB2     		uxtb	r3, r3
 179 0010 1A1C     		mov	r2, r3
 180 0012 2023     		mov	r3, #32
 181 0014 1340     		and	r3, r2
 182 0016 F8D0     		beq	.L7
  74:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
  75:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Return the 8-bit data from the receiver */
  76:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       return UART_D_REG(channel);
 183              		.loc 1 76 0 is_stmt 1
 184 0018 7B68     		ldr	r3, [r7, #4]
 185 001a DB79     		ldrb	r3, [r3, #7]
 186 001c DBB2     		uxtb	r3, r3
  77:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 187              		.loc 1 77 0
 188 001e 181C     		mov	r0, r3
 189 0020 BD46     		mov	sp, r7
 190 0022 02B0     		add	sp, sp, #8
 191              		@ sp needed for prologue
 192 0024 80BD     		pop	{r7, pc}
 193              		.cfi_endproc
 194              	.LFE1:
 196 0026 C046     		.section	.text.uart_putchar,"ax",%progbits
 197              		.align	2
 198              		.global	uart_putchar
 199              		.code	16
 200              		.thumb_func
 202              	uart_putchar:
 203              	.LFB2:
  78:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
  79:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
  80:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Wait for space in the uart Tx FIFO and then send a character
  81:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
  82:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Parameters:
  83:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  channel      uart channel to send to
  84:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  ch			 character to send
  85:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */ 
  86:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** void uart_putchar (UART_MemMapPtr channel, char ch)
  87:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 204              		.loc 1 87 0
 205              		.cfi_startproc
 206 0000 80B5     		push	{r7, lr}
 207              	.LCFI6:
 208              		.cfi_def_cfa_offset 8
 209              		.cfi_offset 7, -8
 210              		.cfi_offset 14, -4
 211 0002 82B0     		sub	sp, sp, #8
 212              	.LCFI7:
 213              		.cfi_def_cfa_offset 16
 214 0004 00AF     		add	r7, sp, #0
 215              	.LCFI8:
 216              		.cfi_def_cfa_register 7
 217 0006 7860     		str	r0, [r7, #4]
 218 0008 0A1C     		mov	r2, r1
 219 000a FB1C     		add	r3, r7, #3
 220 000c 1A70     		strb	r2, [r3]
  88:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Wait until space is available in the FIFO */
  89:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       while(!(UART_S1_REG(channel) & UART_S1_TDRE_MASK));
 221              		.loc 1 89 0
 222 000e C046     		mov	r8, r8
 223              	.L10:
 224              		.loc 1 89 0 is_stmt 0
 225 0010 7B68     		ldr	r3, [r7, #4]
 226 0012 1B79     		ldrb	r3, [r3, #4]
 227 0014 DBB2     		uxtb	r3, r3
 228 0016 DBB2     		uxtb	r3, r3
 229 0018 5BB2     		sxtb	r3, r3
 230 001a 002B     		cmp	r3, #0
 231 001c F8DA     		bge	.L10
  90:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
  91:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Send the character */
  92:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       UART_D_REG(channel) = (uint8)ch;
 232              		.loc 1 92 0 is_stmt 1
 233 001e 7B68     		ldr	r3, [r7, #4]
 234 0020 FA1C     		add	r2, r7, #3
 235 0022 1278     		ldrb	r2, [r2]
 236 0024 DA71     		strb	r2, [r3, #7]
  93:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
  94:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  }
 237              		.loc 1 94 0
 238 0026 BD46     		mov	sp, r7
 239 0028 02B0     		add	sp, sp, #8
 240              		@ sp needed for prologue
 241 002a 80BD     		pop	{r7, pc}
 242              		.cfi_endproc
 243              	.LFE2:
 245              		.section	.text.uart_getchar_present,"ax",%progbits
 246              		.align	2
 247              		.global	uart_getchar_present
 248              		.code	16
 249              		.thumb_func
 251              	uart_getchar_present:
 252              	.LFB3:
  95:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
  96:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
  97:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Check to see if a character has been received
  98:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
  99:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Parameters:
 100:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  channel      uart channel to check for a character
 101:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
 102:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Return values:
 103:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  0       No character received
 104:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  1       Character has been received
 105:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */
 106:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** int uart_getchar_present (UART_MemMapPtr channel)
 107:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 253              		.loc 1 107 0
 254              		.cfi_startproc
 255 0000 80B5     		push	{r7, lr}
 256              	.LCFI9:
 257              		.cfi_def_cfa_offset 8
 258              		.cfi_offset 7, -8
 259              		.cfi_offset 14, -4
 260 0002 82B0     		sub	sp, sp, #8
 261              	.LCFI10:
 262              		.cfi_def_cfa_offset 16
 263 0004 00AF     		add	r7, sp, #0
 264              	.LCFI11:
 265              		.cfi_def_cfa_register 7
 266 0006 7860     		str	r0, [r7, #4]
 108:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     return (UART_S1_REG(channel) & UART_S1_RDRF_MASK);
 267              		.loc 1 108 0
 268 0008 7B68     		ldr	r3, [r7, #4]
 269 000a 1B79     		ldrb	r3, [r3, #4]
 270 000c DBB2     		uxtb	r3, r3
 271 000e 1A1C     		mov	r2, r3
 272 0010 2023     		mov	r3, #32
 273 0012 1340     		and	r3, r2
 109:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 274              		.loc 1 109 0
 275 0014 181C     		mov	r0, r3
 276 0016 BD46     		mov	sp, r7
 277 0018 02B0     		add	sp, sp, #8
 278              		@ sp needed for prologue
 279 001a 80BD     		pop	{r7, pc}
 280              		.cfi_endproc
 281              	.LFE3:
 283              		.section	.text.uart0_init,"ax",%progbits
 284              		.align	2
 285              		.global	uart0_init
 286              		.code	16
 287              		.thumb_func
 289              	uart0_init:
 290              	.LFB4:
 110:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
 111:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
 112:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /***************************************************************************
 113:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Begin UART0 functions
 114:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  **************************************************************************/
 115:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
 116:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
 117:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Initialize the uart for 8N1 operation, interrupts disabled, and
 118:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * no hardware flow-control
 119:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
 120:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * NOTE: Since the uarts are pinned out in multiple locations on most
 121:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *       Kinetis devices, this driver does not enable uart pin functions.
 122:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *       The desired pins should be enabled before calling this init function.
 123:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
 124:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Parameters:
 125:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  uartch      uart channel to initialize
 126:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  sysclk      uart module Clock in kHz(used to calculate baud)
 127:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  baud        uart baud rate
 128:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */
 129:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** void uart0_init (UART0_MemMapPtr uartch, int sysclk, int baud)
 130:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 291              		.loc 1 130 0
 292              		.cfi_startproc
 293 0000 80B5     		push	{r7, lr}
 294              	.LCFI12:
 295              		.cfi_def_cfa_offset 8
 296              		.cfi_offset 7, -8
 297              		.cfi_offset 14, -4
 298 0002 8AB0     		sub	sp, sp, #40
 299              	.LCFI13:
 300              		.cfi_def_cfa_offset 48
 301 0004 00AF     		add	r7, sp, #0
 302              	.LCFI14:
 303              		.cfi_def_cfa_register 7
 304 0006 F860     		str	r0, [r7, #12]
 305 0008 B960     		str	r1, [r7, #8]
 306 000a 7A60     		str	r2, [r7, #4]
 131:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint8 i;
 132:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint32 calculated_baud = 0;
 307              		.loc 1 132 0
 308 000c 0023     		mov	r3, #0
 309 000e 7B62     		str	r3, [r7, #36]
 133:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint32 baud_diff = 0;
 310              		.loc 1 133 0
 311 0010 0023     		mov	r3, #0
 312 0012 3B62     		str	r3, [r7, #32]
 134:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint32 osr_val = 0;
 313              		.loc 1 134 0
 314 0014 0023     		mov	r3, #0
 315 0016 FB61     		str	r3, [r7, #28]
 135:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint32 sbr_val, uart0clk;
 136:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint32 baud_rate;
 137:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint32 reg_temp = 0;
 316              		.loc 1 137 0
 317 0018 0023     		mov	r3, #0
 318 001a BB61     		str	r3, [r7, #24]
 138:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uint32 temp = 0;
 319              		.loc 1 138 0
 320 001c 0023     		mov	r3, #0
 321 001e 7B61     		str	r3, [r7, #20]
 139:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 140:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     SIM_SCGC4 |= SIM_SCGC4_UART0_MASK;
 322              		.loc 1 140 0
 323 0020 194A     		ldr	r2, .L18
 324 0022 1949     		ldr	r1, .L18
 325 0024 194B     		ldr	r3, .L18+4
 326 0026 CB58     		ldr	r3, [r1, r3]
 327 0028 8021     		mov	r1, #128
 328 002a C900     		lsl	r1, r1, #3
 329 002c 1943     		orr	r1, r3
 330 002e 174B     		ldr	r3, .L18+4
 331 0030 D150     		str	r1, [r2, r3]
 141:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 142:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // Disable UART0 before changing registers
 143:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     UART0_C2 &= ~(UART0_C2_TE_MASK | UART0_C2_RE_MASK);
 332              		.loc 1 143 0
 333 0032 174B     		ldr	r3, .L18+8
 334 0034 164A     		ldr	r2, .L18+8
 335 0036 D278     		ldrb	r2, [r2, #3]
 336 0038 D2B2     		uxtb	r2, r2
 337 003a 0C21     		mov	r1, #12
 338 003c 8A43     		bic	r2, r1
 339 003e D2B2     		uxtb	r2, r2
 340 0040 DA70     		strb	r2, [r3, #3]
 144:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   
 145:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // Verify that a valid clock value has been passed to the function 
 146:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     if ((sysclk > 50000) || (sysclk < 32))
 341              		.loc 1 146 0
 342 0042 BA68     		ldr	r2, [r7, #8]
 343 0044 134B     		ldr	r3, .L18+12
 344 0046 9A42     		cmp	r2, r3
 345 0048 02DC     		bgt	.L14
 346              		.loc 1 146 0 is_stmt 0
 347 004a BB68     		ldr	r3, [r7, #8]
 348 004c 1F2B     		cmp	r3, #31
 349 004e 0EDC     		bgt	.L15
 350              	.L14:
 147:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     {
 148:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         sysclk = 0;
 351              		.loc 1 148 0 is_stmt 1
 352 0050 0023     		mov	r3, #0
 353 0052 BB60     		str	r3, [r7, #8]
 149:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp = SIM_SOPT2;
 354              		.loc 1 149 0
 355 0054 0C4A     		ldr	r2, .L18
 356 0056 104B     		ldr	r3, .L18+16
 357 0058 D358     		ldr	r3, [r2, r3]
 358 005a BB61     		str	r3, [r7, #24]
 150:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp &= ~SIM_SOPT2_UART0SRC_MASK;
 359              		.loc 1 150 0
 360 005c BA69     		ldr	r2, [r7, #24]
 361 005e 0F4B     		ldr	r3, .L18+20
 362 0060 1340     		and	r3, r2
 363 0062 BB61     		str	r3, [r7, #24]
 151:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp |= SIM_SOPT2_UART0SRC(0);
 152:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         SIM_SOPT2 = reg_temp;
 364              		.loc 1 152 0
 365 0064 084A     		ldr	r2, .L18
 366 0066 0C4B     		ldr	r3, .L18+16
 367 0068 B969     		ldr	r1, [r7, #24]
 368 006a D150     		str	r1, [r2, r3]
 369              	.L16:
 153:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			
 154:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			  // Enter inifinite loop because the 
 155:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			  // the desired system clock value is 
 156:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			  // invalid!!
 157:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			  while(1)
 158:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 				{}
 370              		.loc 1 158 0
 371 006c FEE7     		b	.L16
 372              	.L15:
 159:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     }
 160:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 161:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // Verify that a valid value has been passed to TERM_PORT_NUM and update
 162:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // uart0_clk_hz accordingly.  Write 0 to TERM_PORT_NUM if an invalid 
 163:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // value has been passed.  
 164:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     if (TERM_PORT_NUM != 0)
 165:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     {
 166:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp = SIM_SOPT2;
 373              		.loc 1 166 0
 374 006e 064A     		ldr	r2, .L18
 375 0070 094B     		ldr	r3, .L18+16
 376 0072 D358     		ldr	r3, [r2, r3]
 377 0074 BB61     		str	r3, [r7, #24]
 167:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp &= ~SIM_SOPT2_UART0SRC_MASK;
 378              		.loc 1 167 0
 379 0076 BA69     		ldr	r2, [r7, #24]
 380 0078 084B     		ldr	r3, .L18+20
 381 007a 1340     		and	r3, r2
 382 007c BB61     		str	r3, [r7, #24]
 168:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp |= SIM_SOPT2_UART0SRC(0);
 169:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         SIM_SOPT2 = reg_temp;
 383              		.loc 1 169 0
 384 007e 024A     		ldr	r2, .L18
 385 0080 054B     		ldr	r3, .L18+16
 386 0082 B969     		ldr	r1, [r7, #24]
 387 0084 D150     		str	r1, [r2, r3]
 388              	.L17:
 170:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			
 171:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			  // Enter inifinite loop because the 
 172:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			  // the desired terminal port number 
 173:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			  // invalid!!
 174:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 			  while(1)
 175:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 				{}
 389              		.loc 1 175 0
 390 0086 FEE7     		b	.L17
 391              	.L19:
 392              		.align	2
 393              	.L18:
 394 0088 00700440 		.word	1074032640
 395 008c 34100000 		.word	4148
 396 0090 00A00640 		.word	1074176000
 397 0094 50C30000 		.word	50000
 398 0098 04100000 		.word	4100
 399 009c FFFFFFF3 		.word	-201326593
 400              		.cfi_endproc
 401              	.LFE4:
 403              		.section	.text.uart0_getchar,"ax",%progbits
 404              		.align	2
 405              		.global	uart0_getchar
 406              		.code	16
 407              		.thumb_func
 409              	uart0_getchar:
 410              	.LFB5:
 176:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     }
 177:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 178:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 179:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 180:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // Initialize baud rate
 181:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     baud_rate = baud;
 182:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 183:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // Change units to Hz
 184:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     uart0clk = sysclk * 1000;
 185:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // Calculate the first baud rate using the lowest OSR value possible.  
 186:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     i = 4;
 187:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     sbr_val = (uint32)(uart0clk/(baud_rate * i));
 188:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     calculated_baud = (uart0clk / (i * sbr_val));
 189:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
 190:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     if (calculated_baud > baud_rate)
 191:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         baud_diff = calculated_baud - baud_rate;
 192:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     else
 193:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         baud_diff = baud_rate - calculated_baud;
 194:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 195:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     osr_val = i;
 196:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
 197:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     // Select the best OSR value
 198:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     for (i = 5; i <= 32; i++)
 199:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     {
 200:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         sbr_val = (uint32)(uart0clk/(baud_rate * i));
 201:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         calculated_baud = (uart0clk / (i * sbr_val));
 202:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
 203:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         if (calculated_baud > baud_rate)
 204:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****             temp = calculated_baud - baud_rate;
 205:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         else
 206:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****             temp = baud_rate - calculated_baud;
 207:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
 208:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         if (temp <= baud_diff)
 209:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         {
 210:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****             baud_diff = temp;
 211:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****             osr_val = i; 
 212:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         }
 213:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     }
 214:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 215:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     if (baud_diff < ((baud_rate / 100) * 3))
 216:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     {
 217:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         // If the OSR is between 4x and 8x then both
 218:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         // edge sampling MUST be turned on.  
 219:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         if ((osr_val >3) && (osr_val < 9))
 220:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****             UART0_C5|= UART0_C5_BOTHEDGE_MASK;
 221:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
 222:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         // Setup OSR value 
 223:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp = UART0_C4;
 224:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp &= ~UART0_C4_OSR_MASK;
 225:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp |= UART0_C4_OSR(osr_val-1);
 226:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 227:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         // Write reg_temp to C4 register
 228:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         UART0_C4 = reg_temp;
 229:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
 230:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp = (reg_temp & UART0_C4_OSR_MASK) + 1;
 231:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         sbr_val = (uint32)((uart0clk)/(baud_rate * (reg_temp)));
 232:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
 233:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****          /* Save off the current value of the uartx_BDH except for the SBR field */
 234:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         reg_temp = UART0_BDH & ~(UART0_BDH_SBR(0x1F));
 235:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****    
 236:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         UART0_BDH = reg_temp |  UART0_BDH_SBR(((sbr_val & 0x1F00) >> 8));
 237:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         UART0_BDL = (uint8)(sbr_val & UART0_BDL_SBR_MASK);
 238:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         
 239:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         /* Enable receiver and transmitter */
 240:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         UART0_C2 |= (UART0_C2_TE_MASK
 241:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****                     | UART0_C2_RE_MASK );
 242:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     }
 243:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     else
 244:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 		{
 245:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         // Unacceptable baud rate difference
 246:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         // More than 3% difference!!
 247:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         // Enter infinite loop!
 248:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****         while(1)
 249:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 				{}
 250:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 		}					
 251:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 252:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 253:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
 254:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
 255:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Wait for a character to be received on the specified uart
 256:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
 257:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Parameters:
 258:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  channel      uart channel to read from
 259:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
 260:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Return Values:
 261:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  the received character
 262:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */
 263:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** char uart0_getchar (UART0_MemMapPtr channel)
 264:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 411              		.loc 1 264 0
 412              		.cfi_startproc
 413 0000 80B5     		push	{r7, lr}
 414              	.LCFI15:
 415              		.cfi_def_cfa_offset 8
 416              		.cfi_offset 7, -8
 417              		.cfi_offset 14, -4
 418 0002 82B0     		sub	sp, sp, #8
 419              	.LCFI16:
 420              		.cfi_def_cfa_offset 16
 421 0004 00AF     		add	r7, sp, #0
 422              	.LCFI17:
 423              		.cfi_def_cfa_register 7
 424 0006 7860     		str	r0, [r7, #4]
 265:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Wait until character has been received */
 266:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       while (!(UART0_S1_REG(channel) & UART0_S1_RDRF_MASK));
 425              		.loc 1 266 0
 426 0008 C046     		mov	r8, r8
 427              	.L21:
 428              		.loc 1 266 0 is_stmt 0
 429 000a 7B68     		ldr	r3, [r7, #4]
 430 000c 1B79     		ldrb	r3, [r3, #4]
 431 000e DBB2     		uxtb	r3, r3
 432 0010 1A1C     		mov	r2, r3
 433 0012 2023     		mov	r3, #32
 434 0014 1340     		and	r3, r2
 435 0016 F8D0     		beq	.L21
 267:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 268:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Return the 8-bit data from the receiver */
 269:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       return UART0_D_REG(channel);
 436              		.loc 1 269 0 is_stmt 1
 437 0018 7B68     		ldr	r3, [r7, #4]
 438 001a DB79     		ldrb	r3, [r3, #7]
 439 001c DBB2     		uxtb	r3, r3
 270:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 440              		.loc 1 270 0
 441 001e 181C     		mov	r0, r3
 442 0020 BD46     		mov	sp, r7
 443 0022 02B0     		add	sp, sp, #8
 444              		@ sp needed for prologue
 445 0024 80BD     		pop	{r7, pc}
 446              		.cfi_endproc
 447              	.LFE5:
 449 0026 C046     		.section	.text.uart0_putchar,"ax",%progbits
 450              		.align	2
 451              		.global	uart0_putchar
 452              		.code	16
 453              		.thumb_func
 455              	uart0_putchar:
 456              	.LFB6:
 271:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
 272:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
 273:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Wait for space in the uart Tx FIFO and then send a character
 274:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
 275:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Parameters:
 276:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  channel      uart channel to send to
 277:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  ch			 character to send
 278:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */ 
 279:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** void uart0_putchar (UART0_MemMapPtr channel, char ch)
 280:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 457              		.loc 1 280 0
 458              		.cfi_startproc
 459 0000 80B5     		push	{r7, lr}
 460              	.LCFI18:
 461              		.cfi_def_cfa_offset 8
 462              		.cfi_offset 7, -8
 463              		.cfi_offset 14, -4
 464 0002 82B0     		sub	sp, sp, #8
 465              	.LCFI19:
 466              		.cfi_def_cfa_offset 16
 467 0004 00AF     		add	r7, sp, #0
 468              	.LCFI20:
 469              		.cfi_def_cfa_register 7
 470 0006 7860     		str	r0, [r7, #4]
 471 0008 0A1C     		mov	r2, r1
 472 000a FB1C     		add	r3, r7, #3
 473 000c 1A70     		strb	r2, [r3]
 281:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Wait until space is available in the FIFO */
 282:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       while(!(UART0_S1_REG(channel) & UART0_S1_TDRE_MASK));
 474              		.loc 1 282 0
 475 000e C046     		mov	r8, r8
 476              	.L24:
 477              		.loc 1 282 0 is_stmt 0
 478 0010 7B68     		ldr	r3, [r7, #4]
 479 0012 1B79     		ldrb	r3, [r3, #4]
 480 0014 DBB2     		uxtb	r3, r3
 481 0016 DBB2     		uxtb	r3, r3
 482 0018 5BB2     		sxtb	r3, r3
 483 001a 002B     		cmp	r3, #0
 484 001c F8DA     		bge	.L24
 283:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 284:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       /* Send the character */
 285:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****       UART0_D_REG(channel) = (uint8)ch;
 485              		.loc 1 285 0 is_stmt 1
 486 001e 7B68     		ldr	r3, [r7, #4]
 487 0020 FA1C     		add	r2, r7, #3
 488 0022 1278     		ldrb	r2, [r2]
 489 0024 DA71     		strb	r2, [r3, #7]
 286:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     
 287:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  }
 490              		.loc 1 287 0
 491 0026 BD46     		mov	sp, r7
 492 0028 02B0     		add	sp, sp, #8
 493              		@ sp needed for prologue
 494 002a 80BD     		pop	{r7, pc}
 495              		.cfi_endproc
 496              	.LFE6:
 498              		.section	.text.uart0_getchar_present,"ax",%progbits
 499              		.align	2
 500              		.global	uart0_getchar_present
 501              		.code	16
 502              		.thumb_func
 504              	uart0_getchar_present:
 505              	.LFB7:
 288:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
 289:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
 290:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Check to see if a character has been received
 291:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
 292:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Parameters:
 293:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  channel      uart channel to check for a character
 294:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *
 295:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  * Return values:
 296:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  0       No character received
 297:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  *  1       Character has been received
 298:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****  */
 299:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** int uart0_getchar_present (UART0_MemMapPtr channel)
 300:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 506              		.loc 1 300 0
 507              		.cfi_startproc
 508 0000 80B5     		push	{r7, lr}
 509              	.LCFI21:
 510              		.cfi_def_cfa_offset 8
 511              		.cfi_offset 7, -8
 512              		.cfi_offset 14, -4
 513 0002 82B0     		sub	sp, sp, #8
 514              	.LCFI22:
 515              		.cfi_def_cfa_offset 16
 516 0004 00AF     		add	r7, sp, #0
 517              	.LCFI23:
 518              		.cfi_def_cfa_register 7
 519 0006 7860     		str	r0, [r7, #4]
 301:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     return (UART0_S1_REG(channel) & UART0_S1_RDRF_MASK);
 520              		.loc 1 301 0
 521 0008 7B68     		ldr	r3, [r7, #4]
 522 000a 1B79     		ldrb	r3, [r3, #4]
 523 000c DBB2     		uxtb	r3, r3
 524 000e 1A1C     		mov	r2, r3
 525 0010 2023     		mov	r3, #32
 526 0012 1340     		and	r3, r2
 302:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 527              		.loc 1 302 0
 528 0014 181C     		mov	r0, r3
 529 0016 BD46     		mov	sp, r7
 530 0018 02B0     		add	sp, sp, #8
 531              		@ sp needed for prologue
 532 001a 80BD     		pop	{r7, pc}
 533              		.cfi_endproc
 534              	.LFE7:
 536              		.section	.text.__read_console,"ax",%progbits
 537              		.align	2
 538              		.global	__read_console
 539              		.code	16
 540              		.thumb_func
 542              	__read_console:
 543              	.LFB8:
 303:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /********************************************************************/
 304:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
 305:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** #if (defined(CW))
 306:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
 307:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** ** ===================================================================
 308:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **     Method      :  CsIO1___read_console (component ConsoleIO)
 309:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **
 310:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **     Description :
 311:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **         __read_console
 312:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **         This method is internal. It is used by Processor Expert only.
 313:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** ** ===================================================================
 314:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** */
 315:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** int __read_console(__file_handle handle, unsigned char* buffer, size_t * count)
 316:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 544              		.loc 1 316 0
 545              		.cfi_startproc
 546 0000 80B5     		push	{r7, lr}
 547              	.LCFI24:
 548              		.cfi_def_cfa_offset 8
 549              		.cfi_offset 7, -8
 550              		.cfi_offset 14, -4
 551 0002 86B0     		sub	sp, sp, #24
 552              	.LCFI25:
 553              		.cfi_def_cfa_offset 32
 554 0004 00AF     		add	r7, sp, #0
 555              	.LCFI26:
 556              		.cfi_def_cfa_register 7
 557 0006 F860     		str	r0, [r7, #12]
 558 0008 B960     		str	r1, [r7, #8]
 559 000a 7A60     		str	r2, [r7, #4]
 317:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   size_t CharCnt = 0x00;
 560              		.loc 1 317 0
 561 000c 0023     		mov	r3, #0
 562 000e 7B61     		str	r3, [r7, #20]
 318:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
 319:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   (void)handle;                        /* Parameter is not used, suppress unused argument warning *
 320:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   if (TERM_PORT_NUM == 0)
 321:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 	  *buffer = (unsigned char)uart0_getchar(UART0_BASE_PTR);
 322:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   else if (TERM_PORT_NUM == 1)
 323:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 	  *buffer = (unsigned char)uart_getchar(UART1_BASE_PTR);
 324:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   else
 325:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 	  *buffer = (unsigned char)uart_getchar(UART2_BASE_PTR);
 563              		.loc 1 325 0
 564 0010 084B     		ldr	r3, .L29
 565 0012 181C     		mov	r0, r3
 566 0014 FFF7FEFF 		bl	uart_getchar
 567 0018 031C     		mov	r3, r0
 568 001a 1A1C     		mov	r2, r3
 569 001c BB68     		ldr	r3, [r7, #8]
 570 001e 1A70     		strb	r2, [r3]
 326:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   CharCnt = 1;                         /* Increase char counter */
 571              		.loc 1 326 0
 572 0020 0123     		mov	r3, #1
 573 0022 7B61     		str	r3, [r7, #20]
 327:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   
 328:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   *count = CharCnt;
 574              		.loc 1 328 0
 575 0024 7B68     		ldr	r3, [r7, #4]
 576 0026 7A69     		ldr	r2, [r7, #20]
 577 0028 1A60     		str	r2, [r3]
 329:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   return (__no_io_error);
 578              		.loc 1 329 0
 579 002a 0023     		mov	r3, #0
 330:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 580              		.loc 1 330 0
 581 002c 181C     		mov	r0, r3
 582 002e BD46     		mov	sp, r7
 583 0030 06B0     		add	sp, sp, #24
 584              		@ sp needed for prologue
 585 0032 80BD     		pop	{r7, pc}
 586              	.L30:
 587              		.align	2
 588              	.L29:
 589 0034 00C00640 		.word	1074184192
 590              		.cfi_endproc
 591              	.LFE8:
 593              		.section	.text.__write_console,"ax",%progbits
 594              		.align	2
 595              		.global	__write_console
 596              		.code	16
 597              		.thumb_func
 599              	__write_console:
 600              	.LFB9:
 331:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
 332:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
 333:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** ** ===================================================================
 334:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **     Method      :  CsIO1___write_console (component ConsoleIO)
 335:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **
 336:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **     Description :
 337:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **         __write_console
 338:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **         This method is internal. It is used by Processor Expert only.
 339:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** ** ===================================================================
 340:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** */
 341:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** int __write_console(__file_handle handle, unsigned char* buffer, size_t* count)
 342:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 601              		.loc 1 342 0
 602              		.cfi_startproc
 603 0000 80B5     		push	{r7, lr}
 604              	.LCFI27:
 605              		.cfi_def_cfa_offset 8
 606              		.cfi_offset 7, -8
 607              		.cfi_offset 14, -4
 608 0002 86B0     		sub	sp, sp, #24
 609              	.LCFI28:
 610              		.cfi_def_cfa_offset 32
 611 0004 00AF     		add	r7, sp, #0
 612              	.LCFI29:
 613              		.cfi_def_cfa_register 7
 614 0006 F860     		str	r0, [r7, #12]
 615 0008 B960     		str	r1, [r7, #8]
 616 000a 7A60     		str	r2, [r7, #4]
 343:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   size_t CharCnt = 0x00;
 617              		.loc 1 343 0
 618 000c 0023     		mov	r3, #0
 619 000e 7B61     		str	r3, [r7, #20]
 344:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
 345:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   (void)handle;                        /* Parameter is not used, suppress unused argument warning *
 346:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   for (;*count > 0x00; --*count) {
 620              		.loc 1 346 0
 621 0010 0FE0     		b	.L32
 622              	.L33:
 347:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     /* Wait until UART is ready for saving a next character into the transmit buffer */
 348:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     out_char((unsigned char)*buffer);
 623              		.loc 1 348 0
 624 0012 BB68     		ldr	r3, [r7, #8]
 625 0014 1B78     		ldrb	r3, [r3]
 626 0016 181C     		mov	r0, r3
 627 0018 FFF7FEFF 		bl	out_char
 349:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     buffer++;                          /* Increase buffer pointer */
 628              		.loc 1 349 0
 629 001c BB68     		ldr	r3, [r7, #8]
 630 001e 0133     		add	r3, r3, #1
 631 0020 BB60     		str	r3, [r7, #8]
 350:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****     CharCnt++;                         /* Increase char counter */
 632              		.loc 1 350 0
 633 0022 7B69     		ldr	r3, [r7, #20]
 634 0024 0133     		add	r3, r3, #1
 635 0026 7B61     		str	r3, [r7, #20]
 346:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   for (;*count > 0x00; --*count) {
 636              		.loc 1 346 0
 637 0028 7B68     		ldr	r3, [r7, #4]
 638 002a 1B68     		ldr	r3, [r3]
 639 002c 5A1E     		sub	r2, r3, #1
 640 002e 7B68     		ldr	r3, [r7, #4]
 641 0030 1A60     		str	r2, [r3]
 642              	.L32:
 346:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   for (;*count > 0x00; --*count) {
 643              		.loc 1 346 0 is_stmt 0
 644 0032 7B68     		ldr	r3, [r7, #4]
 645 0034 1B68     		ldr	r3, [r3]
 646 0036 002B     		cmp	r3, #0
 647 0038 EBD1     		bne	.L33
 351:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   }
 352:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   *count = CharCnt;
 648              		.loc 1 352 0 is_stmt 1
 649 003a 7B68     		ldr	r3, [r7, #4]
 650 003c 7A69     		ldr	r2, [r7, #20]
 651 003e 1A60     		str	r2, [r3]
 353:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   return(__no_io_error);
 652              		.loc 1 353 0
 653 0040 0023     		mov	r3, #0
 354:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 654              		.loc 1 354 0
 655 0042 181C     		mov	r0, r3
 656 0044 BD46     		mov	sp, r7
 657 0046 06B0     		add	sp, sp, #24
 658              		@ sp needed for prologue
 659 0048 80BD     		pop	{r7, pc}
 660              		.cfi_endproc
 661              	.LFE9:
 663 004a C046     		.section	.text.__close_console,"ax",%progbits
 664              		.align	2
 665              		.global	__close_console
 666              		.code	16
 667              		.thumb_func
 669              	__close_console:
 670              	.LFB10:
 355:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** 
 356:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** /*
 357:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** ** ===================================================================
 358:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **     Method      :  CsIO1___close_console (component ConsoleIO)
 359:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **
 360:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **     Description :
 361:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **         __close_console
 362:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** **         This method is internal. It is used by Processor Expert only.
 363:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** ** ===================================================================
 364:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** */
 365:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** int __close_console(__file_handle handle)
 366:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** {
 671              		.loc 1 366 0
 672              		.cfi_startproc
 673 0000 80B5     		push	{r7, lr}
 674              	.LCFI30:
 675              		.cfi_def_cfa_offset 8
 676              		.cfi_offset 7, -8
 677              		.cfi_offset 14, -4
 678 0002 82B0     		sub	sp, sp, #8
 679              	.LCFI31:
 680              		.cfi_def_cfa_offset 16
 681 0004 00AF     		add	r7, sp, #0
 682              	.LCFI32:
 683              		.cfi_def_cfa_register 7
 684 0006 7860     		str	r0, [r7, #4]
 367:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   (void)handle;                        /* Parameter is not used, suppress unused argument warning *
 368:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c ****   return(__no_io_error);
 685              		.loc 1 368 0
 686 0008 0023     		mov	r3, #0
 369:C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/drivers/uart\uart.c **** }
 687              		.loc 1 369 0
 688 000a 181C     		mov	r0, r3
 689 000c BD46     		mov	sp, r7
 690 000e 02B0     		add	sp, sp, #8
 691              		@ sp needed for prologue
 692 0010 80BD     		pop	{r7, pc}
 693              		.cfi_endproc
 694              	.LFE10:
 696 0012 C046     		.text
 697              	.Letext0:
 698              		.file 2 "C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/cpu/arm_cm0.h"
 699              		.file 3 "C:/Freescale/CW MCU v10.4/MCU/ARM_GCC_Support/ewl/EWL_C/include/cstdint"
 700              		.file 4 "C:/Users/b01252/Documents/Freescale/L4K/software/kinetis_kl46_sc/src/cpu/headers/MKL46Z4.
 701              		.file 5 "C:/Freescale/CW MCU v10.4/MCU/ARM_GCC_Support/ewl/EWL_C/include/size_t.h"
 702              		.file 6 "C:/Freescale/CW MCU v10.4/MCU/ARM_GCC_Support/ewl/EWL_C/include/file_struc.h"
DEFINED SYMBOLS
                            *ABS*:00000000 uart.c
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:19     .text.uart_init:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:24     .text.uart_init:00000000 uart_init
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:144    .text.uart_init:000000b4 $d
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:151    .text.uart_getchar:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:156    .text.uart_getchar:00000000 uart_getchar
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:197    .text.uart_putchar:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:202    .text.uart_putchar:00000000 uart_putchar
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:246    .text.uart_getchar_present:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:251    .text.uart_getchar_present:00000000 uart_getchar_present
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:284    .text.uart0_init:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:289    .text.uart0_init:00000000 uart0_init
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:394    .text.uart0_init:00000088 $d
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:404    .text.uart0_getchar:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:409    .text.uart0_getchar:00000000 uart0_getchar
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:450    .text.uart0_putchar:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:455    .text.uart0_putchar:00000000 uart0_putchar
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:499    .text.uart0_getchar_present:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:504    .text.uart0_getchar_present:00000000 uart0_getchar_present
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:537    .text.__read_console:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:542    .text.__read_console:00000000 __read_console
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:589    .text.__read_console:00000034 $d
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:594    .text.__write_console:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:599    .text.__write_console:00000000 __write_console
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:664    .text.__close_console:00000000 $t
C:\Users\b01252\AppData\Local\Temp\cc7vfnX0.s:669    .text.__close_console:00000000 __close_console
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
__aeabi_idiv
out_char
